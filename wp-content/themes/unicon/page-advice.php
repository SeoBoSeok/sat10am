




<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <title>인테리어 견적 신청 - 간편안심인테리어 집닥</title>
  <meta name="description" content="인테리어 비교견적 중개 플랫폼 집닥은 주거유형, 지역정보 등의 최소한의 정보를 입력하시면 인테리어 비교 견적 진행해 드립니다."/>
  <meta name="keywords"
        content="인테리어,리모델링,집수리,셀프인테리어,아파트인테리어,거실인테리어,욕실인테리어,원룸인테리어,신혼집인테리어,욕실인테리어,옥상방수,집수리,조명화장실인테리어,조립식인테리어,단독주택리모델링,주택리모델링,지붕공사,아파트화장실리모델링,신혼인테리어,신혼부부인테리어,작은집인테리어,도배인테리어,욕실리모델링,빌라리모델링,화장실리모델링비용,집닥,zipdoc,카페인테리어,상업인테리어,식당인테리어,상가인테리어,사무실인테리어"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes, viewport-fit=cover">
  
<link rel="canonical" href="../index.html">
<meta name="naver-site-verification" content="af422f50f878e2bb69aa80af3b267cf642c46387"/>
<meta name="google-site-verification" content="l52TZVTLfuKPPzlqVOPU4AhqsTLFi5_h5VKBeHhdbRw" />
<meta name="Author" content="집닥 [http://zipdoc.co.kr/]" />

<meta id="metaContentChange" http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="max-age=86400">

<!-- Site Thumbnail -->
<meta property="fb:app_id" content="186643618459172">
<meta property="og:type" content="website">
<meta id="meta_view_ctr" name="viewport" content="width=device-width, maximum-scale=1, initial-scale=1, user-scalable=0" />














<script type="text/javascript">
    if (document.location.protocol == 'http:'  && 0 < window.location.host.indexOf("localhost") &&  0 < window.location.host.includes("127.0.0.1")) {
        // document.location.href = document.location.href.replace('http:', 'https:');
    }
</script>



<!-- bxslider -->
<link href="https://cf.zipdoc.co.kr/zws/res/assets/plugins/jquery.bxslider/jquery.bxslider.css?v=4.2.12" rel="stylesheet" type="text/css" />
<!-- THEME CSS -->



<!-- Zipdoc style -->


<link href="https://cf.zipdoc.co.kr/zws/res/assets/plugins/jquery.ui/jquery-ui.min.css" rel="stylesheet" type="text/css" />
<link href="../css/font%EF%B9%96v=20200423.css" rel="stylesheet" type="text/css" />
<link href="https://cf.zipdoc.co.kr/zws/res/assets/css/zipdoc_new.css?v=202101131126" rel="stylesheet" type="text/css" />
<link href="https://cf.zipdoc.co.kr/zws/res/assets/css/common.css?v=202101141105" rel="stylesheet" type="text/css" />
<link href="https://cf.zipdoc.co.kr/zws/res/assets/css/common_mobile.css?v=202101141105" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="https://cf.zipdoc.co.kr/zws/res/assets/css/zipdoc_v4.css?v=202101131126"/>
<link rel="stylesheet" href="https://cf.zipdoc.co.kr/zws/res/assets/css/fontawesome-all.min.css" type="text/css">

<!--[if lt IE 9]>
<link href="//cf.zipdoc.co.kr/zws/res/assets/css/zipdoc_ie8cover.css" rel="stylesheet" type="text/css" />
<![endif]-->

<!-- ICO -->

<link rel="apple-touch-icon" sizes="152x152" href="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc/Favicon_iOS_152.png" />
<link rel="shortcut icon" type="image/png" sizes="152x152"  href="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc/Favicon_AOS_152.png">
<link rel="icon" href="https://cf.zipdoc.co.kr/zws/res/favicon_AOS_152.ico" />


<!--[if lte IE 9]><script type="text/javascript" src="//cf.zipdoc.co.kr/zws/res/assets/statics/jquery-1.11.2.min.js"></script><![endif]-->
<!--[if gt IE 9]><script type="text/javascript" src="//cf.zipdoc.co.kr/zws/res/assets/plugins/jquery/jquery-2.1.4.min.js"></script><![endif]-->
<script type="text/javascript" src="https://cf.zipdoc.co.kr/zws/res/assets/plugins/jquery/jquery-2.1.4.min.js"></script>

<!-- bxslider SLIDER -->
<script type="text/javascript" src="https://cf.zipdoc.co.kr/zws/res/assets/plugins/jquery.bxslider/jquery.bxslider.min.js?v=4.2.12"></script>



<!-- JAVASCRIPT FILES -->
<script type="text/javascript">
    var contextPath = "";
    var cdnServicePath='//cf.zipdoc.co.kr/zws/res/';
    var plugin_path = cdnServicePath + "assets/plugins/";
</script>

<script type="text/javascript" src="https://cf.zipdoc.co.kr/zws/res/assets/js/scripts_v35.js"></script>
<!-- Zipdoc Basic -->
<script type="text/javascript" src="https://cf.zipdoc.co.kr/zws/res/assets/js/zipdoc_api_v35.js?v=202012101640"></script>
<script type="text/javascript" >
    var zac = new ZipAjaxController("", '//cf.zipdoc.co.kr/static/',
        'false' );
</script>

<script type="text/javascript" src="https://cf.zipdoc.co.kr/zws/res/assets/js/zipdoc_basic_v35.js?v=202012101640"></script>
<script type="text/javascript" >
    setServiceUrl('//zipdoc.co.kr/');
</script>

<!-- vue.js 추가 -->

<script src="https://cf.zipdoc.co.kr/zws/res/assets/statics/vue.min.js"></script>


<script src="https://cf.zipdoc.co.kr/zws/res/assets/plugins/axios/0.19.0/axios.min.js"></script>

<script src="https://cf.zipdoc.co.kr/zws/res/assets/plugins/hammer.min.js"></script>
<script src="https://cf.zipdoc.co.kr/zws/res/assets/plugins/vue-touch.min.js"></script>
<link rel="stylesheet" href="https://cf.zipdoc.co.kr/zws/res/assets/statics/tiny-slider.css">
<!--[if (lt IE 9)]><script src="//cf.zipdoc.co.kr/zws/res/assets/statics/tiny-slider.helper.ie8.js"></script><![endif]-->

<!-- for kakao login -->
<script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
<script>Kakao.init('505b596a6fb42277c5459bac3f9fe9d8');</script>
<!-- for naver login -->
<script type="text/javascript" src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.0.js?v=2" charset="utf-8"></script>
<!-- for google login -->
<script src="https://apis.google.com/js/api:client.js"></script>
<!-- for facebook login -->
<script>
    window.fbAsyncInit = function () {
        FB.init({
            appId: '186643618459172',
            cookie: true,  // enable cookies to allow the server to access
            xfbml: true,  // parse social plugins on this page
            version: 'v2.8' // use graph api version 2.8
        });
    };

    // Load the SDK asynchronously
    (function (d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s);
        js.id = id;
        js.src = "https://connect.facebook.net/ko_KR/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>

<script>

    function ZWS_USER_INFO (){
        this.isAppUser = false;

        this.zid = '';
        this.zidKey = '';
        this.osType = '';
        this.osVersion = '';
        this.appVersion = '';

        this.sid = 'A01F69845B6A9A9D249F25DE6C39A496';
        this.token = '';
        this.account = '';
        this.member_no = '';
        this.email = '';
        this.account_type = '';

        /* 'NOT_LOGINED' | 'NON_MEMBER_LOGIN' | 'MEMBER_LOGIN' | 'INVALID_USER' | 'APP_USER' */
        this.loginMode = 'NOT_LOGINED';

        this.isLoginUser = function(){
            return this.isNonMemberLoginUser() || this.isMemberLoginUser();
        }
        this.isNonMemberLoginUser = function(){
            return this.loginMode == 'NON_MEMBER_LOGIN';
        }
        this.isSnsLoginUser = function(){
            return this.loginMode == 'MEMBER_LOGIN' && this.account_type && this.account_type != '1';
        }
        this.isMemberLoginUser = function(){
            return this.loginMode == 'MEMBER_LOGIN';
        }
        this.getAxioHeaders = function(){
          if (this.isAppUser) {
            return {
              'App-Version': ZWS_USER.appVersion
              ,'MEMBER-NO': ZWS_USER.member_no
              ,'ZID': ZWS_USER.zid
              ,'ZID-KEY': ZWS_USER.zidKey
            }
          }

        // ,'Pragma': 'no-cache'
            if( this.isMemberLoginUser()){
                return {
                    'ZWS-SID': ZWS_USER.sid
                    ,'ZWS-TOKEN': ZWS_USER.token
                    ,'ZWS-MNO': ZWS_USER.member_no
                    ,'ZWS-USER': encodeURIComponent( ZWS_USER.account )
                    ,'WEB-VERSION' : '202101131126'
                  ,'Pragma': 'no-cache'
                }
            }
            else if ( this.isNonMemberLoginUser() ){
                return {
                    'ZWS-SID': ZWS_USER.sid
                    ,'ZWS-USER': encodeURIComponent( ZWS_USER.account )
                    ,'WEB-VERSION' : '202101131126'
                  ,'Pragma': 'no-cache'
                }
            }
            else {
                return {
                    'ZWS-SID': ZWS_USER.sid
                    ,'WEB-VERSION' : '202101131126'
                  ,'Pragma': 'no-cache'
                }
            }
        }
    }

    var ZWS_USER = new ZWS_USER_INFO();
    
    
    /* WebView App 사용자 확인 */
    
        
        
            ZWS_USER.loginMode = 'NOT_LOGINED';
        
    

    
    zlog( ' LOGIN_MODE : ' +ZWS_USER.loginMode);

    zlog( ' SERVICE_URL : ' +SERVICE_URL);

    var ACS_SERVICE_URL = '//zipdoc.co.kr/';
    zlog( ' ACS_SERVICE_URL : ' +ACS_SERVICE_URL);

    zlog( ZWS_USER.getAxioHeaders() );

    if ( ACS_SERVICE_URL != '//qa.zipdocdev.com/'  ){
        ACS_SERVICE_URL = "//"+window.location.host+"/";
    }


    var zipAxios = axios.create({
        baseURL: ACS_SERVICE_URL
        ,timeout: 10000
        ,headers: ZWS_USER.getAxioHeaders()
    });

    // config.headers['Pragma'] = 'no-cache';
    // config.headers['Cache-Control'] = 'no-cache, no-store';

    var zipInsideAxios = axios.create({
      timeout: 10000
      ,headers: ZWS_USER.getAxioHeaders()
    });

    var zipAxiosGet = axios.create({
        baseURL: ACS_SERVICE_URL
        ,timeout: 10000
        ,headers: ZWS_USER.getAxioHeaders()
    });

    // 하드코딩 : 로그인 되어있을 경우 main 으로 보냄
    if (ZWS_USER && ZWS_USER.isMemberLoginUser()) {
      if (
          window.location.pathname === '/signUp/request/index/page'
          || window.location.pathname === '/signUp/success/index/page'
      ) {
        window.location.href = SERVICE_URL;
      }
    }
</script>


<script type="text/javascript" src="https://cf.zipdoc.co.kr/zws/res/assets/statics/es6-promise.min.js"></script>
<script type="text/javascript" src="https://cf.zipdoc.co.kr/zws/res/assets/statics/es6-promise.auto.min.js"></script>



<script type="text/javascript" src="https://cdn.polyfill.io/v2/polyfill.js?features=es6"></script>

<!-- shop -->
<script type="text/javascript" src="https://cf.zipdoc.co.kr/zws/res/assets/js/shop.js?v=202101131126"></script>

<!--[if lt IE 9]>
<script type="text/javascript" src="//cf.zipdoc.co.kr/zws/res/assets/js/html5shiv.js"></script>
<script type="text/javascript" src="//cf.zipdoc.co.kr/zws/res/assets/js/respond.min.js"></script>
<script type="text/javascript" src="//cf.zipdoc.co.kr/zws/res/assets/js/pie/PIE.js"></script>
<![endif]-->


<script type="text/javascript" src="https://cf.zipdoc.co.kr/zws/res/assets/plugins/jquery.ui/jquery-ui.min.js"></script>
<script src="https://cf.zipdoc.co.kr/zws/res/assets/statics/jquery.scrollTo.min.js"></script>
<script type="text/javascript"  src="https://cf.zipdoc.co.kr/zws/res/assets/js/common_vue.js?v=202012221354"></script>


<script type="text/javascript" src="https://cf.zipdoc.co.kr/zws/res/assets/plugins/lodash/core.min.js?1.8.3"></script>

<!-- 2018-06  google ad tracking code/ fb pixel : 모든 페이지의 head 사이에 있어야 하는 것으로 변경되어 삽입-->
<!-- Google Tag Manager ==> 분석용 -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    ' https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TQ3CFT');</script>
<!-- End Google Tag Manager -->


<!-- Global site tag (gtag.js) - Google AdWords: 966634702 ==>   구글애즈(구글광고) 용도 -->
<!-- script async src="https://www.googletagmanager.com/gtag/js?id=AW-966634702"></script -->

<script>
    window.dataLayer = window.dataLayer || [];
    //function gtag(){dataLayer.push(arguments);}
    function gtag(){}

    gtag('js', new Date());
    gtag('config', 'AW-966634702');
    gtag('config', 'AW-940580019');
</script>

<!-- Facebook Pixel Code : /estimate/success.do 확인하여 견적 전환 체크 -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window,document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '191770264553819');
    fbq('track', 'PageView');
</script>
<noscript>
    <img height="1" width="1" src="https://www.facebook.com/tr?id=191770264553819&amp;ev=PageView&amp;noscript=1"/>
</noscript>
<!-- End Facebook Pixel Code -->

<!--카카오모먼트 광고 방문-->
<script type="text/x-javascript" charset="UTF-8" src="https://t1.daumcdn.net/adfit/static/kp.js"></script>
<script type="text/x-javascript">
    kakaoPixel('7118437644316357490').pageView();
</script>

<!-- 2018.12.20 데이블스크립트 추가 -->
<script> (function(d,a,b,l,e,_) {
    d[b]=d[b]||function(){(d[b].q=d[b].q||[]).push(arguments)};e=a.createElement(l);
    e.async=1;e.charset='utf-8';e.src='//static.dable.io/dist/dablena.min.js';
    _=a.getElementsByTagName(l)[0];_.parentNode.insertBefore(e,_);
})(window,document,'dablena','script');
dablena('init', 'zipdoc.co.kr');
dablena('track', 'PageView');
</script>


<!-- 2019.03.05 Criteo 스크립트 추가 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.10.0/js/md5.min.js"></script>
<script type="text/javascript" src="https://static.criteo.net/js/ld/ld.js" async="true"></script>
<script type="text/javascript">
    function sendCriteoEvent( criteoEvent ){
        try{
            window.criteo_q = window.criteo_q || [];
            window.criteo_q.push(
                { event: "setAccount", account: 57660 },
                { event: ( ZWS_USER.email ? "setHashedEmail" : "setEmail"), email: ( ZWS_USER.email ? ZWS_USER.email : "")  },
                { event: "setSiteType", type: findBroswerType() },
                criteoEvent
            );
        }
        catch(e){
            zlog( e );
        }
    }

</script>

<script>
    function sendAppierProfile(paramObj){}
    function sendAppierEvent(eventName, paramObj){}
</script>

<!-- 2020.01.30 Hotjar Tracking Code for https://qa.zipdocdev.com -->
<script>
     (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1592547,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
</script>

  <link href="https://cf.zipdoc.co.kr/zws/res/assets/css/zipdoc_estimate_v1.css?v=202101131126" rel="stylesheet" type="text/css"/>
  <script src="https://tenping.kr/scripts/cpa/tenping.cpa.V2.min.js"></script>
  <script type="text/javascript" src="../address/selectBox.do.html"></script>
  <script src="https://momentjs.com/downloads/moment.min.js"></script>
  <script src="https://ssl.daumcdn.net/dmaps/map_js_init/postcode.v2.js"></script>
  <script src="https://cf.zipdoc.co.kr/zws/res/assets/js/data/data_estimate_advice_v40.js"></script>
  
  <link rel="stylesheet" type="text/css" href="https://cf.zipdoc.co.kr/zws/res/assets/plugins/swiper/swiper.min.css?v=4.5.0"/>
  <script src="https://cf.zipdoc.co.kr/zws/res/assets/plugins/swiper/swiper.min.js?v=4.5.0"></script>
</head>
<body class="overflow-x-hidden">

<!-- Google Tag Manager (noscript) -->

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TQ3CFT"
                  height="0" width="0" style="display:none;visibility:hidden;"></iframe></noscript>

<!-- End Google Tag Manager (noscript) -->

<iframe src="https://docs.google.com/forms/d/e/1FAIpQLSfoWUiIeEJpB6HcjNjMyySEXzKyniUH-WYvxKzPtv93Ka_dbA/viewform?embedded=true" width="640" height="635" frameborder="0" marginheight="0" marginwidth="0">로드 중…</iframe>


<script>
    var sessionEventDispatcher = new Vue({
        data : function() {
            return {
                eventInfos : {
                    recommend_mobile_email_event : {
                        invoke : false,
                        containsUserInfo : true,
                        eventName : 'showRecommendMobileEmail'
                    },
                    recommend_email_event : {
                        invoke : false,
                        containsUserInfo : true,
                        eventName : 'showRecommendEmail'
                    },
                    withdraw_success_event : {
                        invoke : false,
                        containsUserInfo :  false,
                        eventName : 'withdrawSuccess'
                    }
                }
            }
        },
        methods : {
            fireEventToLoginPopupComponent : function( eventName, containsUserInfo ){
                if( eventBus ){
                    if( containsUserInfo ){
                        
                    }
                    else {
                        eventBus.$emit(eventName);
                    }
                }
            },
            fireEvents : function(){
                for( eventProp in this.eventInfos ){
                    var eventInfo = this.eventInfos[eventProp];
                    if( eventInfo.invoke ){
                        this.fireEventToLoginPopupComponent(eventInfo.eventName, eventInfo.containsUserInfo);
                    }
                }
            }
        },
        created : function(){
			if(!checkMobile()){
				
			}
			else {
                
            }

            
        }
    });
</script>

<script id="popupComponent" type="x/templates">
	<div v-show="visible">
		<div class="_common_popup" ref="popup" :style="setPopupStyle()" :class="customClass">
			<div class="modal-wrapper">
				<slot></slot>
			</div>
		</div>
		<div class="_common_dimm" v-if="visible" @click="closePopup()" :style="setDimmedStyle()"></div>
	</div>
</script>
<script>
	var popupComponent = {
		template: '#popupComponent',
		props: ['visible', 'width', 'height', 'top', 'left', 'mobile', 'mobileWidth', 'mobileHeight', 'order', 'customClass'],
		created: function () {
			eventBus.$on('popupClose', this.closePopup);
		},
		data: function() {
			return {
				originGnbStyle: undefined
			}
		},
		watch: {
			visible: function () {
				if (this.visible) {
					this.originGnbStyle = $('.gnb_area').attr('style');
					this.callDimm();
					return;
				}

				this.originGnbStyle = undefined;
				this.closePopup();
			}
		},
		methods: {
			setPopupStyle: function () {
				var popupStyle = '';
				if (this.width) {
					if (String(this.width).indexOf('%') !== -1) {
						if(this.width === '100%'){
							popupStyle += ' width: ' + this.width + ';';
						}else{
							var width = (this.width.slice(0, 2));
							popupStyle += ' width:' + this.width + ';';
							popupStyle += ' margin-left: -' + ((width*1) / 2) + '%;'
						}
					} else {
						popupStyle += ' width:' + this.width + 'px;';
						popupStyle += ' margin-left: -' + (this.width / 2) + 'px;'
					}
				}
				if (this.height) {
					if (String(this.height).indexOf('%') !== -1) {
						popupStyle += ' height: ' + this.height + ';';
					} else {
						popupStyle += ' height:' + this.height + 'px;';
						popupStyle += ' margin-top: -' + (this.height / 2) + 'px;'
					}
				}
				if (this.top) {
					popupStyle += ' top: ' + this.top + ';';
				}
				if (this.left && this.left !== '') {
					popupStyle += ' left: ' + this.left + ';';
				}

				if (checkMobile()) {
					if (this.mobile === 'true') {
						popupStyle = '';
						if(this.mobileWidth){
							if (String(this.mobileWidth).indexOf('%') !== -1) {
								if(this.mobileWidth === '100%'){
									popupStyle += ' width: ' + this.mobileWidth + ';';
								}else{
									var width = (this.mobileWidth.slice(0, 2));
									popupStyle += ' width:' + this.mobileWidth + ';';
									popupStyle += ' margin-left: -' + ((width*1) / 2) + '%;'
								}
							} else {
								popupStyle += ' width:' + this.mobileWidth + 'px;';
								popupStyle += ' margin-left: -' + (this.mobileWidth / 2) + 'px;'
							}
						}
						if(this.mobileHeight){
							if (String(this.mobileHeight).indexOf('%') !== -1) {
								popupStyle += ' height: ' + this.mobileHeight + ';';
							} else {
								popupStyle += ' height:' + this.mobileHeight + 'px;';
								popupStyle += ' margin-top: -' + (this.mobileHeight / 2) + 'px;'
							}
						}
						if(!this.mobileWidth && !this.mobileHeight){
							popupStyle = ' width: 100%; height: 100%; top:0; left:0; border-radius:0;';
						}
					}
				}
				if (this.order) {
					if (this.order === 2) {
						popupStyle += ' z-index: 530';
					}
					if (this.order === 3) {
						popupStyle += ' z-index: 540';
					}
				}
				return popupStyle;
			},
			setDimmedStyle: function () {
				var dimmedStyle = '';
				if (this.order) {
					if (this.order === 2) {
						dimmedStyle += ' z-index: 525';
					}
					if (this.order === 3) {
						dimmedStyle += ' z-index: 535';
					}
				}
				return dimmedStyle;
			},
			closePopup: function () {
				this.hideDimm();
				this.visible = false;
				this.$emit('closePopupAction');
			},
			callDimm: function () {
				var tempobj = {'overflow': 'hidden'};
				if (document.documentElement.scrollHeight
					> document.documentElement.clientHeight) {
					var scrollDiv = document.createElement('div');
					scrollDiv.className = 'modal-scrollbar-measure';
					$('body').append(scrollDiv);
					var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;
					if (scrollbarWidth > 0) {
						var gnbStyle = {'width': $('body').width(), 'box-sizing': 'unset', 'overflow': 'hidden'};
						if ($('body').css('min-width')) {
							var bodyMinWidth = $('body').css('min-width').split('px');
							if ($(window).width() < bodyMinWidth[0] * 1) {
								gnbStyle = {'width': $(window).width(), 'padding-right': scrollbarWidth, 'box-sizing': 'unset'}
							}
						}
						tempobj['padding-right'] = scrollbarWidth;
						$('#quickMenu').css({'margin-right': scrollbarWidth});
						$('#_open_popup').css({'margin-right': scrollbarWidth});
						$('.gnb_area').css(gnbStyle);
						$('#content').css(gnbStyle);
					}
				}

				if(checkMobile()){
					$('#app').css('position', 'unset')
				}

				$('body').css(tempobj);
			},
			hideDimm: function () {
				$('body').removeAttr('style');
				if (this.order === 1 || !this.order) {
					$('.modal-scrollbar-measure').remove();
					$('.gnb_area').attr('style', this.originGnbStyle);
					$('#content').removeAttr('style');
					$('#quickMenu').removeAttr('style');
					if(checkMobile()){
						$('#app').css('position', 'relative')
					}
				}
			}
		}
	}
</script>


<script id="termDialogComponent" type="x/templates">
	<popup-component
		:visible="termsVisible"
		:width="600"
		:height="750"
		:mobile="'true'"
		:order="dimmOrder"
		:custom-class="'terms-dialog'"
		@closePopupAction="closeDialog">
		<div class="_modal_container terms-pop" :id="event_name" v-if="termsVisible">
			<div class="_modal_header">
				<h3>{{selected_terms.title}}</h3>
				<a href="javascript:;" class="_btn_close_layer" @click="closeDialog()">
					<picture>
						<img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/close/ic-navi-close-black-nor@2x.png"
						     alt="약관 레이어 닫기" class="_mshow">
						<img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/close/ic-close-medium-black@2x.png"
						     alt="약관 레이어 닫기" class="_modis">
					</picture>
				</a>
			</div>
			<div v-html="selected_terms.data" class="_modal_body"></div>
		</div>
	</popup-component>
</script>

<script language="JavaScript">
	Vue.component('term-dialog-component', {
		template: '#termDialogComponent',
		mixins: [linkUrlMixin, errorHandlerMixin, webViewBridgeMixin],
		props: ['emit_event_name', 'popupVisible'],
		data: function () {
			return {
				termsVisible: false,
				event_name: 'popup_event_common_footer',
				isWebView: false,
				selected_terms: {
					title: '',
					data: ''
				},
				terms_list: {
					agreement_person: {
						title: '개인정보 처리방침',
						data: ''
					},
					agreement_person_guide: {
						title: '개인정보 수집 및 이용',
						data: ''
					},
					'agreement_person_for_partner': {
						title: "개인정보 수집 및 이용",
						data: ""
					},
					'agreement_person_for_register': {
						title: "개인정보 수집 및 이용",
						data: ""
					},
					agreement_join: {
						title: '서비스 이용 및 회원가입 약관',
						data: ''
					},
					agreement_third_party: {
						title: '개인정보 제3자 제공',
						data: ''
					},
					agreement_marketing: {
						title: '인테리어 정보 및 마케팅 수신',
						data: ''
					}
				},
				dimmOrder: 1
			}
		},
		components: {
			'popup-component': popupComponent
		},
		created: function () {
			eventBus.$on('open_terms_dialog', this.init);
		},
		methods: {
			init: function (data) {
				if (data.order) {
					this.dimmOrder = data.order;
				}
				if (data.deviceInfo) {
					this.deviceInfo = data.deviceInfo;
					this.isWebView = this.deviceInfo && this.deviceInfo.isAppUser;
				}
				if (data.type && data.type !== '') {
					this.loadTermData(data.type);
				}

				this.termsVisible = !this.isWebView;
			},
			getTermData: function (type) {
				var termsObject = this.terms_list[type];
				if (termsObject && termsObject.title && termsObject.title !== '') {
					return termsObject;
				}
				return -1;
			},
			getWebviewUrl: function (type) {
				switch (type) {
					case 'agreement_person':
						return '';
					case 'agreement_person_guide':
						return '/guide/privateInfoGuideView.do';
					case 'agreement_person_for_partner':
						return;
					case 'agreement_person_for_register':
						return;
					case 'agreement_join':
						return;
					case 'agreement_third_party':
						return '/guide/agreement_third_party_view.do';
					case 'agreement_marketing':
						return '/guide/event_zipdoc_view';
					default:
						return '';
				}
			},
			getCallApiUrl: function (type) {
				switch (type) {
					case 'agreement_person':
						return this.getLawForPrivateInfoUrl();
					case 'agreement_person_guide':
						return this.getLawForPrivateInfoGuideUrl();
					case 'agreement_person_for_partner':
						return this.getLawForPrivateInfoForPartnerUrl();
					case 'agreement_person_for_register':
						return this.getLawForPrivateInfoForRegisterUrl();
					case 'agreement_join':
						return this.getLawForSupplyInfoUrl();
					case 'agreement_third_party':
						return this.getLawForThirdPartyUrl();
					case 'agreement_marketing':
						return this.getLawForMarketingUrl();
					default:
						return '';
				}
			},
			loadTermData: function (type) {
				var termsObject = this.getTermData(type);
				if (termsObject) {
					if (this.isWebView) {
						this.callBrowserInApp(this.deviceInfo, location.origin + this.getWebviewUrl(type), termsObject.title);
						return;
					}

					var apiUrl = this.getCallApiUrl(type);
					if (termsObject.data === '' && apiUrl && apiUrl !== '') {
						zipInsideAxios.get(apiUrl).then(function (response) {
							if (response.status === 200) {
								termsObject.data = response.data;
								this.selected_terms = termsObject;
								this.showData();
							} else {
								this.defaultResponseErrorHandler(response, this.id, apiUrl);
							}
						}.bind(this)).catch(function (error) {
							this.defaultPrintErrorHandler(error, this.id, apiUrl);
						}.bind(this));
					} else {
						this.selected_terms = termsObject;
						this.showData();
					}
				}
			},
			closeDialog: function () {
				this.termsVisible = false;
			},
			showData: function () {
				$("#" + this.event_name + " .modal-body").stop().animate({scrollTop: 0}, 0);
			}
		}
	});
</script>


<script id="loginDialogComponent" type="x/templates">
	<popup-component
		:visible="loginVisible"
		:width="320"
		:height="148"
		:mobile="'true'"
		:mobile-width="'90%'"
		:mobile-height="148"
		:order="dialogOrder"
		:customClass="'loginPlzDialog'"
		@closePopupAction="closeDialog">
			<div class="modal-container" v-if="loginVisible">
				<div class="modal-body">
					<div>
						<p class="f-18 dark_text">로그인 후 이용하실 수 있습니다.</p>
					</div>
					<div class="clfix modal-login-button-group">
						<button type="button" @click="closeDialog" class="btn _btn_cancel">취소</button>
						<button type="button" @click="goToLogin()" class="btn _btn_accept">로그인</button>
					</div>
				</div>
			</div>
	</popup-component>
</script>

<script language="JavaScript">
	Vue.component('login-dialog-component', {
		template : "#loginDialogComponent",
		mixins : [linkUrlMixin],
		data : function(){
			return {
				loginVisible : false,
				targetUrl : false,
				dialogOrder : 2
			}
		},
		components: {
			'popup-component': popupComponent
		},
		created : function() {
			if( eventBus ){
				eventBus.$on('open_login_dialog', this.showLoginPopup );
			}
			if( this.$parent ){
				this.$parent.$on('open_login_dialog', this.showLoginPopup );
			}
		},
		methods : {
			showLoginPopup : function(param) {
				this.loginVisible = true;
				if(param) {
					if(param.order){
						this.dialogOrder = param.order;
					}else{
						this.targetUrl = param;
					}
				}
			},
			goToLogin : function() {
				if(this.targetUrl && this.targetUrl.toString().includes('customer/inquiry')){
					var sslAddress = "http:";
					if (SERVICE_URL == '//zipdoc.co.kr/' || SERVICE_URL == '//zipdocdev.com/'
						|| SERVICE_URL == '//qa.zipdocdev.com/') {
						sslAddress = "https:";
					}
					var url = sslAddress + SERVICE_URL + 'common/login' + '?viewType=loginStart&targetUrl='+sslAddress+SERVICE_URL+this.targetUrl;
					if (checkMobile()) location.href=url;
				}else{
					if (checkMobile()) gotoLoginPage();
					else eventBus.$emit("showLoginPopup", 3);
				}
			},
			closeDialog : function(){
				this.loginVisible = false;
			}
		}
	});
</script>




<script id="scrollTopButtonComponent" type="x/templates">
	<div class="to-top" :class="{'nav_up':visible, 'nav_down': !visible, 'not-use': !mobileVisible}" @click="setScrollTop">
		<div class="_modis">
			<img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_v40/main/ic-arrow-top-btn-pc@2x.png" alt="">
		</div>
		<div class="_mshow">
			<img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_v35/common/btn-top-floating@2x.png" alt="">
		</div>
	</div>

</script>
<script>
	var scrollTopButtonComponent = {
		template: '#scrollTopButtonComponent',
		data: function () {
			return {
				visible: true,
				mobileVisible: false,
				lastScrollTop: 0,
				delta: 5
			}
		},
		mounted: function () {
			this.scrollListener();
			document.addEventListener("scroll", this.scrollListener);
		},
		beforeDestroy: function () {
			document.removeEventListener("scroll", this.scrollListener);
		},
		methods: {
			scrollListener: function () {
				var st = $(window).scrollTop();
				if (st !== 0) {
					if (Math.abs(this.lastScrollTop - st) <= this.delta) return;
					if (st > 300) {
						if (
							curPageUrl === '' || curPageUrl === '/' || curPageUrl === '/index.do'
							|| curPageUrl.includes('/product/resident')
							|| curPageUrl.includes('/product/commerce')
							|| curPageUrl.includes('/service/index/page')
						) {
							if (checkMobile() && $('#estimateBtn').css('display') === 'none' && $('#detailEstimateBtn').css('bottom') === '-52px') {
								this.visible = true;
							} else {
								this.visible = ((st > this.lastScrollTop) && (this.lastScrollTop > 0));
							}
						} else {
							this.visible = true;
						}

						this.mobileVisible = true;
					}
				} else {
					this.visible = false;
					this.mobileVisible = false;
				}
				this.lastScrollTop = st;
			},
			setScrollTop: function () {
				$('html,body').stop().animate({scrollTop: 0}, 'fast', gnbSticky.init());
			}
		}
	}
</script>


<script src="https://cf.zipdoc.co.kr/zws/res/assets/plugins/axios/0.19.0/axios.min.js"></script>
<script>
  function _ZwsUserInfo() {
    this.sid = 'A01F69845B6A9A9D249F25DE6C39A496';
    this.token = '';
    this.account = '';
    this.member_no = '';
    this.email = '';
    /* 'NOT_LOGINED' | 'NON_MEMBER_LOGIN' | 'MEMBER_LOGIN' | 'INVALID_USER'*/
    this.loginMode = 'NOT_LOGINED';
    this.account_type = '';

    this.isLoginUser = function () {
      return this.isNonMemberLoginUser() || this.isMemberLoginUser();
    };
    this.isNonMemberLoginUser = function () {
      return this.loginMode === 'NON_MEMBER_LOGIN';
    };
    this.isSnsLoginUser = function(){
      return this.loginMode === 'MEMBER_LOGIN' && this.account_type && this.account_type !== '1';
    }
    this.isMemberLoginUser = function () {
      return this.loginMode === 'MEMBER_LOGIN';
    };
    this.getAxioHeaders = function () {
      if (this.isMemberLoginUser()) {
        return {
          'ZWS-SID': ZWS_USER.sid
          , 'ZWS-TOKEN': ZWS_USER.token
          , 'ZWS-MNO': ZWS_USER.member_no
          , 'ZWS-USER': encodeURIComponent(ZWS_USER.account)
          , 'WEB-VERSION': '202101131126'
        }
      } else if (this.isNonMemberLoginUser()) {
        return {
          'ZWS-SID': ZWS_USER.sid
          , 'ZWS-USER': encodeURIComponent(ZWS_USER.account)
          , 'WEB-VERSION': '202101131126'
        }
      } else {
        return {
          'ZWS-SID': ZWS_USER.sid
          , 'WEB-VERSION': '202101131126'
        }
      }
    }
  }

    var ZWS_USER = new _ZwsUserInfo();
    
    
        ZWS_USER.loginMode = 'NOT_LOGINED';
    

  function _Acs3Url() {
    var acs3Url = '//zipdoc.co.kr/';
    return acs3Url === '//qa.zipdocdev.com/' ? acs3Url : '//' + window.location.host + '/';
  }

  var asc3Axios = axios.create({
    baseURL: _Acs3Url(),
    timeout: 10000
  });

  // Add a request interceptor
  asc3Axios.interceptors.request.use(function (config) {
    config.headers = ZWS_USER.getAxioHeaders();
    return config;
  }, function (error) {
    return Promise.reject(error);
  });

  // Add a response interceptor
  asc3Axios.interceptors.response.use(function (response) {
    return response;
  }, function (error) {
    var errorMsg = '';
    if (error && error.response) {
      var response = error.response;
      if (response.status === 400) {
        errorMsg = '필수 정보가 누락되었습니다.';
      } else if (response.status === 403) {
        errorMsg = '인증 정보를 찾을 수 없거나 권한이 없습니다. 다시 로그인하여 주세요.';
        eventBus.$emit("fire_open_login_popup");
      } else if (response.status === 406) {
        errorMsg = '필수 정보가 없거나 형식이 잘못되었습니다.';
      } else if (response.status === 503) {
        errorMsg = '서비스 점검중입니다. 잠시 후 다시 시도해보세요.';
      } else if (response.status > 499) {
        errorMsg = '서버 오류가 발생하였습니다. 잠시 후 다시 시도해보세요.';
      } else {
        errorMsg = '필수 정보가 없거나 형식이 잘못되었습니다...';
      }
    } else {
      errorMsg = '데이터 요청 중 오류가 발생하였습니다. 잠시 후 다시 시도해보세요.';
    }
    console.warn('asc3Axios Error : ' + errorMsg);
    console.error(error);
    return Promise.reject(error);
  });

</script>

<script>
  var Recent = {
    data: function () {
      return {
        list: null,
        viewList: null,
        totalCount: 0,
        minPage: 1,
        maxPage: 9,
        currentPage: 1,
        limit: 3,
        cookieKey: 'recentCookie',
        cookieDay: 30,
        cookieData: [],
        checkPageUrl: '/product/detail/index/page'
      }
    },
    created: function () {
      this.init();
    },
    methods: {
      init: function () {
        this.getRecentCookie();
        this.setRecentCookie();
        this.getList();
      },
      getRecentCookie: function () {
        var cookieData = this.getCookieData()[this.cookieKey];
        if (cookieData) {
          this.cookieData = decodeURIComponent(cookieData).split(',');
        }
      },
      setRecentCookie: function () {
        // ì£¼ê±° & ìì ì¸íë¦¬ì´ ìì¸íì´ì§ ì§ì
        if (location.pathname === this.checkPageUrl) {
          var pid = this.getURLParameter('pid');
          this.cookieData = this.cookieData.filter(function (v) {
            return v !== pid;
          });
          this.cookieData.unshift(pid);
          this.cookieData = this.cookieData.slice(0, (this.limit * this.maxPage));
          this.setCookieData(this.cookieKey, this.cookieData, this.cookieDay);
        }
      },
      getList: function () {
        if (this.cookieData.length > 0) {
          asc3Axios({
            url: '/acs3/interior/recently',
            method: 'post',
            data: {
              pid: this.cookieData
            }
          }).then(function (response) {
            this.list = response.data.list;
            this.viewList = this.list.slice((this.currentPage - 1) * this.limit, this.currentPage * this.limit);
            this.totalCount = this.list.length;
          }.bind(this))
          .catch(function () {
            this.list = null;
            this.totalCount = 0;
          }.bind(this));
        }
      },
      pageMove: function (page) {
        var movePage = this.currentPage + page;
        if (movePage <= this.maxPage && movePage >= this.minPage && movePage <= Math.ceil(this.totalCount / this.limit)) {
          this.currentPage = movePage;
          this.viewList = this.list.slice((this.currentPage - 1) * this.limit, this.currentPage * this.limit);
        }
      },
      removeRecent: function (pid) {
        var idx = this.cookieData.indexOf(pid + "");
        if (idx > -1) {
          this.cookieData.splice(idx, 1);
          this.setCookieData(this.cookieKey, this.cookieData, this.cookieDay);
          var check = this.list.findIndex(function (item) {
            return item.pid === pid
          });
          if (check > -1) {
            this.list.splice(check, 1);
            this.viewList = this.list.slice((this.currentPage - 1) * this.limit, this.currentPage * this.limit);
            this.totalCount = this.list.length;
            console.log(this.currentPage)
            console.log(Math.ceil(this.totalCount / this.limit))
            if (this.currentPage > Math.ceil(this.totalCount / this.limit)) {
              this.pageMove(-1);
            }
          }
        }
      },
      linkPageMove: function (object) {
        location.href = SERVICE_URL + this.checkPageUrl.substring(1, this.checkPageUrl.length) + "?category_cd=" + object.category_code1 + "&pid="
            + object.pid;
      },
      /* ì¿ í¤ ì»ê¸° */
      getCookieData: function () {
        var pairs = document.cookie.split(";");
        var cookies = {};
        for (var i = 0; i < pairs.length; i++) {
          var pair = pairs[i].split("=");
          // cookies[(pair[0]+'').trim()] = unescape(pair[1]);
          cookies[(pair[0] + '').trim()] = pair[1];
        }
        return cookies;
      },
      /* ì¿ í¤ ì ì¥ */
      setCookieData: function (name, value, days) {
        var date = new Date();
        date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
        var cookie_value = escape(value) + ((days == null) ? '' : ';expires=' + date.toUTCString()) + ';path=/';
        document.cookie = name + '=' + cookie_value;
      },
      /* íë¼ë¯¸í° */
      getURLParameter: function (param) {
        var pageUrl = window.location.search.substring(1);
        var urlValidation = pageUrl.split('&');
        for (var i = 0; i < urlValidation.length; i++) {
          var paramName = urlValidation[i].split('=');
          if (paramName[0].toString() === param) {
            if (paramName.length > 2) {
              // parameter ê°ì´ url ê³¼ parameter ê° í¬í¨ë  ê²½ì°
              var params = '';
              for (var j = 1; j < paramName.length; j++) {
                params += paramName[j] + '='
              }
              return params.substr(0, params.length - 1);
            } else {
              return paramName[1];
            }
          }
        }
      }
    }
  }
</script>


<script id="pcRecentComponent" type="x/templates">
	<div>
		<div id="quickMenu">
			<div class="poz_rel">
				<ul class="quick-menu-list">
					<li class="quick-menu-item why"><a class="link go_quick_inquiry_pc" href="//zipdoc.co.kr/service/index/page">왜 집닥인가요?</a></li>
					<li class="quick-menu-item estimate"><a class="link go_quick_estimate_pc" href="//zipdoc.co.kr/est-a/simple?category_code1=10">견적알아보기</a></li>
					<li class="quick-menu-item recent-view-space">
						<p class="title">최근 본 공간</p>
						<!-- 최근본공간 없을 시 -->
						<div v-if="totalCount === 0" class="recent-no-data">
							최근 본 공간이<br/> 없습니다.
						</div>
						<!-- 최근본공간 1개 이상 있을 시 리스트 -->
						<ul v-else class="recent-view-space-list">
							<li v-for="item in viewList" :key="item.pid">
								<a class="thumbnail go_quick_recent_pc" @click="linkPageMove(item)">
									<img :src="item.thumbnail_url">
								</a>
								<!-- 마우스오버시 노출 -->
								<div class="recent-detail">
									<div class="close" @click="removeRecent(item.pid)"></div>
									<div class="text-content" @click="linkPageMove(item)">
										<p class="head-copy">{{ item.subject }}</p>
										<p class="sub-copy">
											<span>{{item.category_name2}}</span>
											<span>{{item.space}}평</span>
											<span>{{Number(item.price).toLocaleString()}}만원대</span>
										</p>
									</div>
									<div class="thumbnail" @click="linkPageMove(item)">
										<img :src="item.thumbnail_url">
									</div>
								</div>
							</li>
						</ul>
						<!-- 최근본공간 4개 이상 시 네비게이션 노출 -->
						<div v-if="totalCount > 3" class="recent-navigation clfix">
							<button class="prev" @click="pageMove(-1)"><</button>
							<p class="text">
								<span id="currentRecentPage">{{currentPage}}</span>
								/
								<span id="endRecentPage">{{Math.ceil(totalCount/limit)}}</span>
							</p>
							<button class="next" @click="pageMove(1)">></button>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>
</script>


<script>
	var pcRecentComponent = {
		template: '#pcRecentComponent',
		mixins: [Recent],
		methods: {}
	}
</script>


<script id="mobileRecentComponent" type="x/templates">
	<popup-component
		:visible="visible"
		:mobile="'true'"
		:order="2"
		:custom-class="'recent-dialog'">
		<div class="_modal_container recent-dialog-wrap">
			<div class="_modal_header">
				<h3>최근 본 공간</h3>
				<a href="javascript:;" class="_btn_close_layer" @click="closeDialog()">
					<picture>
						<img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/close/ic-navi-close-black-nor@2x.png"
						     alt="최근본공간 레이어 닫기">
					</picture>
				</a>
			</div>
			<div class="_modal_body">
				<p v-show="totalCount > 0" class="recent-total-count">
					총 <span class="point">{{totalCount}}</span>개
				</p>
				<div class="recent-content">
					<!-- 최근본공간 없을 시 -->
					<div v-if="totalCount === 0" class="no-data">
						<p>최근 본 공간이 없습니다.</p>
						<div class="button-group">
							<a href="//zipdoc.co.kr/product/resident/list">
								<button class="z_btn z_secondary_w_btn">주거 공간 보러가기</button>
							</a>
							<a href="//zipdoc.co.kr/product/commerce/list">
								<button class="z_btn z_secondary_w_btn">상업 공간 보러가기</button>
							</a>
						</div>
					</div>
					<!-- 최근본공간 1개 이상 있을 시 리스트 -->
					<ul v-else class="recent-list clfix">
						<li v-for="item in viewList" :key="item.pid" class="recent-item" >
							<div class="recent-delete-btn" @click="removeRecent(item.pid)">
								<button>x</button>
							</div>
							<div class="recent-thumbnail" @click="linkPageMove(item)">
								<img :src="item.thumbnail_url">
							</div>
							<div class="recent-data" @click="linkPageMove(item)">
								<p class="title">
									{{ item.subject }}
								</p>
								<p class="info">
									<span>{{item.category_name2}}</span>
									<span>{{item.space}}평</span>
									<span>{{Number(item.price).toLocaleString()}}만원대</span>
								</p>
							</div>
						</li>
					</ul>



				</div>
			</div>
		</div>
	</popup-component>
</script>


<script>
	var mobileRecentComponent = {
		template: '#mobileRecentComponent',
		mixins: [Recent],
		components: {
			'popup-component': popupComponent
		},
		data: function () {
			return {
				visible: false,
				maxPage: 1,
				limit: 27
			}
		},
		created: function () {
			eventBus.$on('showMobileRecent', this.setData);
		},
		methods: {
			setData: function () {
				this.visible = true;
			},
			closeDialog: function () {
				this.visible = false;
			}
		}
	}
</script>

<script id="commonFooterComponent" type="x/templates">
	<footer v-show="isVisible()" id="footer" class="spoqa">
		<div class="footer_nav clfix">
			<ul class="clfix _left_side">
				<li><a :href="getGuideAboutCompanyUrl()">회사소개</a></li>
				<li><a href="javascript:;" @click="showPopup('agreement_person')"><span class="_bold">개인정보처리방침</span></a></li>
				<li><a href="javascript:;" @click="showPopup('agreement_join')">이용약관</a></li>
				<li><a :href="getApplyPartnerUrl()">입점문의</a></li>
				<li><a @click="noticePopupVisible = true" v-if="isShowNoticePopupValid">공고</a></li>
			</ul>
			<ul class="clfix _left_side pl-2 app-market-list">
				<li v-show="isUserAgent('aos')">
					<a href="https://play.google.com/store/apps/details?id=com.zipdoc.zipdoc" target="_blank">
						<img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/sns/btn-google@2x.png" alt="Google play">
					</a>
				</li>
				<li v-show="isUserAgent('ios')">
					<a
						href="https://apps.apple.com/kr/app/%EC%A7%91%EB%8B%A5-%EA%B0%84%ED%8E%B8%EC%95%88%EC%8B%AC-%EC%9D%B8%ED%85%8C%EB%A6%AC%EC%96%B4/id1250743410"
						target="_blank">
						<img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/sns/btn-apple@2x.png" alt="Apple Store">
					</a>
				</li>
			</ul>
		</div>

		<div class="footer-wrap">
			<div class="footer_company_info">
				<div class="footer_company_call">
					<p class="footer_company_call_number">1600 - 3069</p>
					<p class="footer_company_call_info">
						<span>월 - 토, 공휴일 09:00 - 18:00</span>
						<span>금요일 09:00 - 17:00</span>
						<span>일요일 휴무</span><br class="_mshow"/>
						<span>팩스 : 02-6274-1130</span>
						<span>이메일 : <a class="footer_mail" href="mailto:cs@zipdoc.kr">cs@zipdoc.kr</a></span>
					</p>
				</div>
				<div class="footer_company_text">
					<p>
						<span>집닥주식회사 대표이사 : 김성익</span>
						<span>주소 : 서울시 강남구 봉은사로 18길 65<br class="_mshow320"/>(역삼동 621-2)</span>
						<span>사업자등록번호 : 793-81-00149</span>
						<span>통신판매번호 : 2018-서울강남-01196호</span>
						<span @click="showBusinessLicenseInfoPopup">사업자정보확인</span>
					</p>
				</div>
				<div class="footer_company_copyright">
					<p>집닥주식회사는 통신판매중개자로서 건축 공사의 주 거래 당사자가 아니며, 파트너스가 제공한 견적 및 공사 시공 서비스에 대해 일체 책임을 지지 않습니다.</p>
					<p>copyright © ZIPDOC</p>
				</div>
			</div>
			<div id="estimateBtn" class="_mshow">
				<div class="bottom_btn_wrapper">
					<a href="//zipdoc.co.kr/est-a/simple?category_code1=20" class="btn_call">
						<span>상업견적 알아보기</span>
					</a>
					<a href="//zipdoc.co.kr/est-a/simple?category_code1=10" class="_mshow _btn_estimate _normal">
						<span>주거견적 알아보기</span>
					</a>
				</div>
			</div>
			<toast-message-component :visible="toastVisible" @closeToastMessage="closeToastMessage" :custom-id="'withdraw-toast'">
				<p class="main_txt" v-show="toastVisible">
					회원탈퇴가 완료되었습니다.<br class="_mshow"/>
					더욱 좋은 서비스로 다시 찾아 뵙겠습니다.
				</p>
			</toast-message-component>
			<popup-component
							v-if="isShowNoticePopupValid"
							:visible="noticePopupVisible"
							:width="850"
							:height="800"
							:mobile="'true'"
							:order="1"
							:custom-class="'terms-dialog'"
							@closePopupAction="noticePopupVisible = false">
				<div class="_modal_container terms-pop" v-if="noticePopupVisible">
					<div class="_modal_header">
						<h3>공고</h3>
						<a href="javascript:;" class="_btn_close_layer" @click="noticePopupVisible = false">
							<picture>
								<img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/close/ic-navi-close-black-nor@2x.png"
										 alt="약관 레이어 닫기" class="_mshow">
								<img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/close/ic-close-medium-black@2x.png"
										 alt="약관 레이어 닫기" class="_modis">
							</picture>
						</a>
					</div>
					<div class="_modal_body">
						<img src="//cf.zipdoc.co.kr/zws/res/assets/images/notice_popup/popup-image.jpg" style="width: 100%"/>
					</div>
				</div>
			</popup-component>
			<term-dialog-component></term-dialog-component>
			<new-login-pop></new-login-pop>
			<div v-if="checkMobile()">
				<mobile-recent-component></mobile-recent-component>
			</div>
			<div v-else>
				<pc-recent-component></pc-recent-component>
			</div>
			<scroll-top></scroll-top>
		</div>
	</footer>
</script>

<script>
  var pageUtils = {
    mobileBottomView: function () {
      var pathname = window.location.pathname;
      return pathname === '/'
          || pathname === '/product/resident/list'
          || pathname === '/product/resident/detail'
          || pathname === '/product/resident/items'
          || pathname === '/product/commerce/list'
          || pathname === '/product/commerce/detail'
          || pathname === '/service/index/page'
    }
  }
</script>

<script language="JavaScript">
	Vue.component('common-footer', {
		template: '#commonFooterComponent',
		mixins: [mixin_utils, linkUrlMixin, errorHandlerMixin],
		computed: {
			isShowNoticePopupValid: function() {
				var current = new Date();
				var openDate = new Date(2020, 11, 28, 0, 0, 0);
				var closeDate = new Date(2021, 0, 27, 23, 59, 59);

				return !(current < openDate || current > closeDate);
			}
		},
		data: function () {
			return {
				fullWidth: 0,
				view: {
					isMobileVisible: true
				},
				toastVisible: false,
				noticePopupVisible: false
			}
		},
		props: ['view_info'],
		components: {
			'popup-component': popupComponent,
			'scroll-top': scrollTopButtonComponent,
			'pc-recent-component': pcRecentComponent,
			'mobile-recent-component': mobileRecentComponent
		},
		beforeMount: function () {
			if (this.view_info) {
				this.view = this.view_info;
			}
		},
		mounted: function () {
			$(window).on('resize', this.handleResize);
			try {
				if (checkInitMobileControl) {
					checkInitMobileControl($(window).width());
				}
			} catch (e) {
				zlog(e);
			}

			if (!pageUtils.mobileBottomView()) {
				$('#estimateBtn').removeClass('_mshow').css('display', 'none');
				$('#toTop').addClass('_disnone');
			}

			if (sessionEventDispatcher) {
				eventBus.$on('withdrawSuccess', function () {
					this.toastVisible = true;
				}.bind(this));
				sessionEventDispatcher.fireEvents();
			}
		},
		destroy: function () {
			$(window).off('resize');
		},
		methods: {
			showPopup: function (type) {
				var data = {
					type: type,
					order: 1
				}
				eventBus.$emit('open_terms_dialog', data);
			},
			isVisible: function () {
				return !(checkMobile(this.fullWidth) && !this.view.isMobileVisible);
			},
			handleResize: function (event) {
				this.fullWidth = event.currentTarget.innerWidth;
			},
			fireEventToLoginPopupComponent: function (eventName, loginUserData) {
				eventBus.$emit(eventName, loginUserData);
			},
			closeToastMessage: function () {
				this.toastVisible = false;
			},
			showBusinessLicenseInfoPopup: function () {
				return window.open('http://www.ftc.go.kr/bizCommPop.do?wrkr_no=7938100149', 'name',
					'top=10,left=10,width=500,height=400,resizable=1,status=0,scrollbars=1,menubar=0').focus();
			},
			isUserAgent: function (thisAgent) {
				var varUA = navigator.userAgent.toLowerCase(); //userAgent 값 얻기
				var isShow = false;

				if (checkMobile() && thisAgent) {
					if (varUA.match('android') != null && thisAgent === 'aos') {
						isShow = true;
					} else if ((varUA.indexOf("iphone") > -1 || varUA.indexOf("ipad") > -1 || varUA.indexOf("ipod") > -1) && thisAgent === 'ios') {
						isShow = true;
					}
				} else {
					isShow = true;
				}
				return isShow;
			},
		}
	});


</script>



<script>
	var validateMixin = {
		methods: {
			validationEmail: function (data) {
				var email_regExp = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/;
				if (isEmpty(data)) {
					return '이메일 주소를 입력해주세요.';
				} else if (email_regExp.test(data) === false) {
					return '입력하신 이메일 정보가 형식에 맞지 않습니다. 다시 입력해주세요.';
				}
			},
			validationPhone: function (data) {
				var regExp = /^(01[016789]{1}|02|0[3-9]{1}[0-9]{1})[0-9]{3,4}[0-9]{4}$/;
				if (!data) {
					return '휴대폰 번호를 입력해주세요.';
				} else if (!$.isNumeric(data)) {
					return '휴대폰 번호를 숫자로 입력해주세요.';
				} else if (data.length < 10 || data.length > 11) {
					return '휴대폰 번호는 10자~11자이어야 합니다.';
				} else if (!regExp.test(data)) {
					return '휴대폰 번호가 잘못 입력되었습니다.';
				}
				return false;
			}
		}
	};
</script>



<script>
  function broadcast(componentName, eventName, params) {
    this.$children.forEach(function (child) {
      var name = child.$options.componentName;

      if (name === componentName) {
        child.$emit.apply(child, [eventName].concat(params));
      } else {
        broadcast.apply(child, [componentName, eventName].concat([params]));
      }
    });
  }

  var emitterMixin = {
    methods: {
      dispatch: function (componentName, eventName, params) {
        var parent = this.$parent || this.$root;
        var name = parent.$options.componentName;

        while (parent && (!name || name !== componentName)) {
          parent = parent.$parent;

          if (parent) {
            name = parent.$options.componentName;
          }
        }
        if (parent) {
          parent.$emit.apply(parent, [eventName].concat(params));
        }
      },
      broadcast: function (componentName, eventName, params) {
        broadcast.call(this, componentName, eventName, params);
      }
    }
  };
</script>


<script src="https://cf.zipdoc.co.kr/zws/res/assets/plugins/40/promise/promise.min.js"></script>
<script id="zipdocForm" type="x/templates">
    <div>
        <slot></slot>
    </div>
</script>
<script>
  function objectAssign(target) {
    for (let i = 1, j = arguments.length; i < j; i++) {
      let source = arguments[i] || {};
      for (var prop in source) {
        if (source.hasOwnProperty(prop)) {
          var value = source[prop];
          if (value !== undefined) {
            target[prop] = value;
          }
        }
      }
    }
    return target;
  }

  Vue.component('z-form', {
    template: '#zipdocForm',
    componentName: 'zipdocForm',
    provide: function () {
      return {
        zipdocForm: this
      }
    },
    props: {
      model: Object,
      rules: Object,
      validateOnRuleChange: {
        type: Boolean,
        default: true
      },
    },
    data: function () {
      return {
        fields: []
      }
    },
    created: function () {
      this.$on('zipdoc.form.addField', this.addField);
      this.$on('zipdoc.form.removeField', this.removeField);
    },
    methods: {
      addField: function (field) {
        if (field) {
          this.fields.push(field);
        }
      },
      removeField: function (field) {
        if (field.prop) {
          this.fields.splice(this.fields.indexOf(field), 1);
        }
      },
      resetFields: function () {
        if (!this.model) {
          console.warn('[ZipdocElement Warn][Form]model is resetFields to work.');
          return;
        }
        this.fields.forEach(function (field) {
          field.resetField();
        });
      },
      clearValidate: function () {
        this.fields.forEach(function (field) {
          field.clearValidate();
        });
      },
      validate: function (callback) {
        if (!this.model) {
          console.warn('[ZipdocElement Warn][Form]model is validate to work!');
          return;
        }

        var promise;
        if (typeof callback !== 'function') {
          promise = new Promise(function (resolve, reject) {
            callback = function (valid) {
              valid ? resolve(valid) : reject(valid);
            };
          });
        }

        var valid = true;
        var count = 0;
        var _this = this;
        var firstValid;
        // var invalidFields = {};
        if (this.fields.length === 0 && callback) {
          callback(true);
        }

        this.fields.forEach(function (field) {
          var prop = field.prop;
          field.validate('', function (message, field) {
            if (message === 'z_error') {
              valid = false;
              if(!firstValid){
                firstValid = prop;
              }
            }
            // invalidFields = objectAssign({}, invalidFields, field);
            if (typeof callback === 'function' && ++count === _this.fields.length) {
              // callback(valid, invalidFields);
              callback(valid, firstValid);
            }
          });
        });

        if (promise) {
          return promise;
        }
      },
    }
  });
</script>


<script id="zipdocFormItem" type="x/templates">
    <div>
        <slot></slot>
        <div class="f-11 mt-08 z_danger_text"
             v-if="validateState === 'z_error' && validateMessage && validateMessage !== ''">
            {{ validateMessage }}
        </div>
        <div class="f-11 mt-08 z_success_text"
             v-else-if="validateState === 'z_success' && validateMessage && validateMessage !== ''">
            {{ validateMessage }}
        </div>
    </div>
</script>
<script>
  //utils
  function getPropByPath(obj, path, strict) {
    var tempObj = obj;
    path = path.replace(/\[(\w+)\]/g, '.$1');
    path = path.replace(/^\./, '');

    var keyArr = path.split('.');
    var i = 0;
    for (var len = keyArr.length; i < len - 1; ++i) {
      if (!tempObj && !strict) break;
      var key = keyArr[i];
      if (key in tempObj) {
        tempObj = tempObj[key];
      } else {
        if (strict) {
          throw new Error('please transfer a valid prop path to form item!');
        }
        break;
      }
    }
    return {
      o: tempObj,
      k: keyArr[i],
      v: tempObj ? tempObj[keyArr[i]] : null
    };
  }

  Vue.component('z-form-item', {
    template: '#zipdocFormItem',
    componentName: 'zipdocFormItem',
    mixins: [emitterMixin],
    provide: function () {
      return {
        zipdocFormItem: this
      }
    },
    inject: ['zipdocForm'],
    props: {
      prop: String,
      rules: [Object, Array]
    },
    computed: {
      fieldValue: function () {
        var model = this.form.model;
        if (!model || !this.prop) {
          return;
        }

        var path = this.prop;
        if (path.indexOf(':') !== -1) {
          path = path.replace(/:/, '.');
        }

        return getPropByPath(model, path, true).v;
      },
      form: function () {
        var parent = this.$parent;
        var parentName = parent.$options.componentName;
        while (parentName !== 'zipdocForm') {
          if (parentName === 'zipdocFormItem') {
            this.isNested = true;
          }
          parent = parent.$parent;
          parentName = parent.$options.componentName;
        }
        return parent;
      }
    },
    data: function () {
      return {
        validateState: '',
        validateMessage: '',
        validateDisabled: false,
        isNested: false
      }
    },
    mounted: function () {
      if (this.prop) {
        this.dispatch('zipdocForm', 'zipdoc.form.addField', [this]);

        var initialValue = this.fieldValue;
        if (Array.isArray(initialValue)) {
          initialValue = [].concat(initialValue);
        }
        Object.defineProperty(this, 'initialValue', {
          value: initialValue
        });

        this.addValidateEvents();
      }
    },
    methods: {
      validate: function (trigger, callback) {
        this.validateDisabled = false;
        var rules = this.getFilteredRule(trigger);
        if (!rules || rules.length === 0) {
          if (callback) {
            if (typeof callback === 'function') {
              callback();
            } else {
              return callback;
            }
          } else {
            return;
          }
        }

        var value = this.fieldValue;
        var validateResult = {
          result: true,
          message: ''
        };
        rules.some(function (object) {
          if (object.validator && typeof object.validator === 'function') {
            validateResult = object.validator(value);
          } else if (object.error_msg) {
            if ((typeof value === 'string' && value.length === 0)
                || (typeof value === 'boolean' && !value)) {
              validateResult = {
                result: false,
                message: object.error_msg
              }
            } else if (object.success_msg) {
              validateResult = {
                result: true,
                message: object.success_msg
              }
            }
          }
          return !validateResult.result;
        });

        this.validateState = validateResult.result ? 'z_success' : 'z_error';
        this.validateMessage = validateResult.message;

        if (callback) {
          if (typeof callback === 'function') {
            callback(this.validateState, this.validateMessage);
          } else {
            return callback;
          }
        }
      },
      resetField: function () {
        this.validateState = '';
        this.validateMessage = '';

        var model = this.form.model;
        var value = this.fieldValue;
        var path = this.prop;
        if (path.indexOf(':') !== -1) {
          path = path.replace(/:/, '.');
        }

        var prop = getPropByPath(model, path, true);

        this.validateDisabled = true;
        if (Array.isArray(value)) {
          prop.o[prop.k] = [].concat(this.initialValue);
        } else {
          prop.o[prop.k] = this.initialValue;
        }

        this.$nextTick(function () {
          this.validateDisabled = false;
        });
      },
      clearValidate: function () {
        this.validateState = '';
        this.validateMessage = '';
        this.validateDisabled = false;
      },
      getRules: function () {
        var formRules = this.form.rules;
        var selfRules = this.rules;

        var prop = getPropByPath(formRules, this.prop || '');
        formRules = formRules ? (prop.o[this.prop || ''] || prop.v) : [];

        return [].concat(selfRules || formRules || []);
      },
      getFilteredRule: function (trigger) {
        var rules = this.getRules();

        return rules.filter(function (rule) {
          if (!rule.trigger || trigger === '') {
            return true;
          }
          if (Array.isArray(rule.trigger)) {
            return rule.trigger.indexOf(trigger) > -1;
          } else {
            return rule.trigger === trigger;
          }
        });
      },
      addValidateEvents: function () {
        var rules = this.getRules();
        if (rules.length) {
          this.$on('zipdoc.form.blur', this.onFieldBlur);
          this.$on('zipdoc.form.change', this.onFieldChange);
        }
      },
      removeValidateEvents: function () {
        this.$off();
      },
      onFieldBlur: function () {
        this.validate('blur');
      },
      onFieldChange: function () {
        if (this.validateDisabled) {
          this.validateDisabled = false;
          return;
        }
        this.validate('change');
      }
    },
    beforeDestroy: function () {
      this.dispatch('ElForm', 'zipdoc.form.removeField', [this]);
    }
  });
</script>


<script id="zipdocInput" type="x/templates">
    <div :class="{_form_icon_field_input_box:addIcon}">
        <input
                class="z_input"
                ref="input"
                :type="type"
                :autocomplete="autocomplete"
                :class="addsClass"
                v-bind="$attrs"
                :readonly="readonly"
                :disabled="disabled"
                @input="handleInput"
                @focus="handleFocus"
                @blur="handleBlur"
                @change="handleChange"
        />
        <slot></slot>
    </div>
</script>
<script>
  Vue.component('z-input', {
    template: '#zipdocInput',
    componentName: 'zipdocInput',
    mixins: [emitterMixin],
    inheritAttrs: false,
    inject: {
      zipdocForm: {
        default: ''
      },
      zipdocFormItem: {
        default: ''
      }
    },
    props: {
      value: [String, Number],
      type: {
        type: String,
        default: 'text'  //text, password, tel, number 만 가능
      },
      size: {
        type: String,
        default: ''
      },
      addClass: {
        type: String,
        default: ''
      },
      readonly: {
        type: Boolean,
        default: false
      },
      disabled: {
        type: Boolean,
        default: false
      },
      autocomplete: {
        // 자동완성기능
        type: String,
        default: 'new-password'
      },
      validateEvent: {
        type: Boolean,
        default: true
      },
      addValidateClass: {
        type: Boolean,
        default: true
      },
      addIcon: {
        type: Boolean,
        default: false
      }
    },
    watch: {
      value: function (val) {
        if (this.validateEvent) {
          this.dispatch('zipdocFormItem', 'zipdoc.form.change', [val]);
        }
      },
      nativeInputValue: function () {
        this.setNativeInputValue();
      }
    },
    computed: {
      nativeInputValue: function () {
        return this.value === null || this.value === undefined
            ? ''
            : String(this.value);
      },
      addsClass: function () {
        var addsClass = this.addClass;
        if (this.size) {
          addsClass += ' z_' + this.size;
        }
        if (this.readonly || this.disabled) {
          addsClass += ' z_dont_use';
        }
        if (this.addIcon) {
          addsClass += ' z_icon_field';
        }
        if (this.addValidateClass) {
          addsClass += ' ' + this.validateState();
        }
        return addsClass;
      }
    },
    mounted : function(){
      this.setNativeInputValue();
    },
    methods: {
      validateState: function () {
        return this.zipdocFormItem ? this.zipdocFormItem.validateState : '';
      },
      getInput: function () {
        return this.$refs.input;
      },
      setNativeInputValue: function () {
        // value 데이터  input 에 삽입
        var input = this.getInput();
        if (!input) {
          return;
        }
        if (input.value === this.nativeInputValue) {
          return;
        }
        input.value = this.nativeInputValue;
      },
      focus: function () {
        // input 포커스 In
        this.getInput().focus();
      },
      select: function () {
        // input 내용 전체 선택 & 포커스 In
        this.getInput().select();
      },
      blur: function () {
        // input 포커스 Out
        this.getInput().blur();
      },
      handleInput: function (event) {
        // 실시간 감시
        if (event.target.value === this.nativeInputValue) {
          return;
        }
        this.$emit('input', event.target.value);

        this.$nextTick(function () {
          this.setNativeInputValue();
        });
      },
      handleFocus: function (event) {
        // 포커스 In
        this.$emit('focus', event);
      },
      handleBlur: function (event) {
        // 포커스 Out
        this.$emit('blur', event);
        if (this.validateEvent) {
          this.dispatch('zipdocFormItem', 'zipdoc.form.blur', [this.value]);
        }
      },
      handleChange: function (event) {
        // 포커스 Out 시 변경 여부
        this.$emit('change', event.target.value);
      },
      clear: function () {
        this.$emit('input', '');
        this.$emit('change', '');
        this.$emit('clear');
      }
    }
  });
</script>


<script id="zipdocTextarea" type="x/templates">
    <textarea
            class="z_textarea"
            ref="textarea"
            :class="addsClass"
            v-bind="$attrs"
            :readonly="readonly"
            :disabled="disabled"
            @input="handleInput"
            @focus="handleFocus"
            @blur="handleBlur"
            @change="handleChange">
    </textarea>
</script>
<script>
  Vue.component('z-textarea', {
    template: '#zipdocTextarea',
    componentName: 'zipdocTextarea',
    mixins: [emitterMixin],
    inheritAttrs: false,
    inject: {
      zipdocForm: {
        default: ''
      },
      zipdocFormItem: {
        default: ''
      }
    },
    props: {
      value: [String, Number],
      addClass: {
        type: String,
        default: ''
      },
      readonly: {
        type: Boolean,
        default: false
      },
      disabled: {
        type: Boolean,
        default: false
      },
      validateEvent: {
        type: Boolean,
        default: true
      },
      addValidateClass: {
        type: Boolean,
        default: true
      }
    },
    watch: {
      value: function (val) {
        if (this.validateEvent) {
          this.dispatch('zipdocFormItem', 'zipdoc.form.change', [val]);
        }
      },
      nativeTextareaValue: function() {
        this.setNativeTextareaValue();
      }
    },
    computed: {
      nativeTextareaValue: function () {
        return this.value === null || this.value === undefined
            ? ''
            : String(this.value);
      },
      addsClass: function () {
        var addsClass = this.addClass;
        if (this.readonly || this.disabled) {
          addsClass += ' z_dont_use';
        }
        if (this.addValidateClass) {
          addsClass += ' ' + this.validateState();
        }
        return addsClass;
      }
    },
    mounted : function(){
      this.setNativeInputValue();
    },
    methods: {
      validateState: function () {
        return this.zipdocFormItem ? this.zipdocFormItem.validateState : '';
      },
      getTextarea: function () {
        return this.$refs.textarea;
      },
      setNativeTextareaValue: function () {
        // value 데이터  textarea 에 삽입
        var textarea = this.getTextarea();
        if (!textarea) {
          return;
        }
        if (textarea.value === this.nativeTextareaValue) {
          return;
        }
        textarea.value = this.nativeTextareaValue;
      },
      focus: function () {
        // textarea 포커스 In
        this.getTextarea().focus();
      },
      select: function () {
        // textarea 내용 전체 선택 & 포커스 In
        this.getTextarea().select();
      },
      blur: function () {
        // textarea 포커스 Out
        this.getTextarea().blur();
      },
      handleInput: function (event) {
        // 실시간 감시
        if (event.target.value === this.nativeTextareaValue) {
          return false;
        }
        this.$emit('input', event.target.value);

        this.$nextTick(function () {
          this.setNativeTextareaValue();
        });
      },
      handleFocus: function (event) {
        // 포커스 In
        this.$emit('focus', event);
      },
      handleBlur: function (event) {
        // 포커스 Out
        this.$emit('blur', event);
        if (this.validateEvent) {
          this.dispatch('zipdocFormItem', 'zipdoc.form.blur', [this.value]);
        }
      },
      handleChange: function (event) {
        // 포커스 Out 시 변경 여부
        this.$emit('change', event.target.value);
      },
      clear: function () {
        this.$emit('input', '');
        this.$emit('change', '');
        this.$emit('clear');
      }
    }
  });
</script>


<script id="zipdocSelect" type="x/templates">
    <select
            class="z_select"
            ref="select"
            v-model="value"
            :class="addsClass"
            :disabled="disabled"
            v-bind="$attrs"
            @input="handleInput"
            @focus="handleFocus"
            @blur="handleBlur"
            @change="handleChange"
            required>
        <slot></slot>
    </select>
</script>
<script>
  Vue.component('z-select', {
    template: '#zipdocSelect',
    componentName: 'zipdocSelect',
    mixins: [emitterMixin],
    inheritAttrs: false,
    inject: {
      zipdocForm: {
        default: ''
      },
      zipdocFormItem: {
        default: ''
      }
    },
    props: {
      value: [String, Number],
      disabled: {
        type: Boolean,
        default: false
      },
      addClass: {
        type: String,
        default: ''
      },
      validateEvent: {
        type: Boolean,
        default: true
      },
      addValidateClass: {
        type: Boolean,
        default: true
      }
    },
    watch: {
      value: function (val) {
        if (this.validateEvent) {
          this.dispatch('zipdocFormItem', 'zipdoc.form.change', [val]);
        }
      }
    },
    computed: {
      nativeSelectValue: function () {
        return this.value === null || this.value === undefined
            ? ''
            : String(this.value);
      },
      addsClass: function () {
        var addsClass = this.addClass;
        if (this.disabled) {
          addsClass += ' z_dont_use';
        }
        if (this.addValidateClass) {
          addsClass += ' ' + this.validateState();
        }
        return addsClass;
      }
    },
    mounted: function () {
      this.setNativeSelectValue();
    },
    methods: {
      validateState: function () {
        return this.zipdocFormItem ? this.zipdocFormItem.validateState : '';
      },
      getSelect: function () {
        return this.$refs.select;
      },
      setNativeSelectValue: function () {
        // value 데이터  select 에 삽입
        var select = this.getSelect();
        if (!select) {
          return;
        }
        if (select.value === this.nativeSelectValue) {
          return;
        }
        select.value = this.nativeSelectValue;
      },
      focus: function () {
        // select 포커스 In
        this.getSelect().focus();
      },
      select: function () {
        // select 내용 전체 선택 & 포커스 In
        this.getSelect().select();
      },
      blur: function () {
        // select 포커스 Out
        this.getSelect().blur();
      },
      handleInput: function (event) {
        // 실시간 감시
        if (event.target.value === this.nativeSelectValue) {
          return false;
        }
        this.$emit('input', event.target.value);

        this.$nextTick(function () {
          this.setNativeSelectValue();
        });
      },
      handleFocus: function (event) {
        // 포커스 In
        this.$emit('focus', event);
      },
      handleBlur: function (event) {
        // 포커스 Out
        this.$emit('blur', event);
        if (this.validateEvent) {
          this.dispatch('zipdocFormItem', 'zipdoc.form.blur', [this.value]);
        }
      },
      handleChange: function (event) {
        // 포커스 Out 시 변경 여부
        this.$emit('change', event.target.value);
      },
      clear: function () {
        this.$emit('input', '');
        this.$emit('change', '');
        this.$emit('clear');
      }
    }
  });
</script>


<script id="zipdocCheckbox" type="x/templates">
    <div class="z_checkbox"
         :class="addsClass">
        <label>
            <input
                    v-if="trueLabel && falseLabel"
                    type="checkbox"
                    v-model="model"
                    ref="checkbox"
                    :disabled="disabled"
                    :true-value="trueLabel"
                    :false-value="falseLabel"
                    @focus="handleFocus"
                    @blur="handleBlur"
                    @change="handleChange"
            />
            <input
                    v-else
                    type="checkbox"
                    v-model="model"
                    ref="checkbox"
                    :disabled="disabled"
                    @focus="handleFocus"
                    @blur="handleBlur"
                    @change="handleChange"
            />
            <span :class="model ? 'dark_text' : ''">
                <slot name="label"></slot>
            </span>
        </label>
        <span :class="model ? 'dark_text' : ''">
            <slot></slot>
        </span>
    </div>
</script>
<script>
  Vue.component('z-checkbox', {
    template: '#zipdocCheckbox',
    componentName: 'zipdocCheckbox',
    mixins: [emitterMixin],
    inject: {
      zipdocForm: {
        default: ''
      },
      zipdocFormItem: {
        default: ''
      }
    },
    props: {
      value: {
        type: Boolean,
        default: false
      },
      addClass: {
        type: String,
        default: ''
      },
      disabled: {
        type: Boolean,
        default: false
      },
      validateEvent: {
        type: Boolean,
        default: true
      },
      addValidateClass: {
        type: Boolean,
        default: true
      },
      trueLabel: [String, Number],
      falseLabel: [String, Number]
    },
    data: function () {
      return {
        selfModel: false
      };
    },
    watch: {
      value: function (val) {
        if (this.validateEvent) {
          this.dispatch('zipdocFormItem', 'zipdoc.form.change', val);
        }
      }
    },
    computed: {
      addsClass: function () {
        var addsClass = this.addClass;
        // value 에 따른 style 조정
        if (this.disabled) {
          addsClass += ' z_dont_use';
        }
        if (this.addValidateClass) {
          addsClass += ' ' + this.validateState();
        }
        return addsClass;
      },
      model: {
        get: function () {
          return this.value !== undefined ? this.value : this.selfModel;
        },
        set: function (val) {
          this.$emit('input', val);
          this.selfModel = val;
        }
      }
    },
    methods: {
      validateState: function () {
        return this.zipdocFormItem ? this.zipdocFormItem.validateState : '';
      },
      getCheckbox: function () {
        return this.$refs.checkbox;
      },
      focus: function () {
        // checkbox 포커스 In
        this.getCheckbox().focus();
      },
      select: function () {
        // checkbox 내용 전체 선택 & 포커스 In
        this.getCheckbox().select();
      },
      blur: function () {
        // checkbox 포커스 Out
        this.getCheckbox().blur();
      },
      handleFocus: function (event) {
        // 포커스 In
        this.$emit('focus', event);
      },
      handleBlur: function (event) {
        // 포커스 Out
        this.$emit('blur', event);
        if (this.validateEvent) {
          this.dispatch('zipdocFormItem', 'zipdoc.form.blur', [this.value]);
        }
      },
      handleChange: function (event) {
        var value;
        if (event.target.checked) {
          value = this.trueLabel === undefined ? true : this.trueLabel;
        } else {
          value = this.falseLabel === undefined ? false : this.falseLabel;
        }
        // 포커스 Out 시 변경 여부
        this.$emit('change', value, event);
      },
      clear: function () {
        this.$emit('input', '');
        this.$emit('change', '');
        this.$emit('clear');
      },
    }
  });
</script>


<script id="zipdocRadio" type="x/templates">
    <div class="z_radio"
         :class="addsClass">
        <label>
            <input
                    type="radio"
                    v-model="model"
                    ref="radio"
                    :value="label"
                    :disabled="disabled"
                    @focus="handleFocus"
                    @blur="handleBlur"
                    @change="handleChange"
            />
            <span :class="model === label ? 'dark_text' : ''">
                <slot name="label"></slot>
            </span>
        </label>
        <span :class="model === label ? 'dark_text' : ''">
            <slot></slot>
        </span>
    </div>
</script>
<script>
  Vue.component('z-radio', {
    template: '#zipdocRadio',
    componentName: 'zipdocRadio',
    mixins: [emitterMixin],
    inject: {
      zipdocForm: {
        default: ''
      },
      zipdocFormItem: {
        default: ''
      }
    },
    props: {
      value: {
        type: Boolean,
        default: false
      },
      label: {
        type: Boolean,
        default: false
      },
      addClass: {
        type: String,
        default: ''
      },
      disabled: {
        type: Boolean,
        default: false
      },
      validateEvent: {
        type: Boolean,
        default: true
      },
      addValidateClass: {
        type: Boolean,
        default: true
      }
    },
    watch: {
      value: function (val) {
        if (this.validateEvent) {
          this.dispatch('zipdocFormItem', 'zipdoc.form.change', val);
        }
      }
    },
    computed: {
      addsClass: function () {
        var addsClass = this.addClass;
        // value 에 따른 style 조정
        if (this.disabled) {
          addsClass += ' z_dont_use';
        }
        if (this.addValidateClass) {
          addsClass += ' ' + this.validateState();
        }
        return addsClass;
      },
      model: {
        get: function () {
          return this.value;
        },
        set: function (val) {
          this.$emit('input', val);
          this.$refs.radio && (this.$refs.radio.checked = this.model === this.label);
        }
      }
    },
    methods: {
      validateState: function () {
        return this.zipdocFormItem ? this.zipdocFormItem.validateState : '';
      },
      getRadio: function () {
        return this.$refs.radio;
      },
      focus: function () {
        // radio 포커스 In
        this.getRadio().focus();
      },
      select: function () {
        // radio 내용 전체 선택 & 포커스 In
        this.getRadio().select();
      },
      blur: function () {
        // radio 포커스 Out
        this.getRadio().blur();
      },
      handleFocus: function (event) {
        // 포커스 In
        this.$emit('focus', event);
      },
      handleBlur: function (event) {
        // 포커스 Out
        this.$emit('blur', event);
        if (this.validateEvent) {
          this.dispatch('zipdocFormItem', 'zipdoc.form.blur', [this.value]);
        }
      },
      handleChange: function () {
        this.$nextTick().then(function () {
          this.$emit('change', this.model);
        }.bind(this));
      },
      clear: function () {
        this.$emit('input', '');
        this.$emit('change', '');
        this.$emit('clear');
      },
    }
  });
</script>


<script id="zipdocButton" type="x/templates">
    <button
            type="button"
            class="z_btn"
            @click="handleClick"
            :disabled="disabled"
            :class="addsClass">
        <slot></slot>
    </button>
</script>
<script>
  Vue.component('z-button', {
    template: '#zipdocButton',
    componentName: 'zipdocButton',
    props: {
      type: String,
      size: String,
      addClass: {
        type: String,
        default: ''
      },
      round: Boolean,
      square: Boolean,
      disabled: Boolean
    },
    computed: {
      addsClass: function () {
        var addsClass = this.addClass;
        if (this.size) {
          if (this.size === 'small') {
            addsClass += ' z_small';
          } else if (this.size === 'large') {
            addsClass += ' z_large';
          }
        }
        if (this.round) {
          addsClass += ' z_radius_20';
        }
        if (this.square) {
          addsClass += ' z_radius_dont_use';
        }
        if (this.disabled) {
          addsClass += ' z_dont_use';
        }
        if (this.type) {
          if (this.type === 'primary') {
            addsClass += ' z_primary_btn';
          } else if (this.type === 'black') {
            addsClass += ' z_secondary_bk_w_btn';
          } else if (this.type === 'orange') {
            addsClass += ' z_secondary_w_or_btn';
          } else if (this.type === 'white') {
            addsClass += ' z_secondary_w_btn';
          }
        }
        return addsClass;
      }
    },
    methods: {
      handleClick: function (event) {
        this.$emit('click', event);
      }
    }
  });
</script>



<script src="https://spi.maps.daum.net/imap/map_js_init/postcode.v2.js"></script>
<script id="daumPostcodeComponent" type="x/templates">
    <div v-show="visible"
         id="postcode"
         style="border:1px solid;margin:5px 0;position:relative"
         :style="[{ width: width, height: height }, componentStyle]"
    >
        <img id="btnFoldWrap"
             src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/close/daum-postcode-close.png"
             style="cursor:pointer;position:absolute;right:0;top:-1px;z-index:1"
             alt="주소검색 닫기"
             @click="closeDaumPostCode"
        />
        {{ dataError && errorMessage }}
    </div>
</script>
<script>
  var daumPostcodeComponent = {
    template: '#daumPostcodeComponent',
    props: {
      visible: {
        type: Boolean,
        required: true
      },
      onComplete: {
        type: Function,
        required: true
      },
      width: {
        type: String,
        default: '100%'
      },
      height: {
        type: String,
        default: '500px'
      },
      autoClose: {
        type: Boolean,
        default: true
      },
      autoResize: {
        type: Boolean,
        default: false
      },
      animation: {
        type: Boolean,
        default: false
      },
      autoMapping: {
        type: Boolean,
        default: true
      },
      shorthand: {
        type: Boolean,
        default: true
      },
      pleaseReadGuide: {
        type: Number,
        default: 0
      },
      pleaseReadGuideTimer: {
        type: Number,
        default: 1.5
      },
      maxSuggestItems: {
        type: Number,
        default: 10
      },
      showMoreHName: {
        type: Boolean,
        default: false
      },
      hideMapBtn: {
        type: Boolean,
        default: false
      },
      hideEngBtn: {
        type: Boolean,
        default: false
      },
      alwaysShowEngAddr: {
        type: Boolean,
        default: false
      },
      submitMode: {
        type: Boolean,
        default: true
      },
      useSuggest: {
        type: Boolean,
        default: true
      },
      componentStyle: {
        type: Object,
        default: null
      },
      defaultQuery: {
        type: String,
        default: null
      },
      theme: {
        type: Object,
        default: null
      }
    },
    data: function () {
      return {
        dataError: '',
        errorMessage: '현재 Daum 우편번호 서비스를 이용할 수 없습니다. 잠시 후 다시 시도해주세요.'
      }
    },
    watch: {
      visible: function() {
        if (this.visible) {
          this.init();
        }
      }
    },
    mounted: function() {
      this.init();
    },
    methods: {
      init: function () {
        var element_wrap = document.getElementById('postcode');
        var _this = this;
        new daum.Postcode({
          oncomplete: function (data) {
            _this.onComplete(data)
          },
          onresize: function (size) {
            // element_wrap.style.height = size.height+'px';
          },
          alwaysShowEngAddr: this.alwaysShowEngAddr,
          animation: this.animation,
          autoMapping: this.autoMapping,
          autoResize: this.autoResize,
          hideEngBtn: this.hideEngBtn,
          hideMapBtn: this.hideMapBtn,
          maxSuggestItems: this.maxSuggestItems,
          pleaseReadGuide: this.pleaseReadGuide,
          pleaseReadGuideTimer: this.pleaseReadGuideTimer,
          shorthand: this.shorthand,
          showMoreHName: this.showMoreHName,
          submitMode: this.submitMode,
          theme: this.theme,
          useSuggest: this.useSuggest,
          width: '100%',
          height: '100%'
        }).embed(element_wrap);
      },
      closeDaumPostCode: function () {
        this.$emit('close')
      }
    }
  }
</script>


<script>

  var requestAnimFrame = (function() {
    return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(callback) { window.setTimeout(callback, 1000 / 60) }
  })();

  var scrollUtils = {
    easeInOutQuad: function (t, b, c, d) {
      t /= d / 2;
      if (t < 1) {
        return c / 2 * t * t + b
      }
      t--;
      return -c / 2 * (t * (t - 2) - 1) + b
    },
    move: function (amount) {
      document.documentElement.scrollTop = amount;
      document.body.parentNode.scrollTop = amount;
      document.body.scrollTop = amount
    },
    position: function () {
      return document.documentElement.scrollTop || document.body.parentNode.scrollTop || document.body.scrollTop;
    },
    scrollTo: function (to, duration, callback) {
      var start = this.position();
      var change = to - start;
      var increment = 20;
      var currentTime = 0;
      duration = (typeof (duration) === 'undefined') ? 500 : duration;
      var _this = this;
      var animateScroll = function () {
        currentTime += increment;
        var val = _this.easeInOutQuad(currentTime, start, change, duration);
        _this.move(val);
        if (currentTime < duration) {
          requestAnimFrame(animateScroll);
        } else {
          if (callback && typeof (callback) === 'function') {
            callback();
          }
        }
      };
      animateScroll();
    }
  }
</script>



<script id="newLoginPopupTemplate" type="x/templates">
    <popup-component
        :visible="visible"
        :width="420"
        :height="500"
        :order="dimmOrder"
        @closePopupAction="hidePopup">
            <div class="modal-container new_login_wrapper" v-if="isVisible" ref="modal">
                <div class="modal_close_btn">
                    <a href="javascript:;" class="btn_close_layer" @click="hidePopup">
                        <picture>
                            <img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/close/ic-close-medium-black@2x.png"
                                 alt="생생후기 상세 레이어 닫기">
                        </picture>
                    </a>
                </div>
                <div class="modal_content">
                    
                    <login-start v-if="viewType === 'loginStart'"
                                 :target_url="target_url"
                                 @changeViewType="changeViewType"
                                 @requestSnsLogin="onRequestSnsLogin"></login-start>
                    
                    <register-email v-else-if="viewType === 'registerEmail'"
                                    @changeViewType="changeViewType"
                                    @registerEmailConfirmed="onRegisterEmailConfirmed"
                                    @hidePopup="hidePopup"></register-email>
                    
                    <email-login v-else-if="viewType === 'emailLogin'"
                                 :target_url="target_url"
                                 @changeViewType="changeViewType"></email-login>
                    
                    <find-account v-else-if="viewType === 'findAccountEmail' || viewType === 'findAccountPassword'"
                                  :page-type="viewType"
                                  @changeViewType="changeViewType"></find-account>
                </div>
            </div>
    </popup-component>
</script>

<script language="JavaScript">
  Vue.component('new-login-pop', {
    template: "#newLoginPopupTemplate",
    mixins: [linkUrlMixin, popupMixin],
    data : function() {
      return {
        visible : "" === 'loginStart',
        viewType : 'loginStart',
        /*
         login : 로그인
         recommendEmail: SNS 계정 로그인시 Email 없을 경우 Email 입력 권고
        */
        mode : "login",
        target_url : '',
        account_data : {
          loginUserInfo : {   member_no : '',  member_id : '', account_type : '', account_type_name : ''    },
          snsUserInfo : {  sns_id : '', check_id: '', access_token : '', email : '', account_type : '', nickname : '', thumbnail_image : '' },
          inputEmailInfo : { email : '', agreement_person: '', agreement_marketing: '' }
        },
        doRequest : false,
        dimmOrder : 1
      }
    },
    components: {
      'popup-component': popupComponent
    },
    computed: {
      isVisible: function () {
        if (this.visible) {
          // this.$nextTick().then();
        }
        return this.visible
      }
    },
    methods: {
      init: function (dimmedOrder, viewType) {
        this.visible = true;
        this.viewType = viewType ? viewType : 'loginStart';
        this.termsPopup = false;
        this.dimmOrder = dimmedOrder ? dimmedOrder: 1;
      },
      initInquiry: function(target_url){
        this.visible = true;
        this.viewType = 'loginStart';
        this.termsPopup = false;
        this.target_url = target_url;
      },
      hidePopup: function () {
        this.visible = false;
      },
      changeViewType: function (type) {
        this.visible = true;
        this.viewType = type;
      },
      onShowRecommendEmail : function(loginUserData){
          this.mode = 'recommendEmail';
          this.account_data.loginUserInfo = loginUserData;
          this.changeViewType('registerEmail');
      },
      onRegisterEmailConfirmed : function( inputEmailInfo ){
          this.account_data.inputEmailInfo = inputEmailInfo;
          if( this.mode == 'recommendEmail' ){
              this.requestUpdateEmail();
          }
          else if ( this.mode == 'login' ) {
              var snsUserInfo = $.extend({}, this.account_data.snsUserInfo, this.account_data.inputEmailInfo);
              this.loginWithSnsAccount(snsUserInfo);
          }
      },
      onRequestSnsLogin : function(snsUserInfo){
          this.account_data.snsUserInfo = snsUserInfo;
          this.loginWithSnsAccount(snsUserInfo);
          /*
          if( snsUserInfo.email && snsUserInfo.email != "" ){
              this.loginWithSnsAccount(snsUserInfo);
          }
          else {
              this.checkRegisterEmail(snsUserInfo);
          }
           */
      },
      checkRegisterEmail : function(snsLoginUser){
        var params = 'sns_id='+snsLoginUser.sns_id+'&account_type='+snsLoginUser.account_type;
        axios.post('/common/checkRegisteredMember.json', params, {
            headers: {
                'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8'
            },
            timeout: 3000
        }).then(function (response) {
            if( response ){
                var responseData = response.data;
                if( response.status == 200 && responseData && responseData.success ){
                    if( !responseData.data.register && responseData.data.email_need ){
                        this.changeViewType('registerEmail');
                    }
                    else {
                        this.loginWithSnsAccount(snsLoginUser);
                    }
                }
                else {
                    if( responseData && responseData.result_msg ){
                        alert(response.data.result_msg);
                    }
                    else {
                        alert("로그인 실패하였습니다.");
                    }
                }
            }
            else {
                alert("로그인 실패하였습니다.");
            }
        }.bind(this))
            .catch( function (error) {
                alert('로그인 요청 중 오류가 발생하였습니다. 잠시 후 다시 시도해보세요.');
                zlog(error);
            }.bind(this));
      },
      loginWithSnsAccount : function(userInfo) {
        var formObject = $("<form/>");
        formObject.attr("action", "/common/snsLoginAction");
        formObject.attr("method", "post");
        formObject.append(this.createFormHiddenInput('sns_id' , userInfo.sns_id));
        formObject.append(this.createFormHiddenInput('user_name' , userInfo.nickname));
        formObject.append(this.createFormHiddenInput('account_type' , userInfo.account_type));
        formObject.append(this.createFormHiddenInput('access_token' , userInfo.access_token));
        formObject.append(this.createFormHiddenInput('email' , userInfo.email));
        formObject.append(this.createFormHiddenInput('switched_login' , userInfo.switched_login));
        formObject.append(this.createFormHiddenInput('agreement_person' , userInfo.agreement_person));
        formObject.append(this.createFormHiddenInput('agreement_marketing' , userInfo.agreement_marketing));
        if(this.target_url) formObject.append(this.createFormHiddenInput('targetUrl' , SERVICE_URL + this.target_url));


        $(document.body).append(formObject);
        formObject.submit();
      },
      createFormHiddenInput : function ( name, value ){
        var inputObj = $("<input/>");
        inputObj.attr("type", "hidden");
        inputObj.attr("name", name);
        inputObj.attr("value", value);
        return inputObj;
      },
      requestUpdateEmail : function(){
          var inputEmailInfo = this.account_data.inputEmailInfo;
          var loginUserInfo = this.account_data.loginUserInfo;

          var api_data = {
              email : inputEmailInfo.email,
              agreement_marketing : inputEmailInfo.agreement_marketing
          };

          zipAxios.post('/acs3/profile', api_data, {
              headers : {
                  'MEMBER-NO' : loginUserInfo.member_no
              }
          }).then(function (response) {
              this.doRequest = false;
              if( response.status == 200 ){
                  alert("정보 변경 성공하였습니다.");
                  this.hidePopup();

              }
              else {
                  alert("정보 변경이 실패하였습니다.");
              }
          }.bind(this))
              .catch( function (error) {
                  this.doRequest = false;
                  zlog(error);
                  zlog(error.response);
                  alert("정보 변경 중 서버 오류가 발생하였습니다.");
          }.bind(this));
      }
    },
    created: function () {
      eventBus.$on('showLoginPopup', this.init);
      eventBus.$on('showLoginPopupInquiry', this.initInquiry);
      eventBus.$on('showRecommendEmail', this.onShowRecommendEmail);
      eventBus.$on('naverLoginSuccess', this.onRequestSnsLogin);
    }
  });
</script>



<script id="loginStartTemplate" type="x/templates">
    <div>
        <div>
            <h3 class="main_text text_center mb-1">집닥 시작하기</h3>
            <p class="sub_text text_center mb-3">
                간편하게 소셜 계정으로 견적조회 및<br/>
                다양한 집닥 서비스를 이용해보세요!
            </p>
        </div>
        <div>
            <ul class="sns_group">
                <li class="sns_item sns_kakaotalk mb-1">
                    <kakao-login-comp @snsLoginSuccess="onSnsLoginSuccess">로그인</kakao-login-comp>
                </li>
                <li class="sns_item sns_naver mb-1">
                    <naver-login-comp @snsLoginSuccess="onSnsLoginSuccess">로그인</naver-login-comp>
                </li>
                <li class="sns_item sns_facebook mb-1">
                    <facebook-login-comp @snsLoginSuccess="onSnsLoginSuccess">로그인</facebook-login-comp>
                </li>
                <li class="sns_item sns_google">
                    <google-login-comp :component_name="'login'" @snsLoginSuccess="onSnsLoginSuccess">로그인</google-login-comp>
                </li>
            </ul>
        </div>
        <div class="last">
            <p class="text_center a_pointer small_text" @click="changeViewType('emailLogin')"> 이메일로 시작하기</p>
        </div>
    </div>
</script>
<script>
  Vue.component('login-start', {
    template: "#loginStartTemplate",
    methods: {
      changeViewType: function (type) {
        this.$emit('changeViewType', type);
      },
      onSnsLoginSuccess : function(snsLoginUser){
          this.$emit("requestSnsLogin", snsLoginUser);
      }
    }
  });

</script>


<script id="registerEmailTemplate" type="x/templates">
	<div>
		<div>
			<h3 class="main_text text_center mb-1">이메일 정보 등록</h3>
			<p class="sub_text text_center mb-4">
				이메일 정보를 등록해주시면<br/>
				더욱 편리한 집닥을 만나실 수 있습니다.
			</p>
		</div>
		<div class="form_control_group">
			<z-form ref="registerEmailForm" :model="formData">
				<div class="mb-2 form_input_box">
					<z-form-item
						prop="email"
						ref="email"
						:rules="{ trigger: 'blur', validator: validEmail }">
						<z-input
							v-model="formData.email"
							ref="email"
							type="email"
							size="large"
							addIcon
							placeholder="이메일 주소">
							<svg xmlns="http://www.w3.org/2000/svg" width="23" height="22" viewBox="0 0 23 22" class="z_input_icon a_pointer">
								<g fill="none" fill-rule="evenodd">
									<g transform="translate(-335 -145)">
										<rect width="420" height="500" fill="#FFF" rx="2" class="z_input_path_bg"></rect>
										<path fill="#DDD" class="z_input_path"
										      d="M353.4 149h-12.8c-.88 0-1.592.787-1.592 1.75l-.008 10.5c0 .962.72 1.75 1.6 1.75h12.8c.88 0 1.6-.788 1.6-1.75v-10.5c0-.963-.72-1.75-1.6-1.75zm-.084 3.5L347 156.875l-6.316-4.375v-1.75l6.316 4.375 6.316-4.375v1.75z"></path>
									</g>
								</g>
							</svg>
						</z-input>
					</z-form-item>
				</div>
				<div class="mb-4 clfix">
					<z-form-item
						prop="agreement_person"
						:rules="{ trigger: 'change', validator: validCheckbox }">
						<div class="pt-1">
							<z-checkbox
								v-model="formData.agreement_person"
								trueLabel="1"
								falseLabel="0"
								:addValidateClass="false">
								<span slot="label" class="f-13"><span class="zipdoc_text">(필수)</span></span>
								<span class="f-13 dark_text">
								<a class="_view_more" @click="openTermPopup('agreement_person_guide')">개인정보 수집 및 이용</a>에 동의
							</span>
							</z-checkbox>
						</div>
						<div class="pt-1 f-13">
							<z-checkbox
								v-model="formData.agreement_marketing"
								trueLabel="1"
								falseLabel="0"
								:addValidateClass="false">
								<span slot="label" class="f-13"><span class="zipdoc_text">(선택)</span></span>
								<span class="f-13 dark_text">
												<a class="_view_more" @click="openTermPopup('agreement_marketing')">인테리어 정보 및 마케팅 수신</a>에 동의
											</span>
							</z-checkbox>
						</div>
					</z-form-item>
				</div>
				<div>
					<z-button type="primary" size="large" @click="goRegisterEmail" :disabled="isDisabled">등록</z-button>
				</div>
				<div class="pt-2">
					<p class="f-14 gray_text text_center a_pointer" @click="noRegister">다음에 하기</p>
				</div>
			</z-form>
		</div>
	</div>
</script>

<script>
	var registerEmail = {
		data: function () {
			return {
				isDisabled: true,
				allValidCheck: true,
				allCheck: false,
				formData: {
					email: '',
					agreement_person: '0',
					agreement_marketing: '0'
				},
				email: '',
				agreement_view: {},
				agreement_data: {
					'agreement_person': '0',
					'agreement_marketing': '0'
				},
				validate: {
					email: '',
					checked: '',
					api: ''
				}
			}
		},
		methods: {
			openTermPopup: function (type) {
				eventBus.$emit('open_terms_dialog', {
					status: true,
					type: type,
					order: 2
				});
			},
			allValid: function (type) {
				this.allValidCheck = false;
				var email = this.validEmail(this.formData.email, true).result;
				var agreement_person = this.validCheckbox(this.formData.agreement_person, true).result;
				this.isDisabled = !(email && agreement_person);
				this.allValidCheck = true;
			},
			validEmail: function (val) {
				this.isDisabled = true;
				if (val) {
					// 기존 common_vue.js 에 있는 그대로
					var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
					if (re.test(val)) {
						if (this.allValidCheck) {
							this.allValid('email');
						}
						return {result: true};
					} else {
						return {result: false, message: '이메일 주소가 올바르지 않습니다.'};
					}
				} else {
					return {result: false, message: '이메일 주소를 입력해주세요.'};
				}
			},
			validCheckbox: function (val) {
				this.isDisabled = true;
				if (val === '0') {
					return {result: false, message: '개인정보 수집 및 이용에 동의해 주세요.'}
				} else {
					if (this.allValidCheck) {
						this.allValid('checkbox');
					}
					return {result: true}
				}
			},
			goRegisterEmail: function () {
				this.allValidCheck = false;
				this.$refs['registerEmailForm'].validate(function (valid, fistProp) {
					this.allValidCheck = true;
					if (valid) {
						this.isDisabled = false;
						var data = {
							email: this.formData.email,
							agreement_person: this.formData.agreement_person,
							agreement_marketing: this.formData.agreement_marketing
						};
						this.$emit('registerEmailConfirmed', data);
					} else {
						scrollUtils.scrollTo((this.$refs[fistProp].$el.getBoundingClientRect().top + window.pageYOffset), 500, function () {
							this.$refs[fistProp].focus();
						}.bind(this));
					}
				}.bind(this));
			},
		}
	}
</script>
<script>
	Vue.component('register-email', {
		template: "#registerEmailTemplate",
		mixins: [registerEmail],
		methods: {
			noRegister: function () {
				this.$emit('hidePopup');
			}
		}
	});

</script>

<script id="emailLoginTemplate" type="x/templates">
    <div>
        <div>
            <h3 class="main_text text_center mb-5">이메일로 시작하기</h3>
        </div>
        <div class="form_control_group">
            <z-form ref="sample" :model="formData">
            <form id="memberLoginForm">
            <div class="mb-1 form_input_box email">
                <z-form-item
                    prop="email"
                    ref="emailItem"
                    :rules="{ trigger: 'blur', error_msg: '이메일 주소를 입력해주세요.' }">
                    <z-input
                        v-model="formData.email"
                        ref="email"
                        type="email"
                        size="large"
                        addIcon
                        name="j_username"
                        placeholder="이메일 주소">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" class="z_input_icon a_pointer">
                            <path fill="#DDD" class="z_input_path" fill-rule="evenodd" d="M17.4 4H4.6c-.88 0-1.592.787-1.592 1.75L3 16.25c0 .962.72 1.75 1.6 1.75h12.8c.88 0 1.6-.788 1.6-1.75V5.75C19 4.787 18.28 4 17.4 4zm-.084 3.5L11 11.875 4.684 7.5V5.75L11 10.125l6.316-4.375V7.5z"></path>
                        </svg>
                    </z-input>
                </z-form-item>
            </div>
            <div class="mb-2 form_input_box password">
                <z-form-item
                    prop="password"
                    :rules="{ trigger: 'blur', error_msg: '비밀번호를 입력해주세요.' }">
                    <z-input
                        v-model="formData.password"
                        ref="password"
                        size="large"
                        addIcon
                        :type="passwordType"
                        name="j_password"
                        placeholder="비밀번호">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" class="z_input_icon a_pointer"
                             @click="togglePasswordType()">
                            <g fill="none" fill-rule="evenodd" v-if="passwordType === 'password'">
                                <path fill="#DDD" class="z_input_path" d="M11 4C6.255 4 2.378 6.94 1 11c1.378 4.06 5.255 7 10 7s8.622-2.94 10-7c-1.378-4.06-5.255-7-10-7z"></path>
                                <path fill="#FFF" class="z_input_path_bg" d="M16 11a5 5 0 1 0-10 0 5 5 0 0 0 10 0z"></path>
                                <path fill="#DDD" class="z_input_path" d="M14 11a3 3 0 1 0-6 0 3 3 0 0 0 6 0z"></path>
                                <path fill="#FFF" class="z_input_path_bg" d="M14 9a1 1 0 1 0-2 0 1 1 0 0 0 2 0z"></path>
                                <path stroke="#DDD" class="z_input_path_stroke" stroke-linecap="round" stroke-width="1.2" d="M18.5 3.5l-15 15"></path>
                            </g>
                            <g fill="none" fill-rule="evenodd" v-else="passwordType === 'text'">
                                <path fill="#DDD" class="z_input_path" d="M11 4C6.255 4 2.378 6.94 1 11c1.378 4.06 5.255 7 10 7s8.622-2.94 10-7c-1.378-4.06-5.255-7-10-7z"></path>
                                <path fill="#FFF" class="z_input_path_bg" d="M16 11a5 5 0 1 0-10 0 5 5 0 0 0 10 0z"></path>
                                <path fill="#DDD" class="z_input_path" d="M14 11a3 3 0 1 0-6 0 3 3 0 0 0 6 0z"></path>
                                <path fill="#FFF" class="z_input_path_bg" d="M14 9a1 1 0 1 0-2 0 1 1 0 0 0 2 0z"></path>
                            </g>
                        </svg>
                    </z-input>
                </z-form-item>
            </div>
            </form>
            </z-form>
            <div class="mb-2">
                <button type="button" class="zipdoc_color" @click="goLogin()">로그인</button>
                <div id="emailLoginDangerText" class="danger_text mt-08">{{validate.api}}</div>
            </div>
            <div>
                <ul class="small_text center-line-list">
                    <li class="a_pointer" @click="changeViewType('findAccountEmail')">이메일 찾기</li>
                    <li class="a_pointer" @click="changeViewType('findAccountPassword')">비밀번호 찾기</li>
                </ul>
            </div>
            <div class="last f-14 text_center">
                <span class="dark_text pr-1">아직 집닥의 회원이 아니시라면?</span>
                <a href="//zipdoc.co.kr/signUp/request/index/page" class="zipdoc_text">이메일로 회원가입</a>
            </div>
        </div>
    </div>
</script>

<script>
	var emailLogin = {
		data: function () {
			return {
				passwordType: 'password',
				formData: {
					email: '',
					password: ''
				},
				validate: {
					email: '',
					password: '',
					api: ''
				}
			}
		},
		methods: {
			togglePasswordType: function () {
				if (this.passwordType === 'password') {
					this.passwordType = 'text';
				} else {
					this.passwordType = 'password';
				}
			},
			validCheck: function () {
				var isValidate = false;
				this.$refs['sample'].validate(function (valid, fistProp) {
					if (valid) {
						isValidate = true;
					}
				});
				return isValidate;
			}
		}
	}
</script>

<script>
  Vue.component('email-login', {
    template: "#emailLoginTemplate",
    mixins: [emailLogin],
    props:['target_url'],
    methods: {
      changeViewType: function (type) {
        this.$emit('changeViewType', type);
      },
      goLogin : function () {
          if (this.validCheck()) {
            var loginFormData = new FormData();
            loginFormData.append('j_username', this.email);
            loginFormData.append('j_password',this.password);

            axios.post('/common/loginAction', $("#memberLoginForm").serialize(), {
                headers: {
                    'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8'
                },
                timeout: 3000
            }).then(function (response) {
              if (response) {
                if (response.status == 200 && response.data && response.data.success) {
                  if (this.target_url) {
                    window.location.href = SERVICE_URL + this.target_url;
                    return;
                  }
                  if (response.data && response.data.data && response.data.data.redirect_url) {
                    window.location.href = response.data.data.redirect_url;
                    return;
                  }
                  window.location.reload();
                }
                if (response.data && response.data.result_msg) {
                  this.validate.api = response.data.result_msg;
                  return;
                }
                this.validate.api = '로그인 실패하였습니다.';
              } else {
                this.validate.api = '서버로부터 수신된 정보가 정확하지 않습니다.';
              }
            }.bind(this))
                .catch( function (error) {
                    this.validate.api = '데이터 요청 중 오류가 발생하였습니다. 잠시 후 다시 시도해보세요.';
                    zlog(error);
            }.bind(this));
        }
      }
    }
  });

</script>


<script id="findAccountTemplate" type="x/templates">
	<div class="tabs">
		<div class="tabs_nav clfix">
			<div class="tabs_nav_tab a_pointer"
			     v-for="item in findType"
			     :class="[item.type == currentType ? 'tabs_nav_tab_active' : '']"
			     @click="activate(item.type)">{{item.name}}
			</div>
		</div>
		<div v-if="viewType == 'find'">
			<div class="tabs_content" v-show="currentType == 'email'">
				<div class="mt-4 form_control_group">
					<z-form ref="findEmailForm" :model="email">
						<div class="mb-1 form_input_box email">
							<z-form-item
								prop="name"
								ref="emailName"
								:rules="{ trigger: 'blur', validator: validName }">
								<z-input
									v-model="email.name"
									ref="name"
									size="large"
									addIcon
									placeholder="이름">
									<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" class="z_input_icon a_pointer">
										<path fill="#DDD" class="z_input_path" fill-rule="evenodd"
										      d="M11 2c-4.968 0-9 4.032-9 9s4.032 9 9 9 9-4.032 9-9-4.032-9-9-9zm0 2.7c1.494 0 2.7 1.206 2.7 2.7 0 1.494-1.206 2.7-2.7 2.7a2.696 2.696 0 0 1-2.7-2.7c0-1.494 1.206-2.7 2.7-2.7zm0 12.78a6.48 6.48 0 0 1-5.4-2.898c.027-1.791 3.6-2.772 5.4-2.772 1.791 0 5.373.981 5.4 2.772A6.48 6.48 0 0 1 11 17.48z"></path>
									</svg>
								</z-input>
							</z-form-item>
						</div>
						<div class="mb-2 form_input_box email">
							<z-form-item
								prop="phone"
								:rules="{ trigger: 'blur', validator: validPhone }">
								<z-input
									v-model="email.phone"
									ref="phone"
									size="large"
									type="tel"
									addIcon
									maxlength="11"
									placeholder="휴대폰 번호">
									<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" class="z_input_icon a_pointer">
										<path fill="#DDD" class="z_input_path" fill-rule="evenodd"
										      d="M14.429 2H7.57C6.15 2 5 3.096 5 4.455v13.09C5 18.904 6.149 20 7.571 20h6.858C15.85 20 17 18.904 17 17.545V4.455C17 3.096 15.851 2 14.429 2zm-1.715 16.364H9.286v-.819h3.428v.819zM15 15.909H7V4.455h8v11.454z"></path>
									</svg>
								</z-input>
							</z-form-item>
						</div>
						<div>
							<z-button type="primary" :class="" size="large" @click="goFindEmail" :disabled="isDisabled">이메일 찾기</z-button>
							<div id="findEmailDangerText" class="danger_text mt-08">{{validate.email.api}}</div>
						</div>
					</z-form>
				</div>
			</div>
			<div class="tabs_content" v-show="currentType == 'password'">
				<div class="mt-4 form_control_group">
					<z-form ref="findPasswordForm" :model="password">
						<div class="mb-1 form_input_box email">
							<z-form-item
								prop="email"
								ref="passwordEmail"
								:rules="{ trigger: 'blur', validator: validEmail }">
								<z-input
									v-model="password.email"
									ref="email"
									type="email"
									size="large"
									addIcon
									placeholder="이메일 주소">
									<svg xmlns="http://www.w3.org/2000/svg" width="23" height="22" viewBox="0 0 23 22" class="z_input_icon a_pointer">
										<g fill="none" fill-rule="evenodd">
											<g transform="translate(-335 -145)">
												<rect width="420" height="500" fill="#FFF" rx="2" class="z_input_path_bg"></rect>
												<path fill="#DDD" class="z_input_path"
												      d="M353.4 149h-12.8c-.88 0-1.592.787-1.592 1.75l-.008 10.5c0 .962.72 1.75 1.6 1.75h12.8c.88 0 1.6-.788 1.6-1.75v-10.5c0-.963-.72-1.75-1.6-1.75zm-.084 3.5L347 156.875l-6.316-4.375v-1.75l6.316 4.375 6.316-4.375v1.75z"></path>
											</g>
										</g>
									</svg>
								</z-input>
							</z-form-item>
						</div>
						<div class="mb-2 form_input_box password">
							<z-form-item
								prop="name"
								ref="passwordName"
								:rules="{ trigger: 'blur', validator: validName }">
								<z-input
									v-model="password.name"
									ref="name"
									size="large"
									addIcon
									placeholder="이름">
									<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" class="z_input_icon a_pointer">
										<path fill="#DDD" class="z_input_path" fill-rule="evenodd"
										      d="M11 2c-4.968 0-9 4.032-9 9s4.032 9 9 9 9-4.032 9-9-4.032-9-9-9zm0 2.7c1.494 0 2.7 1.206 2.7 2.7 0 1.494-1.206 2.7-2.7 2.7a2.696 2.696 0 0 1-2.7-2.7c0-1.494 1.206-2.7 2.7-2.7zm0 12.78a6.48 6.48 0 0 1-5.4-2.898c.027-1.791 3.6-2.772 5.4-2.772 1.791 0 5.373.981 5.4 2.772A6.48 6.48 0 0 1 11 17.48z"></path>
									</svg>
								</z-input>
							</z-form-item>
						</div>
						<div>
							<z-button type="primary" :class="" size="large" @click="goFindPassword" :disabled="isDisabled">비밀번호 찾기</z-button>
							<div id="findPasswordDangerText" class="danger_text mt-08">{{validate.password.api}}</div>
						</div>
					</z-form>
				</div>
			</div>
			<div class="last small_text">
				<a class="back_social" @click="changeViewType('emailLogin')">
					<img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc/new_3.5.7/login/btn-back@2x.png">
					이메일 로그인으로 돌아가기
				</a>
			</div>
		</div>
		<div v-if="viewType == 'result'">
			<div v-if="status && status === 'success'">
				<div class="tabs_content" v-if="currentType == 'email'">
					<div class="mt-6 form_control_group text_center">
						<p class="mb-1 zipdoc_text">{{userEmail}}</p>
						<p class="mb-6 dark_text">회원님의 정보와 일치하는 이메일입니다.</p>
					</div>
				</div>
				<div class="tabs_content" v-if="currentType == 'password'">
					<div class="mt-6 form_control_group text_center">
						<p class="mb-1 zipdoc_text">{{userEmail}}</p>
						<p class="mb-6 dark_text">이메일로 임시비밀번호를 전송하였습니다.<br/>
							로그인 후 비밀번호를 변경해주세요.</p>
					</div>
				</div>
				<div>
					<button type="button" class="z_btn z_large z_secondary_bk_w_btn" @click="changeViewType('emailLogin')">이메일로 로그인하기</button>
				</div>
			</div>
			<div v-if="status && status === 'fail'">
				<div class="tabs_content">
					<div class="mt-6 form_control_group text_center">
						<p class="mb-6 dark_text" v-html="errorMsg"></p>
					</div>
				</div>
				<div>
					<button type="button" class="z_btn z_large z_secondary_bk_w_btn" @click="changeViewType('loginStart')">소셜 계정으로 시작하기</button>
				</div>
			</div>

			<div class="last small_text">
				<a class="back_social" @click="backViewPage()">
					<img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc/new_3.5.7/login/btn-back@2x.png">
					뒤로
				</a>
			</div>
		</div>
	</div>
</script>

<script>
	var findAccount = {
		data: function () {
			return {
				isDisabled: true,
				allValidCheck: true,
				allCheck: false,
				currentType: 'email',
				viewType: 'find',
				status: '',
				userEmail: '',
				errorMsg: '',
				findType: [
					{
						type: 'email',
						name: '이메일 찾기'
					},
					{
						type: 'password',
						name: '비밀번호 찾기'
					}
				],
				email: {
					name: '',
					phone: ''
				},
				password: {
					email: '',
					name: ''
				},
				validate: {
					email: {
						api: ''
					},
					password: {
						api: ''
					}
				}
			}
		},
		methods: {
			changeViewType: function (type) {
				this.$emit('changeViewType', type);
			},
			reset: function () {
				this.password.email = '';
				this.password.name = '';
				this.email.name = '';
				this.email.phone = '';

				this.isDisabled = true;
				this.allValidCheck = true;
				this.allCheck = false;
				this.$refs['findEmailForm'].clearValidate();
				this.$refs['findPasswordForm'].clearValidate();
			},
			backViewPage: function () {
				this.viewType = 'find';
				this.userEmail = '';
				this.reset();
			},
			goFindEmail: function () {
				this.allValidCheck = false;
				var _this = this;
				this.$refs['findEmailForm'].validate(function (valid, fistProp) {
					_this.allValidCheck = true;
					if (valid) {
						_this.isDisabled = false;
						_this.viewType = 'result';
						var params = {
							"username": _this.email.name,
							"mobile_no": _this.email.phone
						};
						zipAxios.post('/acs3/forgot/account', params
						).then(function (response) {
							if (response.status === 200) {
								_this.status = 'success';
								_this.userEmail = response.data.email;
								_this.reset();
							} else {
								_this.status = 'fail';
								_this.errorMsg = '작성하신 정보와 일치하는<br/>이메일이 존재하지 않습니다.'
							}
						}.bind(this));
					} else {
						scrollUtils.scrollTo((_this.$refs[fistProp].$el.getBoundingClientRect().top + window.pageYOffset), 500, function () {
							this.$refs[fistProp].focus();
						}.bind(this));
					}
				});
				if(checkMobile()){
					eventBus.$emit('changeFindViewType', this.viewType);
				}
			},
			goFindPassword: function () {
				this.allValidCheck = false;
				var _this = this;
				this.$refs['findPasswordForm'].validate(function (valid, fistProp) {
					_this.allValidCheck = true;
					if (valid) {
						_this.isDisabled = false;
						_this.viewType = 'result';
						var params = {
							"email": _this.password.email,
							"username": _this.password.name
						};
						zipAxios.post('/acs3/forgot/password', params
						).then(function (response) {
							if (response.status === 200) {
								_this.status = 'success';
								_this.userEmail = _this.password.email;
								_this.reset();
							} else {
								_this.status = 'fail';
								_this.errorMsg = '이메일과 이름이 올바르지 않거나<br/>가입하지 않은 이메일입니다.'
							}
						}.bind(this));
					} else {
						scrollUtils.scrollTo((_this.$refs[fistProp].$el.getBoundingClientRect().top + window.pageYOffset), 500, function () {
							this.$refs[fistProp].focus();
						}.bind(this));
					}
				});
				if(checkMobile()){
					eventBus.$emit('changeFindViewType', this.viewType);
				}
			},
			allValid: function (type) {
				this.allValidCheck = false;
				if (this.currentType === 'email') {
					this.isDisabled = !(
						(type === 'name' ? true : this.validName(this.email.name, true).result)
						&& (type === 'phone' ? true : this.validPhone(this.email.phone, true).result)
					);
				} else {
					this.isDisabled = !(
						(type === 'email' ? true : this.validEmail(this.password.email, true).result)
						&& (type === 'phone' ? true : this.validName(this.password.name, true).result)
					);
				}
				this.allValidCheck = true;
			},
			validName: function (val) {
				this.isDisabled = true;
				if (val && val.replace(/\s/gi, '').length > 1) {
					if (this.allValidCheck) {
						this.allValid('name');
					}
					return {result: true};
				} else if (val && val.replace(/\s/gi, '').length < 2) {
					return {result: false, message: '2자 이상 입력해주세요.'}
				} else {
					return {result: false, message: '이름을 입력해주세요.'}
				}
			},
			validPhone: function (val) {
				this.isDisabled = true;
				if (val) {
					// 기존 common_vue.js 에 있는 그대로
					var re = /.{10,11}/;
					if (!re.test(val)) {
						return {result: false, message: '휴대폰번호는 10자~11자로 입력해주세요.'};
					}
					re = /^(01[016789]{1}|02|0[3-9]{1}[0-9]{1})([0-9]{3,4})([0-9]{4})$/;
					if (!re.test(val)) {
						return {result: false, message: '휴대폰번호를 확인해주세요.'};
					}
					if (this.allValidCheck) {
						this.allValid('phone');
					}
					return {result: true};
				} else {
					return {result: false, message: '휴대폰 번호를 입력해주세요.'}
				}
			},
			validEmail: function (val) {
				this.isDisabled = true;
				if (val) {
					// 기존 common_vue.js 에 있는 그대로
					var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
					if (re.test(val)) {
						if (this.allValidCheck) {
							this.allValid('email');
						}
						return {result: true};
					} else {
						return {result: false, message: '이메일 주소가 올바르지 않습니다.'};
					}
				} else {
					return {result: false, message: '이메일 주소를 입력해주세요.'};
				}
			},
			mounted: function () {
				setSignedIntInputFilter(".number_only_textinput");
			}
		}
	}
</script>
<script>
	Vue.component('find-account', {
		template: "#findAccountTemplate",
		props: ['pageType'],
        mixins: [findAccount],
		methods: {
			activate: function (type) {
				if (this.currentType !== type) {
					if (this.viewType === 'result') {
						this.viewType = 'find';
						this.status = '';
					}
					this.currentType = type;
					this.reset();
				}
			}
		},
		created: function () {
			if (this.pageType === 'findAccountPassword') {
				this.currentType = 'password';
			} else {
				this.currentType = 'email';
			}
		}
	});

</script>


<script id="naverLoginComponentTemplate" type="x/templates">
    <div>
        <a id="naverIdLogin_loginButton" href="#" role="button">
            <span>네이버로 <slot></slot></span>
        </a>
    </div>
</script>
<script language="JavaScript">
    Vue.component('naver-login-comp', {
        template: "#naverLoginComponentTemplate",
        data : function(){
            return {
                'naver_client' : {
                    'call_back_url': document.location.protocol+"//"+window.location.host+"/html/oAuthNaver.jsp",
                    'client_id': 'jVBrg4dhvn_RKstzOnzI'
                }
            };
        },
        methods: {
            'startApp' : function () {
                var naverLogin = new naver.LoginWithNaverId(
                    {
                        clientId: this.naver_client.client_id,
                        callbackUrl: this.naver_client.call_back_url,
                        isPopup: true
                    }
                );

                /* 설정정보를 초기화하고 연동을 준비 */
                naverLogin.init();
            },
            'loginCallbackSuccess' : function(id, nickname, email, snsType, access_token, profile_image) {
                var userInfo = {
                    sns_id : id,
                    check_id : 'N'+id,
                    access_token : access_token,
                    email : email,
                    account_type : snsType,
                    nickname : nickname,
                    thumbnail_image : profile_image
                };
                this.$emit('snsLoginSuccess', userInfo);
            },
            'loginCallbackError' : function(error) {
                zlog(error);
            }
        },
        mounted: function () {
            this.startApp();
        }
    });
</script>


<script id="googleLoginComponentTemplate" type="x/templates">
    <a href="javascript:;" :id="loginComponentBtnId" v-on:click="loginChecker();">
        <span>구글로 <slot></slot></span>
    </a>
</script>
<script language="JavaScript">
    Vue.component('google-login-comp', {
        template: "#googleLoginComponentTemplate",
        data : function(){
            return {
                'google_client' : {
                    client_id: '559540265936-podeo0nldbvqks7bmadmc77qert5ei2u.apps.googleusercontent.com',
                    cookiepolicy: 'single_host_origin',
                    scope: 'profile email'  // Request scopes in addition to 'profile' and 'email'
                },
                'browser' : {
                    is_ie : (navigator.appName == "Microsoft Internet Explorer"),
                    ver : get_ver_IE()
                },
                loginComponentName : 'GoogleLogin'
            };
        },
        computed : {
            loginComponentBtnId : function(){
                return 'googleLoginBtn_'+this.loginComponentName;
            }
        },
        props: [ 'component_name' ],
        methods: {
            IESnsChecker : function() {
                var is_ie = this.browser.is_ie;
                var ver = this.browser.ver;

                var result = false;
                //IE가 아니면서 버전이 NAN 면
                if (!is_ie && isNaN(ver)) {
                    result = true;
                } else {
                    if (!isNaN(ver)) {
                        if (ver > 9) {
                            result = true;
                        } else if (ver == 8 || ver == 9) {
                            result = false;
                        }
                    }
                }
                return result;
            },
            'loginChecker' : function () {
                if (!this.IESnsChecker()) {
                    alert("IE8,9에서는 구글로그인이 제한됩니다\n다른 SNS 계정으로 로그인 해주세요.");
                    return false;
                }
                return true;
            },
            'startApp' : function () {
                var thisVueComponent = this;
                gapi.load('auth2', function () {
                    // Retrieve the singleton for the GoogleAuth library and set up the client.
                    var auth2 = gapi.auth2.init(  thisVueComponent.google_client );
                    auth2.attachClickHandler( document.getElementById(thisVueComponent.loginComponentBtnId), {}, thisVueComponent.loginCallbackSuccess , thisVueComponent.loginCallbackError );
                });
            },
            'loginCallbackSuccess' : function(googleUser) {
                zlog(googleUser);
                var profile = googleUser.getBasicProfile();
                // The ID token you need to pass to your backend:
                var id_token = googleUser.getAuthResponse().id_token;
                //zlog("ID Token: " + id_token);
                var username = profile.getFamilyName() + profile.getGivenName();
                var thumbnail_image = profile.getImageUrl();

                var userInfo = {
                    sns_id : profile.getId(),
                    check_id : 'G'+profile.getId(),
                    access_token : id_token,
                    email : profile.getEmail(),
                    account_type : 5,
                    nickname : username,
                    thumbnail_image : thumbnail_image
                };
                this.$emit('snsLoginSuccess', userInfo);
            },
            'loginCallbackError' : function(error) {
                zlog(error);
            }
        },
        mounted : function(){
            if ( this.IESnsChecker()) {
                this.startApp();
            }
        },
        beforeMounted : function(){
            this.loginComponentName = this.component_name;
        }
    });
</script>


<script id="facebookLoginComponentTemplate" type="x/templates">
    <a href="javascript:;" id="facebookLoginBtn" v-on:click="loginChecker();">
        <span>페이스북으로 <slot></slot></span>
    </a>
</script>
<script language="JavaScript">
    Vue.component('facebook-login-comp', {
        template: "#facebookLoginComponentTemplate",
        data : function(){
            return {
                'browser' : {
                    is_ie : (navigator.appName == "Microsoft Internet Explorer"),
                    ver : get_ver_IE()
                }
            };
        },
        methods: {
            IESnsChecker : function() {
                var is_ie = this.browser.is_ie;
                var ver = this.browser.ver;

                var result = false;
                //IE가 아니면서 버전이 NAN 면
                if (!is_ie && isNaN(ver)) {
                    result = true;
                } else {
                    if (!isNaN(ver)) {
                        if (ver > 9) {
                            result = true;
                        } else if (ver == 8 || ver == 9) {
                            result = false;
                        }
                    }
                }
                return result;
            },
            'loginChecker' : function () {
                if (!this.IESnsChecker()) {
                    alert("IE8에서는 페이스북 로그인이 제한됩니다\n다른 SNS 계정으로 로그인 해주세요.");
                    return false;
                }
                this.fbLogin();
                return true;
            },
            'fbLogin' : function () {
                var vueComponent = this;
                FB.login(function (response) {
                    vueComponent.checkLoginState();
                }, {scope: 'public_profile,email'});
            },
            'checkLoginState' : function () {
                var vueComponent = this;
                FB.getLoginStatus(function (response) {
                    vueComponent.statusChangeCallback(response);
                });
            },
            'statusChangeCallback' : function (response) {
                if (response.status === 'connected') {
                    this.fbLoginTreat(response.authResponse.accessToken);
                } else if (response.status === 'not_authorized') {
                    console.log('Please log into this app.');
                } else {
                    console.log('Please log into Facebook.');
                }
            },
            'fbLoginTreat' : function (token) {
                this.access_token = token;
                FB.api('/me', {fields: 'first_name,email,last_name,name,id,picture.width(150).height(150)'}, this.loginCallbackSuccess );
            },
            'fbLogout' : function () {
                FB.logout(function (response) {
                    window.location.reload();
                });
            },
            'loginCallbackSuccess' : function(response) {
                zlog(response);

                var userInfo = {
                    sns_id : response.id,
                    check_id : 'F'+response.id,
                    access_token : this.access_token,
                    email : response.email,
                    account_type : 2,
                    nickname : response.name,
                    thumbnail_image : response.picture.data.url
                };
                this.$emit('snsLoginSuccess', userInfo);
            }
        }
    });
</script>


<script id="kakaoLoginComponentTemplate" type="x/templates">
    <a href="javascript:;" @click="kakaoLogin();">
        <span>카카오로 <slot></slot></span>
    </a>
</script>
<script language="JavaScript">
    Vue.component('kakao-login-comp', {
        template: "#kakaoLoginComponentTemplate",
        data : function(){
            return {
            };
        },
        methods: {
            'kakaoLogin' : function () {
                var vueComponent = this;
                // 로그인 창을 띄웁니다.
                // throughTalk: false,
                Kakao.Auth.login({
                    success: function(authObj) {

                        // 로그인 성공시, API를 호출합니다.
                        var access_token = authObj.access_token;

                        Kakao.API.request({
                            url: '/v2/user/me',
                            success: function (res) {
                                var userInfo = {
                                    sns_id : res.id,
                                    check_id : 'K'+res.id,
                                    access_token : access_token,
                                    email : "",
                                    account_type : 3,
                                    nickname : "Unknown",
                                    thumbnail_image : ""
                                };

                                if( res.kakao_account && res.kakao_account.email ){
                                    userInfo.email = res.kakao_account.email;
                                }

                                if( res.properties ){
                                    if( res.properties.nickname ){
                                        userInfo.nickname = res.properties.nickname;
                                    }
                                    if( res.properties.thumbnail_image ){
                                        userInfo.thumbnail_image = res.properties.thumbnail_image;
                                    }
                                }
                                vueComponent.loginCallbackSuccess(userInfo);
                            },
                            fail: vueComponent.loginCallbackError
                        });
                    },
                    fail: vueComponent.loginCallbackError
                });
            },
            'kakaoLogout' : function () {
                Kakao.Auth.logout();
            },
            'startApp' : function(){
                // Kakao.init(this.kakao_key);
            },
            'loginCallbackError' : function(error) {
                zlog(error);
            },
            'loginCallbackSuccess' : function(userInfo) {
                this.$emit('snsLoginSuccess', userInfo);
            }
        },
        created: function () {
            this.startApp();
        },
        mounted: function () {

        }
    });
</script>



<script id="agreementTemplate" type="x/templates">
    <div class="agreement_chks">
        <div class="checkbox_wrap">
            <div class="chk_all_wrap mb-1" v-if="agreement_view.agreement_all">
                <div class="checks _bigger">
                    <input id="agreement_all" type="checkbox" name="chk" class="required small-h" title="약관 동의" @change="selectAgreementAll()" v-model="all_checked" >
                    <label for="agreement_all"><span>전체 동의</span></label>
                </div>
            </div>
            <div class="chk_cell_wrap mb-1" v-if="agreement_view.agreement_person">
                <div class="checks" v-if="containTerms">
                    <div class="terms_text_wrap">
                        




<!-- wrapper -->
<div id="wrapper">

    <div class="alone_wrap">
        <div class="alone_content">

            <!-- 정보 제공 및 이용 동의서  -->
            <div class="bx">
                <div class="bx_head">
                    <h1>개인정보 수집 및 이용에 대한 안내</h1>
                </div>

                <div class="bx_body">
                    <p class="margin-top-30">
                        집닥 주식회사(이하 ‘집닥’)는 견적을 신청하시는 분께 정보통신망 이용촉진 및 정보보호 등에 관한 법률 등 관련 법령에 따라 개인정보의 수집·이용 목적,
                        수집하려는 개인정보의 항목, 개인정보의 보유 및 이용 기간에 대하여 안내드리오니 자세히 읽은 후 동의하여 주시기 바랍니다.
                    </p>
                    <div>
                        <h3>1. 개인정보의 수집·이용 목적</h3>
                        <p>
                            이용자 견적 의사 확인, 이용자 본인 식별·인증, 상담 및 방문견적 등 각종 서비스 제공을 위한 집닥 운영자 및 협력 파트너(사)에 정보 제공, 물품 또는 서비스 공급에 따른 금액 결제,
                            물품 또는 서비스의 공급.배송, 당사자간 계약이행사항 확인, 법령 및 이용약관을 위반에 대한 이용 제한 조치, 부정 이용 행위를 포함하여
                            서비스의 원활한 운영에 지장을 주는 행위에 대한 방지 및 제재, 계정도용 및 부정거래 방지, 약관 개정 등의 고지사항 전달, 분쟁조정을 위한 기록 보존,
                            민원처리 등 이용자 보호 및 서비스 운영, 서비스 이용기록과 접속 빈도 분석, 서비스 이용에 대한 통계, 서비스 분석 및 통계에 따른 맞춤 서비스 제공 및 광고 게재,
                            보안, 프라이버시, 안전 측면에서 이용자가 안심하고 이용할 수 있는 서비스 이용환경 구축 등
                        </p>
                        <h3>2. 수집하려는 개인정보의 항목</h3>
                        <p>
                            - 회원가입시 : 이름, 휴대폰번호, 이메일주소<br>
                            - 견적신청시 : 이름, 휴대폰번호, 공사지주소
                        </p>
                        <h3>3. 개인정보의 보유 및 이용 기간</h3>
                        <p>
                            원칙적으로 이용자의 본 견적신청 목적달성시 지체없이 파기. 단, 이용자에게 개인정보 보관기간에 대해 별도의 동의를 얻은 경우,
                            또는 아래 법령에서 일정 기간 정보보관 의무를 부과하는 경우에는 해당 기간 동안 동의 내용 또는 법령의 규정의 내용 및 목적에 맞게 개인정보를 안전하게 보관.
                        </p>
                        <p>- 전자상거래 등에서 소비자 보호에 관한 법률</p>
                        <p class="padding-left-20">
                            계약 또는 청약철회 등에 관한 기록: 5년 보관<br>
                            대금결제 및 재화 등의 공급에 관한 기록: 5년 보관<br>
                            소비자의 불만 또는 분쟁처리에 관한 기록: 3년 보관
                        </p>
                        <p>- 전자금융거래법</p>
                        <p class="padding-left-20">전자금융에 관한 기록: 5년 보관</p>
                        <p>- 통신비밀보호법</p>
                        <p class="padding-left-20">로그인 기록: 3개월</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / 정보 제공 및 이용 동의서  -->

                    </div>
                    <input id="agreement_person_contain_terms" type="checkbox" @change="fireEventData(agreement_data.agreement_person)"   v-model="agreement_data.agreement_person" name="user.agreement_person" class="required" true-value="1" false-value="0" v-bind:class="{ required : agreement_view.agreement_person}">
                    <label for="agreement_person_contain_terms"><span class="case_001">(필수)개인정보 수집 및 이용에 동의</span></label>
                </div>
                <div class="checks" v-else>
                    <input id="agreement_person" type="checkbox" @change="fireEventData(agreement_data.agreement_person)"   v-model="agreement_data.agreement_person" name="user.agreement_person" class="required" true-value="1" false-value="0" v-bind:class="{ required : agreement_view.agreement_person}">
                    <label for="agreement_person"><span class="case_001">(필수)</span> <span>에 동의</span></label>
                    <a @click="openTermPopup('agreement_person_guide')" class="_view_more">개인정보 수집 및 이용</a>
                </div>
            </div>
            <div class="chk_cell_wrap mb-1" v-if="agreement_view.agreement_person_for_partner">
                <div class="checks">
                    <input id="agreement_person_for_partner" type="checkbox" @change="fireEventData(agreement_data.agreement_person_for_partner)"   v-model="agreement_data.agreement_person_for_partner" name="user.agreement_person_for_partner" class="required" true-value="1" false-value="0" v-bind:class="{ required : agreement_view.agreement_person_for_partner}">
                    <label for="agreement_person_for_partner"><span class="case_001">(필수)</span> <span>에 동의</span></label>
                    <a @click="openTermPopup('agreement_person_for_partner')" class="_view_more">개인정보 수집 및 이용</a>
                </div>
            </div>
            <div class="chk_cell_wrap mb-1" v-if="agreement_view.agreement_person_for_register">
                <div class="checks">
                    <input id="agreement_person_for_register" type="checkbox" @change="fireEventData(agreement_data.agreement_person_for_register)"   v-model="agreement_data.agreement_person_for_register" name="user.agreement_person_for_register" class="required" true-value="1" false-value="0" v-bind:class="{ required : agreement_view.agreement_person_for_register}">
                    <label for="agreement_person_for_register"><span class="case_001">(필수)</span> <span>에 동의</span></label>
                    <a @click="openTermPopup('agreement_person_for_register')" class="_view_more">개인정보 수집 및 이용</a>
                </div>
            </div>
            <div class="chk_cell_wrap mb-1" v-if="agreement_view.agreement_join">
                <div class="checks">
                    <input id="agreement_join" type="checkbox" @change="fireEventData(agreement_data.agreement_join)" v-model="agreement_data.agreement_join" name="user.agreement_join" class="required" true-value="1" false-value="0" v-bind:class="{ required : agreement_view.agreement_join}">
                    <label for="agreement_join"><span class="case_002">(필수)</span> <span>에 대한 동의</span></label>
                    <a @click="openTermPopup('agreement_join')" class="_view_more">이용약관</a>
                </div>
            </div>
            <div class="chk_cell_wrap mb-1" v-if="agreement_view.agreement_third_party">
                <div class="checks" v-if="containTerms">
                    <div class="terms_text_wrap">
                        



<div class="alone_wrap">
    <div class="alone_content">

        <!-- 정보 제공 및 이용 동의서  -->
        <div class="bx">
            <div class="bx_head">
                <h1>개인정보 제 3자 제공에 관한 사항</h1>
            </div>
            <div class="bx_body">
                <div class="privacy_box margin-top-30">
                    <p>
                        ① 제공받는 자<br><br>
                        - 집닥 사업파트너사 : <a href="/partner/main">[전체보기]</a><br>
                        - (이벤트 제휴서비스 신청시) 해당 제휴사(이하 ‘제휴사’) : <a href="/benefit/eventList">[전체보기]</a><br>
                        - (광고 제외 식별 목적시) 해당 광고대행사(이하 ‘광고대행사’) : ㈜디베이스앤<br>
                        <br>
                        ② 제공받는 자의 이용 목적<br><br>
                        - (파트너사에게 제공하는 경우) 견적상담, 방문견적, 계약체결 등<br>
                        - (제휴사에게 제공하는 경우) 해당 제휴사 서비스에 대한 정보, 광고, 홍보, 이벤트 제공<br>
                        - (광고대행사에게 제공하는 경우) 광고 제외 식별 목적<br>
                        <br>

                        ③ 제공할 개인정보의 항목<br><br>
                        - 이름, 전화번호, 휴대폰번호, 시공지역의 주소, 서비스 이용과정에서 이용자가 입력한 정보 및 작성한 저작물<br>
                        <br>

                        ④ 제공받은 자의 개인 정보 보유․이용 기간<br><br>
                        - 위 개인정보는 (제공된 날부터) 파트너사에게 제공되는 경우 1년, 제휴사 또는 광고대행사에게 제공되는 경우 6개월 간 각 보유·이용되며 보유목적 달성 시 또는 정보주체가 개인정보 삭제를 요청할 경우 지체 없이 파기합니다.<br>
                        - 단, 이용자에게 개인정보 보관기간에 대해 별도의 동의를 얻은 경우, 또는 아래 법령에서 일정 기간 정보보관 의무를 부과하는 경우에는 해당 기간 동안 동의 내용 또는 법령의 규정의 내용 및 목적에 맞게 개인정보를 안전하게 보관<br><br>

                        전자상거래 등에서 소비자 보호에 관한 법률<br>
                        &nbsp;&nbsp;계약 또는 청약철회 등에 관한 기록: 5년 보관<br>
                        &nbsp;&nbsp;대금결제 및 재화 등의 공급에 관한 기록: 5년 보관<br>
                        &nbsp;&nbsp;소비자의 불만 또는 분쟁처리에 관한 기록: 3년 보관<br><br>
                        전자금융거래법<br>
                        &nbsp;&nbsp;전자금융에 관한 기록: 5년 보관<br><br>
                        통신비밀보호법<br>
                        &nbsp;&nbsp;로그인 기록: 3개월<br><br>

                        ⑤ 개인정보의 제3자 제공에 대한 동의를 거부·철회할 권리 및 그 경우의 불이익<br><br>
                        - 이용자는 개인정보의 제3자 제공에 대하여 동의를 하지 않을 수 있고, 언제든지 그 동의를 철회할 수 있습니다. 다만 동의를 거부·철회시 정상적인 집닥 서비스 이용이 제한될 수 있습니다.<br>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
                    </div>
                    <input id="agreement_third_party_contain_terms" type="checkbox" @change="fireEventData(agreement_data.agreement_third_party)" v-model="agreement_data.agreement_third_party" name="user.agreement_third_party" v-bind:class="{ required : agreement_view.agreement_third_party}" true-value="1" false-value="0">
                    <label for="agreement_third_party_contain_terms"><span class="case_003">(필수)개인정보 제3자 제공에 동의</span></label>
                </div>
                <div class="checks" v-else>
                    <input id="agreement_third_party" type="checkbox" @change="fireEventData(agreement_data.agreement_third_party)" v-model="agreement_data.agreement_third_party" name="user.agreement_third_party" v-bind:class="{ required : agreement_view.agreement_third_party}" true-value="1" false-value="0">
                    <label for="agreement_third_party"><span class="case_003">(필수)</span> <span>에 동의</span></label>
                    <a @click="openTermPopup('agreement_third_party')"  class="_view_more">개인정보 제3자 제공</a>
                </div>
            </div>
            <div class="chk_cell_wrap mb-1" v-if="agreement_view.agreement_marketing">
                <div class="checks" v-if="containTerms">
                    <div class="ellipsis">
                        



<div class="alone_wrap">
    <div class="alone_content">

        <!-- 인테리어 정보 및 이벤트 알림 수신 동의  -->
        <div class="bx">
            <div class="bx_head">
                <h1>인테리어 정보 및 마케팅 수신 동의</h1>
            </div>

            <div class="bx_body">
                <p class="margin-top-30">집닥 주식회사는 회원들께 더 나은 서비스를 제공하고자 정보 제공 및 이벤트 알림 목 적의 개인정보 수집 및 이용에 대한 동의를 받고자 합니다. 내용을 자세히 읽으신 후, 동의를 원하시면 원래의 화면으로 돌아가  "동의"에 체크하신 후 다음 단계로 넘어가시면 됩니다. 보다 자세한 내용은 회사 홈페이지에 게시된 개인정보 처리방침을 참조하여 주시기 바랍니다.</p>

                <div>
                    <h3>목적</h3>
                    <p>
                        - 집닥의 상품, 서비스에 대한 정보, 광고, 홍보, 이벤트 제공 (자세한 사항은 개인정보 처리방침 참조)
                    </p>
                    <h3>처리하는 개인정보 항목</h3>
                    <p>
                        - 이름, 휴대전화번호, 이메일 주소, 영업장 주소
                    </p>


                    <h3>개인정보 보유 및 이용기간</h3>
                    <p>
                        정보 및 이벤트 목적의 개인정보 수집, 이용에 대한 동의 시부터 동의 철회 또는 회원 탈퇴시까지 (최대 2년간)
                    </p>
                    <h3>
                        정보 및 이벤트 항목은 선택 사항이므로 동의를 거부하는 경우에도 집닥 서비스의 이용에는 영향이 없습니다. 또한 정보 및 이벤트 수신 동의는 고객 센터를 통해 언제든지 철회할 수 있습니다.
                    </h3>
                </div>
            </div>
        </div>
    </div>
</div>
                    </div>
                    <input id="agreement_marketing_contain_terms"  type="checkbox" @change="fireEventData(agreement_data.agreement_marketing)" v-model="agreement_data.agreement_marketing" name="user.agreement_marketing" class="required" v-bind:class="{ required : agreement_view.agreement_marketing}" title="약관 동의" true-value="1" false-value="0">
                    <label for="agreement_marketing_contain_terms"><span class="case_004">(선택)인테리어 정보 및 마케팅 수신에 동의</span></label>
                </div>
                <div class="checks" v-else>
                    <input id="agreement_marketing"  type="checkbox" @change="fireEventData(agreement_data.agreement_marketing)" v-model="agreement_data.agreement_marketing" name="user.agreement_marketing" class="required" v-bind:class="{ required : agreement_view.agreement_marketing}" title="약관 동의" true-value="1" false-value="0">
                    <label for="agreement_marketing"><span class="case_004">(선택)</span> <span>에 동의</span></label>
                    <a @click="openTermPopup('agreement_marketing')" class="_view_more">인테리어 정보 및 마케팅 수신</a>
                </div>
            </div>
        </div>
    </div>
</script>

<script language="JavaScript">
    Vue.component('agreement-vue', {
        template: "#agreementTemplate",
        data : function(){
            return {
                "containTerms" : false,
                "all_checked" : false,
                "agreement_view" : {
                    'agreement_all' : true,
                    'agreement_person' : true,
                    'agreement_join' : true,
                    'agreement_third_party' : true,
                    'agreement_marketing' : true,
                    'agreement_person_for_partner': true,
                    'agreement_person_for_register': true
                },
                "agreement_data" : {
                    'agreement_person' : '0',
                    'agreement_join' : '0',
                    'agreement_third_party' : '0',
                    'agreement_marketing' : '0',
                    'agreement_person_for_partner': '0',
                    'agreement_person_for_register': '0'
                },
                "terms_data" : {
                    'agreement_person' : '',
                    'agreement_join' : '',
                    'agreement_third_party' : '',
                    'agreement_marketing' : '',
                    'agreement_person_for_partner': '',
                    'agreement_person_for_register': ''
                }
            }
        },
        props : [ "agreement_view_info", "contain_terms", 'deviceInfo' ],
        methods: {
            openTermPopup : function( type ){
                var data = {
                    type : type,
                    order : 1,
                    deviceInfo: this.deviceInfo
                }
                eventBus.$emit('open_terms_dialog', data);
            },
            selectAgreementAll : function () {
                for( attrName in this.agreement_view ){
                    if( attrName != 'agreement_all' ){
                        if( this.agreement_view[attrName] ){
                            this.agreement_data[attrName] = this.all_checked ? "1" : "0";
                        }
                        else {
                            this.agreement_data[attrName] = "0";
                        }
                    }
                }
                this.fireEventData();
            },
            fireEventData : function(changedData){
                if( changedData == '' ){
                    this.all_checked = false;
                }
                else {
                    var isAllChecked = true;
                    for( attrName in this.agreement_view ){
                        if( attrName != 'agreement_all' ){
                            if( this.agreement_view[attrName] ){
                                if( this.agreement_data[attrName] != '1' ){
                                    isAllChecked = false;
                                    break;
                                }
                            }
                        }
                    }
                    this.all_checked = isAllChecked;
                }
                this.$emit('changed_agreement_data', this.agreement_data);
            }
        },
        created : function(){
            if( this.contain_terms ){
                this.containTerms = this.contain_terms;
            }
        },
        beforeMount : function(){

            if( this.agreement_view_info ){
                for( attrName in this.agreement_view ){
                    if( !this.agreement_view_info[attrName] ){
                        this.agreement_view[attrName] = false;
                    }
                }
            }
        }
    });

</script>




<script id="promotionCodeTemplate" type="x/templates">
    <div :class="{ on : (promotion.promotion_code != '') }">
        <div class="on" class="promotion_code_input">
            <input @change="fireChangedPromotionCode()" v-model="promotion.promotion_code" name="promotion.promotion_code" type="text" maxlength="8" placeholder="프로모션 코드를 입력해주세요."
                   :class="{'error': (errorMessage && errorMessage !== '')}"/>
            <a href="javascript:;" @click="checkPromotionCode()" class="_btn_confirm"><span>확인</span></a>
        </div>
    </div>
</script>

<script language="JavaScript">
  var promotionCodeComponentVue = {
      template: "#promotionCodeTemplate",
      data : function(){
          return {
              "promotion" : {
                  'promotion_code' : '',
                  'promotionCodeChecked' : false
              },
              showInput : false
          }
      },
      props : ['promotion_code_init', 'errorMessage'],
      methods: {
          selectPromotionInput : function(event){
              this.showInput = !this.showInput;

              event.preventDefault();
              $("#a_promotion_code").toggleClass('on');
              $("#a_promotion_code").next('.promotion_code_input').slideToggle('fast');
          },
          checkPromotionCode : function(){
              if( this.promotion.promotion_code && $.trim( this.promotion.promotion_code )  != '' ){
                  zipAxios.post('/acs3/estimate/promotion', this.promotion )
                  .then(this.loadSuccess.bind(this))
                  .catch(this.loadFail.bind(this));
              }
              else {
                  alert("프로모션 코드를 입력해 주세요.");
              }
          },
          loadSuccess : function(response){
              zlog(response);
              if( response.status == 204 ){
                  alert("프로모션 코드를 다시 확인해 주세요.");
              }
              else {
                  alert("사용가능한 프로모션 코드입니다.");
                  this.promotion.promotionCodeChecked = true;
                  this.$emit('changed_promotion_code', this.promotion);

              }
          },
          loadFail : function(error){
              zlog(error);
              zlog(error.response);
              var response = error.response;
              if( response.status == 410 ){
                  switch( response.data.reason_code ){
                      case 1 : alert("프로모션 코드를 다시 확인해 주세요."); return;
                      case 2 : alert("사용 기한이 지난 프로모션 코드입니다."); return;
                      case 3 : alert("웹 전용 프로모션 코드입니다."); return;
                      default :
                          alert("정의되지 않은 에러 코드를 수신하였습니다.["+response.data.reason_code+"]");
                          return;
                  }
              }
              else if( response.status == 406 ){
                  alert("필수 정보가 존재하지 않습니다.");
              }
          },
          fireChangedPromotionCode : function(){
              this.promotion.promotionCodeChecked = false;
              this.$emit('changed_promotion_code', this.promotion);
          }
      },
      beforeMount : function(){
          if( this.promotion_code_init && this.promotion_code_init != '' ){
              this.promotion.promotion_code = this.promotion_code_init;
              this.showInput = true;
          }
      }
  };
</script>



<script id="UploadFileTemplate" type="x/templates">
	<div class="_upload_photo clfix" :class="{ 'on' : uploadFileInfos.length > 0 }">
		<div class="upload_wrap_group">
			<div class="upload_wrap _img" v-for="(uploadFileInfo, index) in uploadFileInfos" :id="uploadFileInfo.key">
				<img :src="uploadFileInfo.src" alt="uploadFileInfo.name" style="width:100%; height:100%;">
				<a href="javascript:;" @click="deleteUploadFile( uploadFileInfo )" class="btn_uploded_img_delete"><img
					src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc/new_3.5.0/btn_delete_photo@2x.png" alt=""></a>
			</div>
			<div class="upload_wrap _uploadBtn" v-if="uploadFileInfos.length < 20">
				<a href="javascript:;" @click="onTriggerUploadFile()" class="btn_img_upload"><img
					src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc/new_3.5.0/btn_photo_add@2x.png" alt=""></a>
			</div>
        </div>
			<div class="_upload_photo_txt">
				<strong v-text="mainMessage()"></strong>
				<span>총 10MB 이하, 최대 10개 등록 가능<br class="_mshow">(현재 <em class="photo_total" v-text="uploadFileInfos.length"></em>개, 총 <em
					class="photo_byte" v-text="getFileSizeMb()"></em>MB)</span>
			</div>
	</div>
</script>

<script language="JavaScript">
	Vue.component('upload-file-vue', {
		template: "#UploadFileTemplate",
		mixins: [linkUrlMixin, webViewBridgeMixin],
		data: function () {
			return {
				maxUploadSize: 1024 * 1024 * 10,
				maxFileCnt: 10,
				uploadFileInfos: []
			};
		},
		computed: {
			totalFileSize: function () {
				var totalSize = 0;
				$.each(this.uploadFileInfos, function (index, uploadFile) {
					totalSize += uploadFile.size;
				});
				return totalSize;
			}
		},
		mounted: function() {
			// IOS 파일 업로드 콜백
			// if (this.deviceInfo && this.deviceInfo.isAppUser && this.deviceInfo.os_type === this.MOBILE_DEVICE.IOS) {
			// 	window.selectFileCallbackResponse = this.selectFileCallbackResponse;
			// }
		},
		props: ['max_upload_size', 'max_file_cnt', 'message', 'deviceInfo'],
		methods: {
			fireChangedFilesEvent: function () {
				if (eventBus) {
					eventBus.$emit("fire_changed_attached_files", this.uploadFileInfos);
				} else {
					this.$emit("fire_changed_attached_files", this.uploadFileInfos);
				}
			},
			mainMessage: function(){
				return this.message ? this.message : '도면이나 공간 사진을 등록해주세요.';
			},
			getFileSizeMb: function () {
				var fileSize = this.totalFileSize / (1024 * 1024);
				return fileSize.toFixed(2);
			},
			deleteUploadFile: function (uploadFile) {
				for (var index in this.uploadFileInfos) {
					if (this.uploadFileInfos[index].key === uploadFile.key) {
						this.uploadFileInfos.splice(index, 1);
						this.fireChangedFilesEvent();
						break;
					}
				}
			},
			dataURLtoFile: function(dataurl, filename) {
				try {
					var arr = dataurl.split(','),
							mime = arr[0].match(/:(.*?);/)[1],
							bstr = atob(arr[1]),
							n = bstr.length,
							u8arr = new Uint8Array(n);

					while(n--){
						u8arr[n] = bstr.charCodeAt(n);
					}

					return new File([u8arr], filename, {type:mime});
				} catch (error) {
					alert(error);
				}
			},
			// selectFileCallbackResponse: function(response) {
			// 	var fileData = this.selectFileCallback(response);
			// 	var file = this.dataURLtoFile('data:image/jpg;base64,' + decodeURIComponent(fileData.file_info), fileData.file_name);
			//
			// 	var fileElement = this.uploadFile();
			// 	fileElement.trigger('change', {files: [file]});
			// },
			onTriggerUploadFile: function () {
				if (this.uploadFileInfos.length >= this.maxFileCnt) {
					alert("최대 " + this.maxFileCnt + "개만 등록 가능합니다.");
					return;
				}

				// IOS 파일 업로드 브릿지
				// if (this.deviceInfo && this.deviceInfo.isAppUser && this.deviceInfo.os_type === this.MOBILE_DEVICE.IOS) {
				// 	this.callSelectFile(this.deviceInfo, {
				// 		count: this.uploadFileInfos.length,
				// 		size: this.totalFileSize
				// 	});
				// 	return;
				// }

				var fileElement = this.uploadFile();
				fileElement.trigger('click');
			},
			uploadFile: function() {
				var tempFileUploadObject = $("<input type='file' accept='image/*' multiple>");
				tempFileUploadObject.on('change', function (event, fileData) {

					var files = fileData ? fileData.files : event.target.files;

					if (files && files.length && files.length > 0) {
						var tempUploadFiles = {
							fileSizeSum: 0,
							uploadFileInfos: []
						};

						var invalidImage = false;
						$.each(files, function (index, attachedFile) {
							var uploadFileInfo = {
								src: '',
								size: attachedFile.size,
								name: attachedFile.name,
								key: new Date().getTime() + "_" + index,
								uploadFile: attachedFile
							};

							var fileReader = new FileReader();
							if (attachedFile.type.match('image')) {
								fileReader.onload = function () {
									uploadFileInfo.src = fileReader.result;
								}.bind(this);
								fileReader.readAsDataURL(attachedFile);
								tempUploadFiles.fileSizeSum += attachedFile.size;
								tempUploadFiles.uploadFileInfos.push(uploadFileInfo);
								return true;
							} else {
								invalidImage = true;
								return false;
							}
						}.bind(this));

						if (invalidImage) {
							alert('이미지만 가능합니다.');
							return;
						} else if (tempUploadFiles.uploadFileInfos.length === 0) {
							alert("파일을 선택하여주세요.");
							return;
						} else if ((this.totalFileSize + tempUploadFiles.fileSizeSum) > this.maxUploadSize) {
							alert((this.maxUploadSize / (1024 * 1024)) + " MB 이하로만 업로드가 가능합니다.");
							return;
						} else if (this.uploadFileInfos.length + tempUploadFiles.uploadFileInfos.length > this.maxFileCnt) {
							alert("최대 " + this.maxFileCnt + "개만 등록 가능합니다.");
							return;
						}
						this.uploadFileInfos = this.uploadFileInfos.concat(tempUploadFiles.uploadFileInfos);
						this.fireChangedFilesEvent();
					} else {
						alert("파일을 첨부하여 주세요.");
					}
				}.bind(this));

				return tempFileUploadObject;
			}
		},
		created: function () {
			if (this.max_upload_size) {
				this.maxUploadSize = this.max_upload_size;
			}

			if (this.max_file_cnt) {
				this.maxFileCnt = this.max_file_cnt;
			}
		}
	});
</script>





<link rel="stylesheet" type="text/css" href="https://cf.zipdoc.co.kr/zws/res/assets/plugins/swiper/swiper.min.css?v=4.5.0"/>
<script src="https://cf.zipdoc.co.kr/zws/res/assets/plugins/swiper/swiper.min.js?v=4.5.0"></script>
<script id="estimateIntro" type="x/templates">
  <div class="estimate_main" v-show="visible">
    <header class="estimate_main_header">
      <h2>집닥만의 차별화된 서비스<br />알고 계신가요?</h2>
    </header>
    <section class="estimate_main_section">
      <div class="swiper-wrapper">

        <div class="swiper-slide">
          <p class="estimate_main___num">01</p>
          <h3>
            인테리어 중개 최초!<br>
            <em>현장 방문서비스, 집닥맨</em>
          </h3>
          <p class="estimate_main___exe">단계별로 꼼꼼히 체크하여 하자 예방</p>
          <div class="estimate_main__img">
            <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/img-estimate-intro-01@2x.png" alt="인테리어 현장방문서비스 이미지">
          </div>
        </div>

        <div class="swiper-slide">
          <p class="estimate_main___num">02</p>
          <h3>
            국내 최장!
            <em>3년 A/S 기간 제공</em>
          </h3>
          <p class="estimate_main___exe">3년간 하자보수 문제를 책임지고 해결</p>
          <div class="estimate_main__img">
            <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/img-estimate-intro-02@2x.png"
                 alt="인테리어 현장방문서비스 이미지">
          </div>
        </div>

        <div class="swiper-slide">
          <p class="estimate_main___num">03</p>
          <h3>
            철저한 공사 대금 관리로
            <em>인테리어 비용 안전 보장</em>
          </h3>
          <p class="estimate_main___exe">공사대금 예치 후 업체에 분할 지불</p>
          <div class="estimate_main__img">
            <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/img-estimate-intro-03@2x.png"
                 alt="인테리어 현장방문서비스 이미지">
          </div>
        </div>

      </div>
      <div class="swiper-button-next swiper-button-black"></div>
      <div class="swiper-button-prev swiper-button-black"></div>
    </section>
    <footer class="estimate_main_footer">
      시공 전문업체와 계약하신 후 꼭 집닥에게 알려주세요!<br />
      미 고지된 계약은 서비스 제공이 불가합니다.
    </footer>
    <section class="estimate_complex_submit_btn clfix">
      <button @click="closeIntro">시작하기</button>
    </section>
  </div>
</script>
<script>
  var estimateIntro = {
    template: "#estimateIntro",
    props: ['visible'],
    watch: {
      visible: function(value) {
        if (value) {
          this.swiper.slideTo(0);
        }
      }
    },
    mounted: function() {
      this.swiper = new Swiper('.estimate_main_section', {
        slidesPerView: 1,
        spaceBetween: 20,
        centeredSlides: true,
        loop: true,
        navigation : { // 네비게이션 설정
          nextEl : '.swiper-button-next', // 다음 버튼 클래스명
          prevEl : '.swiper-button-prev' // 이번 버튼 클래스명
        },
        breakpoints   : {
          768: {
            spaceBetween: 10,
            slidesPerView: 1.15,
            navigation: false
          }
        }
      });
    },
    data: function() {
      return {
        swiper: null
      }
    },
    methods: {
      closeIntro: function() {
        this.$emit('close-intro');
      }
    }
  }
</script>



<script id="productConceptTemplate" type="x/templates">
    <div>
        <div class="form_group fg_agree" v-if="thumbnail_url != '' ">
            <a href="javascript: void(0);">
                <dl class="clfix">
                    <dt>
                        <div class="img_wrapper">
                            <img :src="thumbnail_url" width="240" heigh="160" />
                        </div>
                    </dt>
                    <dd>
                        <span>선택한 스타일</span>
                        <p v-text="subject"></p>
                    </dd>
                </dl>
            </a>
        </div>
    </div>
</script>

<script language="JavaScript">
    var productConceptComponentVue = {
        template: "#productConceptTemplate",
        mixins : [linkUrlMixin],
        data : function(){
            return {
                thumbnail_url : "",
                subject : ""
            }
        },
        props : ["pid"],
        methods: {
            loadData : function(){
                zipAxios.post('/acs3/estimate/concept', {
                    "concept_pid" : this.pid
                })
                .then(this.loadSuccess.bind(this))
                .catch(this.loadFail.bind(this));
            },
            loadSuccess : function(response){
                if( response && response.data ){
                    this.thumbnail_url = response.data.thumbnail_url;
                    this.subject = response.data.subject;

                    if( eventBus ){
                        eventBus.$emit("fire_receive_concept_product", response.data );
                    }
                }
                else {
                    if( eventBus ){
                        eventBus.$emit("fire_receive_concept_product_error" );
                    }
                }
            },
            loadFail : function(error){
                zlog(error);
                zlog(error.response);

                if( eventBus ){
                    eventBus.$emit("fire_receive_concept_product_error" );
                }
            }
        },
        created : function() {
            this.loadData();
        }
    };

</script>



<script id="estimate" type="x/templates">
	<div class="estimate_wrap_box">

		<section class="estimate_progress_bar" v-if="viewType.step === 1">
			<div class="bar_area">
				<span class="gauge" :style="'width : calc(100% /' + (viewType.type === CATEGORTY1.RESIDENT.name ? residentMaxPhase : commerceMaxPhase) + '*'+ viewType.phase + ')'"></span>
				<em :style="'left : calc(100% /' + (viewType.type === CATEGORTY1.RESIDENT.name ? residentMaxPhase : commerceMaxPhase) + '*'+ viewType.phase + '); padding-right: ' + ((viewType.type === CATEGORTY1.RESIDENT.name ? residentMaxPhase : commerceMaxPhase) === viewType.phase ? 10 : 0) + 'px'">
					{{ viewType.phase }}/{{(viewType.type === CATEGORTY1.RESIDENT.name ? residentMaxPhase : commerceMaxPhase)}}
				</em>
			</div>
		</section>
		
		<section class="estimate_complex_head"><!-- class 확인 -->
			<div>
				<h1 v-if="findValidFieldByPhase() === 'agree'">시공할 곳의 실측이 가능하신가요?</h1>
				<h1 v-else-if="findValidFieldByPhase() === 'categoryCode2'">어떤 건물을 인테리어 하실건가요?</h1>
				<h1 v-else-if="findValidFieldByPhase() === 'schdConstruction'">공사 예정일이 언제인가요?</h1>
				<h1 v-else-if="findValidFieldByPhase() === 'livingType'">시공 장소가 운영 중인가요?</h1>
				<h1 v-else-if="findValidFieldByPhase() === 'budget'">인테리어 예산을 알려주세요.</h1>
				<h1 v-else-if="findValidFieldByPhase() === 'address'">시공할 곳의 주소가 어떻게 되나요?</h1>
				<h1 v-else-if="findValidFieldByPhase() === 'space'">시공할 곳의 면적과 참고할 사진을 등록해주세요.</h1>
				<h1 v-else-if="findValidFieldByPhase() === 'writerInfo'">이름과 연락처를 알려주세요.</h1>
			</div>
		</section>
		<section class="estimate_complex_contain">
			<article class="estimate_complex_contents">
				<resident-step-first v-if="viewType.step === 1 && viewType.type === CATEGORTY1.RESIDENT.name"
				                     :view-type="viewType"
				                     :agreement_view="agreement_view"
				                     :estimate="estimate"
				                     :error-message="errorMessage"
				                     :is-phone-verification="isPhoneVerification"
									 :phone-verification-visible="phoneVerificationVisible"
														 :phone-verification-disabled="phoneVerificationDisabled"
									 :firstStepAgree="firstStepAgree"
														 :device-info="deviceInfo"
														 @change-tab-type="changeTabType"
				                     @getPhoneValidate="getPhoneValidate"
									 @setPhoneValidate="setPhoneValidate"></resident-step-first>
				<commerce-step-first v-else-if="viewType.step === 1 && viewType.type === CATEGORTY1.COMMERCE.name"
				                     :view-type="viewType"
				                     :agreement_view="agreement_view"
				                     :estimate="estimate"
				                     :error-message="errorMessage"
									 :phone-verification-visible="phoneVerificationVisible"
														 :phone-verification-disabled="phoneVerificationDisabled"
				                     :is-phone-verification="isPhoneVerification"
									 :firstStepAgree="firstStepAgree"
														 :deviceInfo="deviceInfo"
														 @change-tab-type="changeTabType"
				                     @getPhoneValidate="getPhoneValidate"
									 @setPhoneValidate="setPhoneValidate"></commerce-step-first>
				<resident-step-second v-else-if="viewType.step === 2 && viewType.type === CATEGORTY1.RESIDENT.name"
				                      :view-type="viewType"
				                      :estimate="estimate"
				                      :view-items="viewItems"
				                      :selected-items="selectedItems"
				                      :attached-files="attachedFiles"
				                      :error-message="errorMessage"
															:deviceInfo="deviceInfo"
				></resident-step-second>
			</article>
		</section>
		<section class="estimate_complex_submit_btn clfix">
			
				
				
				<button class="back"
						v-show="viewType.step === 1"
						v-if="viewType.phase > minPhase"
						@click="updatePhase(-1)">이전</button>
				<button
						:class="{disabled:disableCheck(), next:viewType.phase > minPhase && ((viewType.type === CATEGORTY1.RESIDENT.name && viewType.phase < residentMaxPhase) || (viewType.type === CATEGORTY1.COMMERCE.name && viewType.phase < commerceMaxPhase))}"
						v-show="viewType.step === 1"
						:disabled="disableCheck()"
						v-if="(viewType.type === CATEGORTY1.RESIDENT.name && viewType.phase < residentMaxPhase) || (viewType.type === CATEGORTY1.COMMERCE.name && viewType.phase < commerceMaxPhase)"
						@click="updatePhase(1)">다음</button>
				<button
						:class="{disabled:disableCheck(), next:(viewType.type === CATEGORTY1.RESIDENT.name && viewType.phase === residentMaxPhase) || (viewType.type === CATEGORTY1.COMMERCE.name && viewType.phase === commerceMaxPhase)}"
						v-show="viewType.step === 1"
						:disabled="disableCheck()"
						v-if="(viewType.type === CATEGORTY1.RESIDENT.name && viewType.phase === residentMaxPhase) || (viewType.type === CATEGORTY1.COMMERCE.name && viewType.phase === commerceMaxPhase)"
						@click="doEstimateCreate">완료</button>
				<button v-show="viewType.step === 2 && viewType.type === CATEGORTY1.RESIDENT.name" @click="doEstimateUpdate">
				<img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc/estimate/v1/ico-est-cal@2x.png">
				예상 비용 확인
			</button>
		</section>
		<div id="resultDiv" style="display:none">
			<textarea name="result" id="result"></textarea>
		</div>
	</div>
</script>

<script src="https://cf.zipdoc.co.kr/zws/res/js/code/administrativeDistrict.js?v=202101131126"></script>
<script id="commerceStepFirst" type="x/templates">
    <div>
    <!-- *수정
        실측 주의사항 문구 페이지 추가
        -->
        

    <dl class="estimate_complex_content_radio_item pb-1" v-show="viewType.phase === 1">
        <dd class="radio_list_wrap">
            <ul>
                <li v-for="( option, index ) in view_category_code2.commerce.options">
                    <input type="radio" name="radio_set01"
                           :id="'radio_set01' + (index + 1)"
                           :value="option.value"
                           v-model="estimate.category_code2">
                    <label :for="'radio_set01' + (index + 1)"><span class="radio_label"></span>{{ option.string }}</label>
                </li>
                
            </ul>
        </dd>
    </dl>

    <dl class="estimate_complex_content_radio_item" v-show="viewType.phase === 2">
        <dd class="radio_list_wrap">
            <ul>
                <li v-for="( option, index ) in view_schd_construction">
                    <input type="radio" name="radio_set02"
                           :id="'radio_set02_' + (index + 1)"
                           :value="option.code"
                           v-model="estimate.schd_construction">
                    <label :for="'radio_set02_' + (index + 1)"><span class="radio_label"></span>{{ option.name }}</label>
                </li>
                
            </ul>
        </dd>
    </dl>
    <dl class="estimate_complex_content_radio_item" v-show="viewType.phase === 3">
        <dd class="radio_list_wrap">
            <ul>
                <li v-for="( option, index ) in view_living_type">
                    <input type="radio" name="radio_set03"
                           :id="'radio_set03_' + (index + 1)"
                           :value="option.value"
                           v-model="estimate.living_type">
                    <label :for="'radio_set03_' + (index + 1)"><span class="radio_label"></span>{{ option.string }}</label>
                </li>
                
            </ul>
        </dd>
    </dl>
    <dl class="estimate_complex_content_radio_item" v-show="viewType.phase === 4">
        <dd class="radio_list_wrap">
            <ul>
                <li v-for="( option, index ) in view_budget_list">
                    <input type="radio" name="radio_set04"
                           :id="'radio_set04_' + (index + 1)"
                           :value="option.code"
                           v-model="estimate.budget">
                    <label :for="'radio_set04_' + (index + 1)"><span class="radio_label"></span>{{ option.name }}</label>
                </li>
                
            </ul>
        </dd>
    </dl>

    <dl class="clfix estimate_complex_content_item pb-3" v-show="viewType.phase === 5">
        <dd class="poz_rel clfix">
				<span class="estimate_complex_content_form readonly post_code_first_input" id="address"
                      v-text="estimate.address_text" :class="{noneData : estimate.address_text === '주소를 검색해주세요.', 'error' : errorMessage.address !== ''}"
              v-show="!daumPostcodeVisible"
                      ref="address" @click="setDaumPostcode" v-if="false"></span>
            <button class="z_btn z_secondary_bk_w_btn post_code_btn" @click="setDaumPostcode" v-show="!daumPostcodeVisible" v-if="false">주소검색</button>
            <daum-postcode-component
                    :visible="daumPostcodeVisible"
                    :on-complete="handleAddress"
                    @close="daumPostcodeVisible = false"
                    v-if="false"
            ></daum-postcode-component>
            <div class="flex-area">
                <select class="estimate-select-form" v-model="sido">
                    <option value="" disabled hidden selected>시/도 선택</option>
                    <option v-for="option in sidoList" :value="option">{{ option }}</option>
                </select>
                <select class="estimate-select-form" v-model="gungu">
                    <option value="" disabled hidden selected>시/구/군 선택</option>
                    <option v-for="option in gunguList" :value="option">{{ option }}</option>
                </select>
            </div>
            <input type="text" class="estimate_complex_content_form form_input"
                   placeholder="(선택) 지역과 상세주소를 입력해주세요."
                   v-model="estimate.address_detail" id="addressDetail"
                   ref="addressDetail"
                   autocomplete="anyrandomstring"/>
            <div class="n_font_danger f-11 mt-08">{{errorMessage.address}}</div>

            <div class="text-precautions">
                <p class="tit">
                    <img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc/new_3.5.0/estimate/ic-estimate-warning@3x.png"> 참고해주세요
                </p>
                <p class="sub-txt">
                    인테리어는 <strong>공사현장 실측</strong>이 진행되어야<br />
                    더욱&nbsp;정확한&nbsp;견적&nbsp;제공이&nbsp;가능하며
                    공사&nbsp;진행&nbsp;시<br />
                    추가비용&nbsp;발생과&nbsp;하자 발생률이 낮아집니다.
                </p>
            </div>
        </dd>
    </dl>
    <dl class="clfix estimate_complex_content_item pb-3"  v-show="viewType.phase === 6">
        <dt class="simple_head_text">시공하실 장소의 면적을 입력해주세요.</dt>
        <dd>
            <div class="poz_rel estimate_complex_content_form_2_contain">
                <input id="estimate_space" class="estimate_complex_content_form form_input number_only_textinput" v-model="estimate.space"
                       maxlength="3"
                       data-validata="false" data-required="false" :class="{'error' : errorMessage.space !== ''}"
                       data-maxSize="100" data-title="평수" type="text" pattern="[0-9]*" inputmode="numeric" placeholder="0"
                />
                <span class="_unit">평</span>
            </div>
            <img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc/new_3.5.0/estimate/ico_change@2x.png" alt=""
                 class="ico_conversion">
            <div class="poz_rel estimate_complex_content_form_2_contain">
                <span class="estimate_complex_content_form readonly noneData" v-text="space_m2"></span> <span class="_unit">m&sup2;</span>
            </div>
            <div class="n_font_danger f-11 mt-08">{{errorMessage.space}}</div>
        </dd>
    </dl>
    <dl class="clfix estimate_complex_content_item pb-3" v-show="viewType.phase === 6">
        <dt class="simple_head_text">(선택)시공 장소의 사진이 있으시다면 등록해주세요.</dt>
        <dd>
            <upload-file-vue :deviceInfo="deviceInfo"></upload-file-vue>
        </dd>
    </dl>



    <dl class="clfix estimate_complex_content_item pb-3" v-show="viewType.phase === 7">
        <dd>
            <input type="text" class="estimate_complex_content_form form_input" maxlength="30" placeholder="이름을 입력해주세요."
                   v-model="estimate.writer" name="writerName" :class="{'error' : errorMessage.writer !== ''}" autocomplete="anyrandomstring"/>
            <div class="n_font_danger f-11 mt-08">{{errorMessage.writer}}</div>
        </dd>
        <dd>
            <input type="tel" class="estimate_complex_content_form form_input number_only_textinput phone_verification_form" pattern="[0-9]*"
                   inputmode="numeric"
                   maxlength="11" placeholder="숫자만 입력해주세요." name="phoneNo"
                   v-model="estimate.phone_no" :class="{'error' : errorMessage.phone_no !== '','verification' : isPhoneVerification}"
                   :readonly="isPhoneVerification"
                   autocomplete="anyrandomstring"/>
            <button v-if="!isPhoneVerification" class="z_btn z_secondary_bk_w_btn phone_verification_btn" @click="getPhoneValidate">인증
            </button>
            <button v-else class="z_btn z_secondary_bk_w_btn phone_verification_btn verification">인증완료</button>
            <div class="n_font_danger f-11 mt-08">{{errorMessage.phone_no}}</div>
        </dd>
        <phone-verification-dialog :phone-verification-visible="phoneVerificationVisible"
                                   :phone-verification-disabled="phoneVerificationDisabled"
                                   :phone-no="estimate.phone_no"
                                   @setPhoneValidate="setPhoneValidate"></phone-verification-dialog>
    </dl>
    <dl class="clfix estimate_complex_content_item" id="promotion" v-if="viewType.phase === 7">
        <dt><a href="javascript:;" @click="selectPromotionInput( $event )" class="btn_promotion_code_input"><span
                class="f-14">프로모션 코드가 있나요?</span>
            <img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/arrow/ic-arrow-select-black-down@2x.png" alt=""
                 class="_btn_down">
            <img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/arrow/ic-arrow-select-black-up@2x.png" alt=""
                 class="_btn_up">
        </a></dt>
        <dd id="promotion_code_view" v-show="estimate.promotion_code">
            <promotion-code-vue @changed_promotion_code="onChangedPromotionCode" :error-message="errorMessage.promotion_code"
                                :promotion_code_init="estimate.promotion_code"></promotion-code-vue>
        </dd>
        <div class="n_font_danger f-11 mt-08">{{errorMessage.promotion_code}}</div>
    </dl>
    <dl class="clfix estimate_complex_content_item last" id="agreement" v-if="viewType.phase === 7">
        <dt><span> </span></dt>
        <dd class="last">
            <agreement-vue :agreement_view_info="agreement_view" @changed_agreement_data="onChangedAgreementData" :device-info="deviceInfo"></agreement-vue>
            <div class="n_font_danger f-11 mt-08">{{errorMessage.agreement}}</div>
        </dd>
    </dl>
    <dl class="clfix estimate_complex_content_item" v-if="!estimate.concept_pid && viewType.phase === 1">
        <dd class="estimate_commerce"><a a href="javascript:void(0);" @click="switchingEstimate">
            <img
                    srcset="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/banner-estimate-go-living-2v-m.png 580w,
                            //cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/banner-estimate-go-living-2v.png"
                    src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/banner-estimate-go-living-2v.png"
                    alt="주거공간 견적 알아보기" />
        <dd>
    </dl>
    <dl class="clfix estimate_complex_content_item pb-1-6" v-if="estimate.concept_pid && viewType.phase === 1">
        <dd class="last">
            <product-pre-vue :pid="estimate.concept_pid"></product-pre-vue>
        </dd>
    </dl>
    
    </div>
</script>

<script>
	var week = ['일', '월', '화', '수', '목', '금', '토'];
	var month = ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'];
	var datepickerComponent = {
		template: '<input type="text" class="form_input estimate_complex_content_form _input_txt _calendar datepicker" placeholder="0000년 00월 00일" readonly="true" :class="{error: errorMessage !== \'\'}"/>',
		props: ["data_info", 'errorMessage'],
		mounted: function () {
			var self = this;
			var minDate = new Date();
			minDate.setDate(minDate.getDate() + 1);
			$(this.$el).datepicker({
				minDate: minDate,
				dateFormat: 'yy년 m월 d일',
				prevText: '이전 달',
				nextText: '다음 달',
				monthNames: month,
				monthNamesShort: month,
				dayNames: week,
				dayNamesShort: week,
				dayNamesMin: week,
				showMonthAfterYear: true,
				yearSuffix: '년',
				changeMonth: false,
				changeYear: false,
				onSelect: function (d, inst) {
					if (d && d != '') {
						var schd_end_date = new Date(inst.currentYear, inst.currentMonth, inst.currentDay, 0, 0, 0);
						self.$emit('update-date', schd_end_date.getTime());
					}
				},
				beforeShow: function () {
					call_dimm.init();
				},
				onClose: function (selectedDate) {
					hide_dimm.init();
				}
			});
			if (this.data_info.schd_end_date && this.data_info.schd_end_date > 0 && this.data_info.schd_end_date !== '') {
				var selectedDate = new Date();
				selectedDate.setTime(this.data_info.schd_end_date);
				$(this.$el).datepicker('setDate', selectedDate);
			}
		},
		beforeDestroy: function () {
			$(this.$el).datepicker('hide').datepicker('destroy')
		}
	};
</script>

<script id="phoneVerificationComponent" type="x/templates">
	<dd v-if="phoneVerificationVisible">
		<div class="input_data">
			<input type="tel" pattern="[0-9]*" inputmode="numeric" maxlength="4" placeholder="인증번호 입력" name="phoneNo"
				   id="phoneVerificationInput"
				   class="estimate_complex_content_form form_input number_only_textinput phone_verification_form"
						 :readonly="phoneVerificationDisabled"
				   v-model="auth_key" :class="{'error' : errorMsg !== '','success':type === 'success', 'verification' : phoneVerificationDisabled}" autocomplete="anyrandomstring">
			<p class="phone_verification_form_time" v-if="!phoneVerificationDisabled">{{ time }}</p>
		</div>
		<button class="z_btn z_primary_btn phone_verification_btn" :class="{'verification' : phoneVerificationDisabled}" v-if="type === 'form'" @click="getOtpNumber();" :disabled="phoneVerificationDisabled">확인</button>
		<button v-else-if="type === 'success' && !validate" class="z_btn z_primary_btn phone_verification_btn" @click="backForm">인증번호 재발송</button>
		<div class="n_font_danger f-11 mt-08" v-html="errorMsg"></div>
	</dd>
</script>
<script>
	var phoneVerificationComponent = {
		template: "#phoneVerificationComponent",
		mixins: [linkUrlMixin, magazineTypeMixin],
		props: ['phoneVerificationVisible', 'phoneNo', 'phoneVerificationDisabled'],
		data: function () {
			return {
				auth_key: '',
				errorMsg: '',
				validate: false,
				type: 'form',
				defaultTime: 300,
				time: '05:00',
				errorCnt : 0
			}
		},
		watch: {
			phoneVerificationVisible: function () {
				if (this.phoneVerificationVisible) {
					this.defaultTime = 300;
					this.setTime();
					this.$nextTick().then(function () {
						setSignedIntInputFilter(".number_only_textinput")
					});
				}
			},
			defaultTime: function () {
				if (this.defaultTime <= 0) {
					this.timeStop();
					this.errorMsg = '입력 제한시간이 초과되었습니다.<br/> 인증번호 재발송 후 다시 시도해주세요.';
				}
			},
			auth_key: function () {
				this.auth_key = this.auth_key.replace(/[^0-9]/g, '');
			}
		},
		methods: {
			setTime: function () {
				var _this = this;
				this.polling = setInterval(function () {
					_this.defaultTime--;
					_this.time = _this.prettyTime();
					if (_this.defaultTime <= 0) {
						_this.timeStop();
						_this.errorMsg = '입력 제한시간이 초과되었습니다.<br/> 인증번호 재발송 후 다시 시도해주세요.';
					}
				}, 1000);
			},
			prettyTime: function () {
				var t = this.defaultTime / 60;
				var m = parseInt(t);
				var s = Math.round((t - m) * 60);
				return this.pad(m, 2) + ":" + this.pad(s, 2);
			},
			pad: function (n, width) {
				n = n + '';
				return n.length >= width ? n : new Array(width - n.length + 1).join('0') + n
			},
			reset: function (all) {
				this.type = 'form';
				this.errorMsg = '';
				if (all) {
					this.auth_key = '';
				}
				this.defaultTime = 300;
				this.time = '05:00';
				this.errorCnt = 0;
			},
			timeStop: function () {
				clearInterval(this.polling);
				this.type = 'success';
				this.time = '00:00';
			},
			numberValidate: function () {
				var re = /^\d+$/;
				if (!this.auth_key || this.auth_key === '') {
					$('#phoneVerificationInput').focus();
					this.errorMsg = '인증번호를 입력해주세요.';
					return false;
				}
				return true;
			},
			getOtpNumber: function () {
				if (this.numberValidate() && this.type === 'form') {
					var param = {
						phone_no : this.phoneNo,
						auth_key : this.auth_key
					};
					zipAxios.post('/acs3/auth/1/authkey', param)
					.then(function (response) {
						if (response.status === 200) {
							alert('인증이 완료되었습니다.');
							this.validate = true;
							this.closeDialog();
						} else if(response.status === 403) {
							this.authKeyError();
						} else {
							alert("인증번호 발송이 실패하였습니다.");
							zlog(response);
						}
					}.bind(this))
					.catch(function (error) {
						if(error.response.status === 403) {
							this.authKeyError();
						} else {
							zlog(error.response);
							alert("인증번호 발송 중 서버 오류가 발생하였습니다.");
						}
					}.bind(this));
				}
			},
			authKeyError: function(){
				this.errorCnt++;
				if( this.errorCnt >= 5){
					this.timeStop();
					this.time = '';
					this.errorMsg = '오류 횟수가 초과되었습니다.(' + this.errorCnt + '/5)<br/> 인증번호 재발송 후 다시 시도해주세요.';
				}else{
					document.getElementById('phoneVerificationInput').focus();
					this.errorMsg = '인증번호가 틀렸습니다. 다시 시도해주세요.(' + this.errorCnt + '/5)';
				}
			},
			closeDialog: function () {
				this.reset();
				clearInterval(this.polling);
				this.$emit('setPhoneValidate', this.validate);
			},
			backForm: function () {
				var param = {
					phone_no : this.phoneNo
				};
				zipAxios.post('/acs3/auth/1', param)
				.then(function (response) {
					if (response.status === 200) {
						this.reset(true);
						this.setTime();
					} else {
						alert("인증번호 재발송이 실패하였습니다.");
						zlog(response);
					}
				}.bind(this))
				.catch(function (error) {
					zlog(error.response);
					alert("인증번호 발송 중 서버 오류가 발생하였습니다.");
				}.bind(this));
			}
		}
	}
</script>

<script>
  var commerceStepFirst = {
    template: "#commerceStepFirst",
    mixins: [linkUrlMixin, magazineTypeMixin],
    props: ['viewType', 'estimate', 'agreement_view', 'errorMessage', 'isPhoneVerification', 'phoneVerificationVisible', 'phoneVerificationDisabled', 'firstStepAgree', 'deviceInfo'],
    data: function () {
        var sidoList = $.map(administrativeDistrict, function(v, i){
            return i;
        });
      return {
        daumPostcodeVisible: estimateData.daumPostcodeVisible,
        view_category_code2: estimateData.view_category_code2_commerce,
        view_budget_list: [
          {code: "1,000만원 대", name: "1천만원대"},
          {code: "2,000만원 대", name: "2천만원대"},
          {code: "3,000만원 대", name: "3천만원대"},
          {code: "4,000만원 대", name: "4천만원대"},
          {code: "5천만원 이상", name: "5천만원 이상"},
          {code: "미정 (업체 상담 후 결정)", name: "미정"}
          // {code: "1,000만원 대", name: "1,000만원대"},
          // {code: "2,000만원 대", name: "2,000만원대"},
          // {code: "3,000만원 대", name: "3,000만원대"},
          // {code: "4,000만원 대", name: "4,000만원대"},
          // {code: "5,000만원 대", name: "5,000만원대"},
          // {code: "6,000만원 대", name: "6,000만원대"},
          // {code: "7,000만원 대", name: "7,000만원대"},
          // {code: "8,000만원 대", name: "8,000만원대"},
          // {code: "9,000만원 대", name: "9,000만원대"},
          // {code: "1억원 이상", name: "1억원이상"},
          // {code: "미정 (업체 상담 후 결정)", name: "미정 (업체 상담 후 결정)"}
        ],
        view_schd_construction: estimateData.view_schd_construction,
        view_living_type: estimateData.view_living_type,
          administrativeDistrict: administrativeDistrict,
          sidoList: sidoList,
          gunguList: [],
          sido: '',
          gungu: ''
      }
    },
      watch: {
          sido: function(sido) {
              this.estimate.address = '';
              this.gungu = '';

              if (!this.sido) {
                  this.gunguList = [];
                  return;
              }

              this.gunguList = this.administrativeDistrict[sido];

              if (this.gunguList.length === 0) {
                  this.estimate.address = this.sido;
              }
          },
          gungu: function(gungu) {
              if (this.gunguList.length === 0) {
                  this.estimate.address = this.sido;
                  return;
              }

              if (!gungu) {
                  this.estimate.address = '';
                  return;
              }

              this.estimate.address = this.sido + ' ' + gungu;
          }
      },
    components: {
      'daum-postcode-component': daumPostcodeComponent,
      'datepicker-component': datepickerComponent,
      'promotion-code-vue': promotionCodeComponentVue,
      'product-pre-vue': productConceptComponentVue,
      'phone-verification-dialog': phoneVerificationComponent
    },
    computed: {
      space_m2: function () {
        var spaceNum = Number(this.estimate.space);
        if (spaceNum && !isNaN(spaceNum) && spaceNum > 0) {
          return "" + (spaceNum * 3.3058).toFixed(2);
        }
        return "0";
      }
    },
    mounted: function () {
      setSignedIntInputFilter(".number_only_textinput");
    },
    methods: {
      switchingEstimate: function() {
          this.$emit('change-tab-type', CATEGORTY1.RESIDENT.name, CATEGORTY1.RESIDENT.value, '');
      },
      // allPossible: function(value) {
      //   this.firstStepAgree.isAllPossible = value;
      //   this.firstStepAgree.isFieldMeasurable = value;
      //   this.firstStepAgree.isEstateContractCompleted = value;
      // },
      updateDate: function (d) {
        this.estimate.schd_end_date = d;
      },
      selectPromotionInput: function (event) {
        event.preventDefault();
        $("#promotion_code_view").slideToggle('fast', function () {
          $('._btn_down').toggle(0);
          $('._btn_up').toggle(0);
        });
      },
      onChangedPromotionCode: function (promotion) {
        this.estimate.promotion_code = promotion.promotion_code;
        this.estimate.promotionCodeChecked = promotion.promotionCodeChecked;
      },
      onChangedAgreementData: function (agreementData) {
        for (var attrname in agreementData) {
          if (this.agreement_view[attrname]) {
            this.estimate[attrname] = agreementData[attrname];
          }
        }
      },
      handleAddress: function (data) {
        var addr = '';
        var extraAddr = '';
        var jibunAddr;
        var roadAddr;

        if (data.jibunAddress) {
          jibunAddr = data.jibunAddress;
        } else {
          jibunAddr = data.autoJibunAddress;
        }

        if (data.roadAddress) {
          roadAddr = data.roadAddress;
        } else {
          roadAddr = data.autoRoadAddress;
        }
        if (data.userSelectedType === 'R') {
          if (data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {
            extraAddr += data.bname;
          }
          if (data.buildingName !== '' && data.apartment === 'Y') {
            extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
          }
          if (extraAddr !== '') {
            roadAddr += ' (' + extraAddr + ')';
          }
          addr = roadAddr;
        } else {
          addr = jibunAddr;
        }

        this.estimate.address_text = addr;
        this.estimate.address = jibunAddr;
        this.estimate.road_address = roadAddr;
        this.estimate.address_type = data.userSelectedType;
        this.estimate.post_no = data.zonecode;
        this.estimate.region1 = data.sido;
        this.estimate.region2 = data.sigungu;
        this.estimate.sigungu_code = data.sigunguCode;
        this.daumPostcodeVisible = false;
      },
      setDaumPostcode: function () {
        this.daumPostcodeVisible = true;
        this.scrollMove('address');
      },
      getPhoneValidate: function () {
        this.$emit('getPhoneValidate', false);
      },
      scrollMove: function (el) {
        if (checkMobile()) {
          var _this = this;
          scrollUtils.scrollTo((_this.$refs[el].getBoundingClientRect().top + window.pageYOffset - 100), 500, function () {
            _this.$refs[el].focus();
          });
        }
      },
      setPhoneValidate: function(validate) {
        this.$emit('setPhoneValidate', validate);
      }
    }
  }
</script>


<script src="https://cf.zipdoc.co.kr/zws/res/js/code/administrativeDistrict.js?v=202101131126"></script>
<script id="residentStepFirst" type="x/templates">

    <div>
        <!-- *수정
        실측 주의사항 문구 페이지 추가
        -->
        <dl id="measurement" class="clfix estimate_content_first" v-if="false" v-show="viewType.phase === 1">
            <dt>
                현장 실측 없는 인테리어 견적은<br>
                추가 비용과 하자 발생률이 높습니다.
                &lt;%&ndash;<br><em>단순 견적 문의는 상담이 종료</em>될 수 있습니다.&ndash;%&gt;
            </dt>
            <dd class="last" style="padding-top: 40px">
                <div class="agreement_chks">
                    <div class="checkbox_wrap">
                        &lt;%&ndash;
                        <div class="chk_all_wrap mb-1">
                            <div class="checks _bigger" >
                                <input id="measurement_all" type="checkbox" name="chk" title="실측동의" class="required small-h" :value="firstStepAgree.isAllPossible" :checked="firstStepAgree.isAllPossible" @click="allPossible($event.target.checked)">
                                <label for="measurement_all"><span>네, 모두 가능합니다.</span></label>
                            </div>
                        </div>
                        &ndash;%&gt;
                        <div class="chk_cell_wrap mb-1">
                            <div class="checks _bigger">
                                <input id="measurement_consult" type="checkbox" name="chk" title="대면상담"
                                       class="required small-h" :value="firstStepAgree.isFieldMeasurable" :checked="firstStepAgree.isFieldMeasurable" @click="firstStepAgree.isFieldMeasurable = $event.target.checked">
                                <label for="measurement_consult"><span>현장실측(대면상담)이 가능합니다.</span></label>
                            </div>
                        </div>
                        &lt;%&ndash;
                        <div class="chk_cell_wrap mb-1">
                            <div class="checks _bigger">
                                <input id="measurement_contract" type="checkbox" name="chk" title="대면상담"
                                       class="required small-h" :value="firstStepAgree.isEstateContractCompleted" :checked="firstStepAgree.isEstateContractCompleted"  @click="firstStepAgree.isEstateContractCompleted = $event.target.checked">
                                <label for="measurement_contract"><span>부동산 계약이 완료된 상태입니다.</span></label>
                            </div>
                        </div>
                        &ndash;%&gt;
                    </div>
                </div>
                <div class="n_font_danger f-11 mt-08"></div>
            </dd>
        </dl>
        <dl class="estimate_complex_content_radio_item pb-1" v-show="viewType.phase === 1">
            <dd class="radio_list_wrap">
                <ul>
                    <li v-for="( option, index ) in view_category_code2.resident.options">
                        <input type="radio" name="radio_set01"
                               :id="'radio_set01' + (index + 1)"
                               :value="option.value"
                               v-model="estimate.category_code2">
                        <label :for="'radio_set01' + (index + 1)"><span class="radio_label"></span>{{ option.string }}</label>
                    </li>
                    
                </ul>
            </dd>
        </dl>
        <dl class="estimate_complex_content_radio_item" v-show="viewType.phase === 2">
            <dd class="radio_list_wrap">
                <ul>
                    <li v-for="( option, index ) in view_schd_construction">
                        <input type="radio" name="radio_set02"
                               :id="'radio_set02_' + (index + 1)"
                               :value="option.code"
                               v-model="estimate.schd_construction">
                        <label :for="'radio_set02_' + (index + 1)"><span class="radio_label"></span>{{ option.name }}</label>
                    </li>
                    
                </ul>
            </dd>
        </dl>
        <dl class="estimate_complex_content_radio_item" v-show="viewType.phase === 3">
            <dd class="radio_list_wrap">
                <ul>
                    <li v-for="( option, index ) in view_budget_list">
                        <input type="radio" name="radio_set03"
                               :id="'radio_set03_' + (index + 1)"
                               :value="option.code"
                               v-model="estimate.budget">
                        <label :for="'radio_set03_' + (index + 1)"><span class="radio_label"></span>{{ option.name }}</label>
                    </li>
                    
                </ul>
            </dd>
        </dl>
        <dl class="clfix estimate_complex_content_item pb-3" v-show="viewType.phase === 4">
            <dd class="poz_rel clfix">
				<span class="estimate_complex_content_form readonly post_code_first_input" id="address"
                      v-text="estimate.address_text" :class="{noneData : estimate.address_text === '주소를 검색해주세요.', 'error' : errorMessage.address !== ''}"
                        v-show="!daumPostcodeVisible"
                      ref="address" @click="setDaumPostcode" v-if="false"></span>
                <button class="z_btn z_secondary_bk_w_btn post_code_btn" @click="setDaumPostcode" v-show="!daumPostcodeVisible" v-if="false">주소검색</button>
                <daum-postcode-component
                        :visible="daumPostcodeVisible"
                        :on-complete="handleAddress"
                        @close="daumPostcodeVisible = false"
                        v-if="false"
                ></daum-postcode-component>
                <div class="flex-area">
                    <select class="estimate-select-form" v-model="sido">
                        <option value="" disabled hidden selected>시/도 선택</option>
                        <option v-for="option in sidoList" :value="option">{{ option }}</option>
                    </select>
                    <select class="estimate-select-form" v-model="gungu">
                        <option value="" disabled hidden selected>시/구/군 선택</option>
                        <option v-for="option in gunguList" :value="option">{{ option }}</option>
                    </select>
                </div>
                <input type="text" class="estimate_complex_content_form form_input" style="height: 52px"
                       placeholder="(선택) 지역과 상세주소를 입력해주세요."
                       v-model="estimate.address_detail" id="addressDetail"
                ref="addressDetail"
                       autocomplete="anyrandomstring"/>
                <div class="n_font_danger f-11 mt-08">{{errorMessage.address}}</div>
                <div class="text-precautions">
                    <p class="tit">
                        <img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc/new_3.5.0/estimate/ic-estimate-warning@3x.png"> 참고해주세요
                    </p>
                    <p class="sub-txt">
                        인테리어는 <strong>공사현장 실측</strong>이 진행되어야<br />
                        더욱&nbsp;정확한&nbsp;견적&nbsp;제공이&nbsp;가능하며
                        공사&nbsp;진행&nbsp;시<br />
                        추가비용&nbsp;발생과&nbsp;하자 발생률이 낮아집니다.
                    </p>
                </div>
            </dd>
        </dl>
        <dl class="clfix estimate_complex_content_item pb-3" v-show="viewType.phase === 5">
            <dd>
                <input type="text" class="estimate_complex_content_form form_input" maxlength="30" placeholder="이름을 입력해주세요."
                       v-model="estimate.writer" name="writerName" :class="{'error' : errorMessage.writer !== ''}" autocomplete="anyrandomstring"/>
                <div class="n_font_danger f-11 mt-08">{{errorMessage.writer}}</div>
            </dd>
            <dd>
                <input type="tel" class="estimate_complex_content_form form_input number_only_textinput phone_verification_form" pattern="[0-9]*"
                       inputmode="numeric"
                       maxlength="11" placeholder="숫자만 입력해주세요." name="phoneNo"
                       v-model="estimate.phone_no" :class="{'error' : errorMessage.phone_no !== '','verification' : isPhoneVerification}"
                       :readonly="isPhoneVerification"
                       autocomplete="anyrandomstring"/>
                <button v-if="!isPhoneVerification" class="z_btn z_secondary_bk_w_btn phone_verification_btn" @click="getPhoneValidate">인증
                </button>
                <button v-else class="z_btn z_secondary_bk_w_btn phone_verification_btn verification">인증완료</button>
                <div class="n_font_danger f-11 mt-08">{{errorMessage.phone_no}}</div>
            </dd>
            <phone-verification-dialog :phone-verification-visible="phoneVerificationVisible"
                                       :phone-verification-disabled="phoneVerificationDisabled"
                                       :phone-no="estimate.phone_no"
                                       @setPhoneValidate="setPhoneValidate"></phone-verification-dialog>
        </dl>
        <dl class="clfix estimate_complex_content_item" id="promotion" v-if="viewType.phase === 5">
            <dt><a href="javascript:;" @click="selectPromotionInput( $event )" class="btn_promotion_code_input"><span
                    class="f-14">프로모션 코드가 있나요?</span>
                <img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/arrow/ic-arrow-select-black-down@2x.png" alt=""
                     class="_btn_down">
                <img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/arrow/ic-arrow-select-black-up@2x.png" alt=""
                     class="_btn_up">
            </a></dt>
            <dd id="promotion_code_view" v-show="estimate.promotion_code">
                <promotion-code-vue @changed_promotion_code="onChangedPromotionCode" :error-message="errorMessage.promotion_code"
                                    :promotion_code_init="estimate.promotion_code"></promotion-code-vue>
            </dd>
            <div class="n_font_danger f-11 mt-08">{{errorMessage.promotion_code}}</div>
        </dl>
        <dl class="clfix estimate_complex_content_item last" id="agreement" v-if="viewType.phase === 5">
            <dt><span> </span></dt>
            <dd class="last">
                <agreement-vue :agreement_view_info="agreement_view" @changed_agreement_data="onChangedAgreementData" :device-info="deviceInfo"></agreement-vue>
                <div class="n_font_danger f-11 mt-08">{{errorMessage.agreement}}</div>
            </dd>
        </dl>
        <dl class="clfix estimate_complex_content_item" v-if="!estimate.concept_pid &&viewType.phase === 1">
            <dd class="estimate_commerce"><a href="javascript:void(0);" @click="switchingEstimate">
                <img
                        srcset="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/banner-estimate-go-commerce-v2-m.png 580w,
                                //cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/banner-estimate-go-commerce-v2.png"
                        src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/banner-estimate-go-commerce-v2.png"
                        alt="상업공간 견적 알아보기" />
            <dd>
        </dl>
        <dl class="clfix estimate_complex_content_item pb-1-6" v-if="estimate.concept_pid && viewType.phase === 1">
            <dd class="last">
                <product-pre-vue :pid="estimate.concept_pid"></product-pre-vue>
            </dd>
        </dl>
    </div>
</script>

<script id="phoneVerificationComponent" type="x/templates">
	<dd v-if="phoneVerificationVisible">
		<div class="input_data">
			<input type="tel" pattern="[0-9]*" inputmode="numeric" maxlength="4" placeholder="인증번호 입력" name="phoneNo"
				   id="phoneVerificationInput"
				   class="estimate_complex_content_form form_input number_only_textinput phone_verification_form"
						 :readonly="phoneVerificationDisabled"
				   v-model="auth_key" :class="{'error' : errorMsg !== '','success':type === 'success', 'verification' : phoneVerificationDisabled}" autocomplete="anyrandomstring">
			<p class="phone_verification_form_time" v-if="!phoneVerificationDisabled">{{ time }}</p>
		</div>
		<button class="z_btn z_primary_btn phone_verification_btn" :class="{'verification' : phoneVerificationDisabled}" v-if="type === 'form'" @click="getOtpNumber();" :disabled="phoneVerificationDisabled">확인</button>
		<button v-else-if="type === 'success' && !validate" class="z_btn z_primary_btn phone_verification_btn" @click="backForm">인증번호 재발송</button>
		<div class="n_font_danger f-11 mt-08" v-html="errorMsg"></div>
	</dd>
</script>
<script>
	var phoneVerificationComponent = {
		template: "#phoneVerificationComponent",
		mixins: [linkUrlMixin, magazineTypeMixin],
		props: ['phoneVerificationVisible', 'phoneNo', 'phoneVerificationDisabled'],
		data: function () {
			return {
				auth_key: '',
				errorMsg: '',
				validate: false,
				type: 'form',
				defaultTime: 300,
				time: '05:00',
				errorCnt : 0
			}
		},
		watch: {
			phoneVerificationVisible: function () {
				if (this.phoneVerificationVisible) {
					this.defaultTime = 300;
					this.setTime();
					this.$nextTick().then(function () {
						setSignedIntInputFilter(".number_only_textinput")
					});
				}
			},
			defaultTime: function () {
				if (this.defaultTime <= 0) {
					this.timeStop();
					this.errorMsg = '입력 제한시간이 초과되었습니다.<br/> 인증번호 재발송 후 다시 시도해주세요.';
				}
			},
			auth_key: function () {
				this.auth_key = this.auth_key.replace(/[^0-9]/g, '');
			}
		},
		methods: {
			setTime: function () {
				var _this = this;
				this.polling = setInterval(function () {
					_this.defaultTime--;
					_this.time = _this.prettyTime();
					if (_this.defaultTime <= 0) {
						_this.timeStop();
						_this.errorMsg = '입력 제한시간이 초과되었습니다.<br/> 인증번호 재발송 후 다시 시도해주세요.';
					}
				}, 1000);
			},
			prettyTime: function () {
				var t = this.defaultTime / 60;
				var m = parseInt(t);
				var s = Math.round((t - m) * 60);
				return this.pad(m, 2) + ":" + this.pad(s, 2);
			},
			pad: function (n, width) {
				n = n + '';
				return n.length >= width ? n : new Array(width - n.length + 1).join('0') + n
			},
			reset: function (all) {
				this.type = 'form';
				this.errorMsg = '';
				if (all) {
					this.auth_key = '';
				}
				this.defaultTime = 300;
				this.time = '05:00';
				this.errorCnt = 0;
			},
			timeStop: function () {
				clearInterval(this.polling);
				this.type = 'success';
				this.time = '00:00';
			},
			numberValidate: function () {
				var re = /^\d+$/;
				if (!this.auth_key || this.auth_key === '') {
					$('#phoneVerificationInput').focus();
					this.errorMsg = '인증번호를 입력해주세요.';
					return false;
				}
				return true;
			},
			getOtpNumber: function () {
				if (this.numberValidate() && this.type === 'form') {
					var param = {
						phone_no : this.phoneNo,
						auth_key : this.auth_key
					};
					zipAxios.post('/acs3/auth/1/authkey', param)
					.then(function (response) {
						if (response.status === 200) {
							alert('인증이 완료되었습니다.');
							this.validate = true;
							this.closeDialog();
						} else if(response.status === 403) {
							this.authKeyError();
						} else {
							alert("인증번호 발송이 실패하였습니다.");
							zlog(response);
						}
					}.bind(this))
					.catch(function (error) {
						if(error.response.status === 403) {
							this.authKeyError();
						} else {
							zlog(error.response);
							alert("인증번호 발송 중 서버 오류가 발생하였습니다.");
						}
					}.bind(this));
				}
			},
			authKeyError: function(){
				this.errorCnt++;
				if( this.errorCnt >= 5){
					this.timeStop();
					this.time = '';
					this.errorMsg = '오류 횟수가 초과되었습니다.(' + this.errorCnt + '/5)<br/> 인증번호 재발송 후 다시 시도해주세요.';
				}else{
					document.getElementById('phoneVerificationInput').focus();
					this.errorMsg = '인증번호가 틀렸습니다. 다시 시도해주세요.(' + this.errorCnt + '/5)';
				}
			},
			closeDialog: function () {
				this.reset();
				clearInterval(this.polling);
				this.$emit('setPhoneValidate', this.validate);
			},
			backForm: function () {
				var param = {
					phone_no : this.phoneNo
				};
				zipAxios.post('/acs3/auth/1', param)
				.then(function (response) {
					if (response.status === 200) {
						this.reset(true);
						this.setTime();
					} else {
						alert("인증번호 재발송이 실패하였습니다.");
						zlog(response);
					}
				}.bind(this))
				.catch(function (error) {
					zlog(error.response);
					alert("인증번호 발송 중 서버 오류가 발생하였습니다.");
				}.bind(this));
			}
		}
	}
</script>

<script>
  var residentStepFirst = {
    template: "#residentStepFirst",
    mixins: [linkUrlMixin, magazineTypeMixin],
    props: ['viewType', 'estimate', 'agreement_view', 'errorMessage', 'isPhoneVerification', 'phoneVerificationVisible', 'phoneVerificationDisabled', 'firstStepAgree', 'deviceInfo'],
    data: function () {
        var sidoList = $.map(administrativeDistrict, function(v, i){
            return i;
        });
      return {
        daumPostcodeVisible: estimateData.daumPostcodeVisible,
        doRequestEstimate: estimateData.doRequestEstimate,
        view_category_code2: estimateData.view_category_code2_resident,
        view_budget_list: [
          {code: "1,000만원 대", name: "1천만원대"},
          {code: "2,000만원 대", name: "2천만원대"},
          {code: "3,000만원 대", name: "3천만원대"},
          {code: "4,000만원 대", name: "4천만원대"},
          {code: "5천만원 이상", name: "5천만원 이상"},
          {code: "미정 (업체 상담 후 결정)", name: "미정"}
          // {code: "1,000만원 대", name: "1,000만원대"},
          // {code: "2,000만원 대", name: "2,000만원대"},
          // {code: "3,000만원 대", name: "3,000만원대"},
          // {code: "4,000만원 대", name: "4,000만원대"},
          // {code: "5,000만원 대", name: "5,000만원대"},
          // {code: "6,000만원 대", name: "6,000만원대"},
          // {code: "7,000만원 대", name: "7,000만원대"},
          // {code: "8,000만원 대", name: "8,000만원대"},
          // {code: "9,000만원 대", name: "9,000만원대"},
          // {code: "1억원 이상", name: "1억원이상"},
          // {code: "미정 (업체 상담 후 결정)", name: "미정 (업체 상담 후 결정)"}
          ],
      view_schd_construction: estimateData.view_schd_construction,
          view_schd_construction: estimateData.view_schd_construction,
          administrativeDistrict: administrativeDistrict,
          sidoList: sidoList,
          gunguList: [],
          sido: '',
          gungu: ''
      }
    },
      watch: {
          sido: function(sido) {
              this.estimate.address = '';
              this.gungu = '';

              if (!this.sido) {
                  this.gunguList = [];
                  return;
              }

              this.gunguList = this.administrativeDistrict[sido];

              if (this.gunguList.length === 0) {
                  this.estimate.address = this.sido;
              }
          },
          gungu: function(gungu) {
              if (this.gunguList.length === 0) {
                  this.estimate.address = this.sido;
                  return;
              }

              if (!gungu) {
                  this.estimate.address = '';
                  return;
              }

              this.estimate.address = this.sido + ' ' + gungu;
          }
      },
    components: {
      'daum-postcode-component': daumPostcodeComponent,
      'promotion-code-vue': promotionCodeComponentVue,
      'product-pre-vue': productConceptComponentVue,
      'phone-verification-dialog': phoneVerificationComponent
    },
    mounted: function () {
      if (this.estimate.promotion_code && this.estimate.promotion_code !== '') {
        $("._btn_down").hide();
        $("._btn_up").show();
        // $("#promotion_code_view").show();
      }

      setSignedIntInputFilter(".number_only_textinput");
    },
    methods: {
      // allPossible: function(value) {
      //   this.firstStepAgree.isAllPossible = value;
      //   this.firstStepAgree.isFieldMeasurable = value;
      //   this.firstStepAgree.isEstateContractCompleted = value;
      // },
      switchingEstimate: function() {
          this.$emit('change-tab-type', CATEGORTY1.COMMERCE.name, CATEGORTY1.COMMERCE.value, '');
      },
      selectPromotionInput: function (event) {
        event.preventDefault();
        $("#promotion_code_view").slideToggle('fast', function () {
          $('._btn_down').toggle(0);
          $('._btn_up').toggle(0);
        });
      },
      onChangedPromotionCode: function (promotion) {
        this.estimate.promotion_code = promotion.promotion_code;
        this.estimate.promotionCodeChecked = promotion.promotionCodeChecked;
      },
      onChangedAgreementData: function (agreementData) {
        for (var attrName in agreementData) {
          if (this.agreement_view[attrName]) {
            this.estimate[attrName] = agreementData[attrName];
          }
        }
      },
      setDaumPostcode: function () {
        this.daumPostcodeVisible = true;
        this.scrollMove('address');
      },
      handleAddress: function (data) {
        var addr = '';
        var extraAddr = '';
        var jibunAddr;
        var roadAddr;

        if (data.jibunAddress) {
          jibunAddr = data.jibunAddress;
        } else {
          jibunAddr = data.autoJibunAddress;
        }

        if (data.roadAddress) {
          roadAddr = data.roadAddress;
        } else {
          roadAddr = data.autoRoadAddress;
        }
        if (data.userSelectedType === 'R') {
          if (data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {
            extraAddr += data.bname;
          }
          if (data.buildingName !== '' && data.apartment === 'Y') {
            extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
          }
          if (extraAddr !== '') {
            roadAddr += ' (' + extraAddr + ')';
          }
          addr = roadAddr;
        } else {
          addr = jibunAddr;
        }

        this.estimate.address_text = addr;
        this.estimate.address = jibunAddr;
        this.estimate.road_address = roadAddr;
        this.estimate.address_type = data.userSelectedType;
        this.estimate.post_no = data.zonecode;
        this.estimate.region1 = data.sido;
        this.estimate.region2 = data.sigungu;
        this.estimate.sigungu_code = data.sigunguCode;
        this.daumPostcodeVisible = false;
      },
      getPhoneValidate: function () {
        this.$emit('getPhoneValidate', false);
      },
      scrollMove: function (el) {
        if (checkMobile()) {
          var _this = this;
          scrollUtils.scrollTo((_this.$refs[el].getBoundingClientRect().top + window.pageYOffset - 100), 500, function () {
            _this.$refs[el].focus();
          });
        }
      },
      setPhoneValidate: function(validate) {
        this.$emit('setPhoneValidate', validate);
      }
    }
  }
</script>


<script id="residentStepSecond" type="x/templates">
  <div>
    <dl class="clfix estimate_complex_content_item pb-3">
      <dt class="simple_head_text">시공하실 장소의 공급면적을 입력해주세요.</dt>
      <dd>
        <div class="poz_rel estimate_complex_content_form_2_contain">
          <input id="estimate_space" class="estimate_complex_content_form form_input number_only_textinput" v-model="estimate.space" maxlength="3"
                 data-validata="false" data-required="false" :class="{'error' : errorMessage.space !== ''}"
                 data-maxSize="100" data-title="평수" type="text" pattern="[0-9]*" inputmode="numeric" placeholder="0"
          />
          <span class="_unit">평</span>
        </div>
        <img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc/new_3.5.0/estimate/ico_change@2x.png" alt="" class="ico_conversion">
        <div class="poz_rel estimate_complex_content_form_2_contain">
          <span class="estimate_complex_content_form readonly noneData" v-text="space_m2"></span> <span class="_unit">m&sup2;</span>
        </div>
        <div class="n_font_danger f-11 mt-08">{{errorMessage.space}}</div>
      </dd>
    </dl>
    <dl class="clfix estimate_complex_content_item pb-2-2" id="struct_room_cnt">
      <dt class="simple_head_text" id="struct_room_cnt_head">방 개수를 선택해주세요.</dt>
      <dd class="estimate_complex_content_button_group">
        <button class="estimate_complex_content_button"
                v-for="( option, index ) in struct_room_cnt"
                :class="{ on : ( estimate.struct_room_cnt === option.value ) }"
                @click="estimate.struct_room_cnt = option.value">
          {{option.string}}
        </button>
        <div class="n_font_danger f-11 mt-08">{{errorMessage.struct_room_cnt}}</div>
      </dd>
    </dl>
    <dl class="estimate_complex_content_bg_item">
      <div class="checks">
        <input type="checkbox" id="zipdoc_pick_check" @change="onChangedZipdocRecommand()" v-model="estimate.zipdoc_recommand"
               :true-value="1" false-value="">
        <label for="zipdoc_pick_check"><span class="zipdoc_pick_check_label">집닥에서 많이 하는 시공항목 전부 선택</span></label>
      </div>
    </dl>
    <dl class="clfix estimate_complex_content_option_item pb-3">
      <dt>
        <div class="option_thumnail">
          <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_3_5_5/img_001@2x.png" alt="">
        </div>
        <div class="option_data">
          <span>현관 (다중선택 가능)</span>
          <p v-text="viewItems.group_frontdoor.selected_item_names"></p>
        </div>
      </dt>
      <dd>
        <div class="checks estimate_checks">
          <img v-show="selectedItems.group_frontdoor.shoe_rack.code"
               src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/form/form-toggles-check-tiny-white-on@2x.png" alt="">
          <input @change="recreateComment()" type="checkbox"
                 id="shoe_rack" name="shoe_rack" v-model="selectedItems.group_frontdoor.shoe_rack.code"
                 :true-value="viewItems.group_frontdoor.shoe_rack.code" false-value="">
          <label for="shoe_rack"
                 v-text="viewItems.group_frontdoor.shoe_rack.value"></label>
        </div>
        <div class="checks estimate_checks">
          <img v-show="selectedItems.group_frontdoor.tile.code"
               src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/form/form-toggles-check-tiny-white-on@2x.png" alt="">
          <input @change="recreateComment()" type="checkbox"
                 id="tile" name="tile" v-model="selectedItems.group_frontdoor.tile.code"
                 :true-value="viewItems.group_frontdoor.tile.code" false-value="">
          <label for="tile"
                 v-text="viewItems.group_frontdoor.tile.value"></label>
        </div>
        <div class="checks estimate_checks">
          <img v-show="selectedItems.group_frontdoor.fake_wall.code"
               src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/form/form-toggles-check-tiny-white-on@2x.png" alt="">
          <input @change="recreateComment()" type="checkbox"
                 id="fake_wall" name="fake_wall" v-model="selectedItems.group_frontdoor.fake_wall.code"
                 :true-value="viewItems.group_frontdoor.fake_wall.code" false-value="">
          <label for="fake_wall"
                 v-text="viewItems.group_frontdoor.fake_wall.value"></label>
        </div>
        <div class="checks estimate_checks">
          <img v-show="selectedItems.group_frontdoor.inner_gate.code"
               src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/form/form-toggles-check-tiny-white-on@2x.png" alt="">
          <input @change="recreateComment()" type="checkbox"
                 id="inner_gate" name="inner_gate" v-model="selectedItems.group_frontdoor.inner_gate.code"
                 :true-value="viewItems.group_frontdoor.inner_gate.code" false-value="">
          <label for="inner_gate"
                 v-text="viewItems.group_frontdoor.inner_gate.value"></label>
        </div>
      </dd>
    </dl>
    <dl class="clfix estimate_complex_content_option_item pb-3">
      <dt>
        <div class="option_thumnail">
          <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_3_5_5/img_002@2x.png" alt="">
        </div>
        <div class="option_data">
          <span>도배</span>
          <a class="btn_help" id="btn_group_wallpaper"
             @click="openHelp( 'wallpaper' )"><em class="hide_txt">도배 도움말</em></a>
          <p v-text="viewItems.group_wallpaper.selected_item_names"></p>
        </div>
      </dt>
      <dd>
        <div class="checks" v-for="( item, index ) in viewItems.group_wallpaper.wallpaper">
          <input name="wallpaper" @change="recreateComment()" type="radio"
                 :id="'wallpaper_'+index"
                 v-model="selectedItems.group_wallpaper.wallpaper.code" :value="item.code">
          <label :for="'wallpaper_'+index" v-text="item.value"></label>
        </div>
      </dd>
    </dl>
    <dl class="clfix estimate_complex_content_option_item pb-3">
      <dt>
        <div class="option_thumnail">
          <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_3_5_5/img_003@2x.png" alt="">
        </div>
        <div class="option_data">
          <span>바닥</span>
          <a class="btn_help" id="btn_group_bottom"
             @click="openHelp( 'bottom' )"><em class="hide_txt">바닥 도움말</em></a>
          <p v-text="viewItems.group_bottom.selected_item_names"></p>
        </div>
      </dt>
      <dd>
        <div class="checks" v-for="( item, index ) in viewItems.group_bottom.bottom">
          <input name="bottom" @change="recreateComment()" type="radio"
                 :id="'bottom_'+index"
                 v-model="selectedItems.group_bottom.bottom.code" :value="item.code">
          <label :for="'bottom_'+index" v-text="item.value"></label>
        </div>
      </dd>
    </dl>
    <dl class="clfix estimate_complex_content_option_item pb-3">
      <dt>
        <div class="option_thumnail">
          <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_3_5_5/img_004@2x.png" alt="">
        </div>
        <div class="option_data">
          <span>몰딩</span>
          <a class="btn_help" id="btn_group_molding"
             @click="openHelp( 'molding' )"><em class="hide_txt">몰딩 도움말</em></a>
          <p v-text="viewItems.group_molding.selected_item_names"></p>
        </div>
      </dt>
      <dd>
        <div class="checks" v-for="( item, index ) in viewItems.group_molding.molding">
          <input name="molding" @change="recreateComment()" type="radio"
                 :id="'molding_'+index"
                 v-model="selectedItems.group_molding.molding.code" :value="item.code">
          <label :for="'molding_'+index" v-text="item.value"></label>
        </div>
      </dd>
    </dl>
    <dl class="clfix estimate_complex_content_option_item pb-3">
      <dt>
        <div class="option_thumnail">
          <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_3_5_5/img_005@2x.png" alt="">
        </div>
        <div class="option_data">
          <span>베란다/샷시</span>
          <p v-text="viewItems.group_veranda.selected_item_names"></p>
        </div>
      </dt>
      <dd>
        <div class="pb-1-2">
          <p>샷시</p>
          <div class="checks" v-for="( item, index ) in viewItems.group_veranda.windows">
            <input name="windows" @change="recreateComment()" type="radio"
                   :id="'windows_'+index"
                   v-model="selectedItems.group_veranda.windows.code" :value="item.code">
            <label :for="'windows_'+index" v-text="item.value"></label>
          </div>
        </div>
        <div>
          <p>확장 (다중선택 가능)</p>
          <div class="checks estimate_checks">
            <img v-show="selectedItems.group_veranda.extend_living_room.code"
                 src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/form/form-toggles-check-tiny-white-on@2x.png" alt="">
            <input @change="recreateComment()" type="checkbox"
                   id="extend_living_room" name="extend_living_room"
                   v-model="selectedItems.group_veranda.extend_living_room.code"
                   :true-value="viewItems.group_veranda.extend_living_room.code"
                   false-value="">
            <label for="extend_living_room"
                   v-text="viewItems.group_veranda.extend_living_room.value"></label>
          </div>
          <div class="checks estimate_checks">
            <img v-show="selectedItems.group_veranda.extend_small_room.code"
                 src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/form/form-toggles-check-tiny-white-on@2x.png" alt="">
            <input @change="recreateComment()" type="checkbox"
                   id="extend_small_room" name="extend_small_room"
                   v-model="selectedItems.group_veranda.extend_small_room.code"
                   :true-value="viewItems.group_veranda.extend_small_room.code"
                   false-value="">
            <label for="extend_small_room"
                   v-text="viewItems.group_veranda.extend_small_room.value"></label>
          </div>
          <div class="checks estimate_checks">
            <img v-show="selectedItems.group_veranda.extend_veranda_up.code"
                 src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/form/form-toggles-check-tiny-white-on@2x.png" alt="">
            <input @change="recreateComment()" type="checkbox"
                   id="extend_veranda_up" name="extend_veranda_up"
                   v-model="selectedItems.group_veranda.extend_veranda_up.code"
                   :true-value="viewItems.group_veranda.extend_veranda_up.code"
                   false-value="">
            <label for="extend_veranda_up"
                   v-text="viewItems.group_veranda.extend_veranda_up.value"></label>
          </div>
        </div>
      </dd>
    </dl>
    <dl class="clfix estimate_complex_content_option_item pb-3">
      <dt>
        <div class="option_thumnail">
          <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_3_5_5/img_006@2x.png" alt="">
        </div>
        <div class="option_data">
          <span>주방</span>
          <a class="btn_help" id="btn_group_kitchen"
             @click="openHelp( 'kitchen' )"><em class="hide_txt">주방 도움말</em></a>
          <p v-text="viewItems.group_kitchen.selected_item_names"></p>
        </div>
      </dt>
      <dd>
        <div class="pb-1-2">
          <div class="checks" v-for="( item, index ) in viewItems.group_kitchen.kitchen">
            <input name="kitchen" @change="recreateComment()" type="radio" :id="'kitchen_'+index"
                   v-model="selectedItems.group_kitchen.kitchen.code" :value="item.code">
            <label :for="'kitchen_'+index" v-text="item.value"></label>
          </div>
        </div>
        <div v-show="selectedItems.group_kitchen.kitchen.code !== ''">
          <p>아일랜드 식탁</p>
          <div class="checks" v-for="( item, index ) in viewItems.group_kitchen.ireland_table">
            <input name="ireland_table" @change="recreateComment()" type="radio" :id="'ireland_table_'+index"
                   v-model="selectedItems.group_kitchen.ireland_table.code" :value="item.code">
            <label :for="'ireland_table_'+index" v-text="item.value"></label>
          </div>
        </div>
      </dd>
    </dl>
    <dl class="clfix estimate_complex_content_option_item pb-3">
      <dt>
        <div class="option_thumnail">
          <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_3_5_5/img_007@2x.png" alt="">
        </div>
        <div class="option_data">
          <span>욕실</span>
          <a class="btn_help" id="btn_group_bath"
             @click="openHelp( 'bath' )"><em class="hide_txt">욕실 도움말</em></a>
          <p v-text="viewItems.group_bath.selected_item_names"></p>
        </div>
      </dt>
      <dd>
        <div class="pb-1-2">
          <div class="checks" v-for="( item, index ) in viewItems.group_bath.bath_living">
            <input name="bath_living" @change="recreateCommentByBath()" type="radio"
                   :id="'bath_living_'+index"
                   v-model="selectedItems.group_bath.bath_living.code" :value="item.code">
            <label :for="'bath_living_'+index" v-text="item.value"></label>
          </div>
        </div>
        <div v-show="selectedItems.group_bath.bath_living.code !== ''">
          <p>욕실 개수를 선택해주세요.</p>
          <div class="checks">
            <input name="bath_cnt" type="radio" id="bath_cnt_1" v-model="estimate.bath_cnt" value="1">
            <label for="bath_cnt_1">1개</label>
          </div>
          <div class="checks">
            <input name="bath_cnt" type="radio" id="bath_cnt_2" v-model="estimate.bath_cnt" value="2">
            <label for="bath_cnt_2">2개</label>
          </div>
          <div class="checks">
            <input name="bath_cnt" type="radio" id="bath_cnt_3" v-model="estimate.bath_cnt" value="3">
            <label for="bath_cnt_3">3개</label>
          </div>
        </div>
      </dd>
    </dl>
    <dl class="clfix estimate_complex_content_option_item pb-3">
      <dt>
        <div class="option_thumnail">
          <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_3_5_5/img_008@2x.png" alt="">
        </div>
        <div class="option_data">
          <span>문</span>
          <a class="btn_help" id="btn_group_door"
             @click="openHelp( 'door' )"><em class="hide_txt">문 도움말</em></a>
          <p v-text="viewItems.group_door.selected_item_names"></p>
        </div>
      </dt>
      <dd>
        <div class="pb-1-2">
          <p>방문</p>
          <div class="checks" v-for="( item, index ) in viewItems.group_door.door">
            <input name="door" @change="recreateComment()" type="radio"
                   :id="'door_'+index"
                   v-model="selectedItems.group_door.door.code" :value="item.code">
            <label :for="'door_'+index" v-text="item.value"></label>
          </div>
        </div>
        <div>
          <p>기타 (다중선택 가능)</p>
          <div class="checks estimate_checks">
            <img v-show="selectedItems.group_door.turning_door.code"
                 src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/form/form-toggles-check-tiny-white-on@2x.png" alt="">
            <input name="turning_door" @change="recreateComment()" type="checkbox"
                   id="turning_door"
                   :class="{ on : ( selectedItems.group_door.turning_door.code != '' ) }"
                   v-model="selectedItems.group_door.turning_door.code"
                   :true-value="viewItems.group_door.turning_door.code" false-value="">
            <label for="turning_door" v-text="viewItems.group_door.turning_door.value"></label>
          </div>
          <div class="checks estimate_checks">
            <img v-show="selectedItems.group_door.folding_door.code"
                 src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/form/form-toggles-check-tiny-white-on@2x.png" alt="">
            <input name="folding_door" @change="recreateComment()" type="checkbox"
                   id="folding_door"
                   :class="{ on : ( selectedItems.group_door.folding_door.code != '' ) }"
                   v-model="selectedItems.group_door.folding_door.code"
                   :true-value="viewItems.group_door.folding_door.code" false-value="">
            <label for="folding_door" v-text="viewItems.group_door.folding_door.value"></label>
          </div>
        </div>
      </dd>
    </dl>
    <dl class="clfix estimate_complex_content_option_item pb-3">
      <dt>
        <div class="option_thumnail">
          <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_3_5_5/img_009@2x.png" alt="">
        </div>
        <div class="option_data">
          <span>조명</span>
          <a class="btn_help" id="btn_group_light"
             @click="openHelp( 'light' )"><em class="hide_txt">조명 도움말</em></a>
          <p v-text="viewItems.group_light.selected_item_names"></p>
        </div>
      </dt>
      <dd>
        <div class="checks" v-for="( item, index ) in viewItems.group_light.light">
          <input name="light" @change="recreateComment()" type="radio"
                 :id="'light_'+index"
                 v-model="selectedItems.group_light.light.code" :value="item.code">
          <label :for="'light_'+index" v-text="item.value"></label>
        </div>
      </dd>
    </dl>
    <dl class="clfix estimate_complex_content_option_item pb-3">
      <dt>
        <div class="option_thumnail">
          <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_3_5_5/img_010@2x.png" alt="">
        </div>
        <div class="option_data">
          <span>가구공사 (다중선택 가능)</span>
          <a class="btn_help" id="btn_group_furniture"
             @click="openHelp( 'furniture' )"><em class="hide_txt">가구공사 도움말</em></a>
          <p v-text="viewItems.group_furniture.selected_item_names"></p>
        </div>
      </dt>
      <dd>
        <div class="checks estimate_checks">
          <img v-show="selectedItems.group_furniture.closet.code"
               src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/form/form-toggles-check-tiny-white-on@2x.png" alt="">
          <input name="closet" @change="recreateComment()" type="checkbox" id="closet"
                 v-model="selectedItems.group_furniture.closet.code"
                 :true-value="viewItems.group_furniture.closet.code" false-value="">
          <label for="closet" v-text="viewItems.group_furniture.closet.value"></label>
        </div>
        <div class="checks estimate_checks">
          <img v-show="selectedItems.group_furniture.home_elect_closet.code"
               src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/form/form-toggles-check-tiny-white-on@2x.png" alt="">
          <input name="home_elect_closet" @change="recreateComment()" type="checkbox" id="home_elect_closet"
                 v-model="selectedItems.group_furniture.home_elect_closet.code"
                 :true-value="viewItems.group_furniture.home_elect_closet.code" false-value="">
          <label for="home_elect_closet" v-text="viewItems.group_furniture.home_elect_closet.value"></label>
        </div>
      </dd>
    </dl>
    <dl class="clfix estimate_complex_content_item">
      <dt class="simple_head_text">(선택)시공 장소의 사진이 있으시다면 등록해주세요.</dt>
      <dd>
        <upload-file-vue :deviceInfo="deviceInfo"></upload-file-vue>
      </dd>
    </dl>
    <popup-component
        :visible="advicePopupVisible"
        :width="540"
        :height="adviceItem.height"
        :mobile-width="'86%'"
        :mobile-height="adviceItem.mobileHeight"
        :mobile="'true'"
        @closePopupAction="closeAdviceDialog">
      <div class="modal-container advice_popup" v-if="advicePopupVisible">
        <div class="modal-header">
          <slot name="header">
            <h3>{{adviceItem.title}}</h3>
          </slot>
          <div class="_modis">
            <a @click="closeAdviceDialog" class="btn_close_layer close_btn_set">
              <picture>
                <source media="(max-width: 480px)"
                        srcset="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/close/ic-close-medium-black@2x.png">
                <img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/close/ic-close-medium-black@2x.png"
                     alt="도움말 레이어 닫기">
              </picture>
            </a>
          </div>
        </div>
        <div class="modal-body" v-html="adviceItem.content"></div>
        <div class="modal_bottom_area _mshow" @click="closeAdviceDialog">닫기</div>
      </div>
    </popup-component>
  </div>
</script>
<script>
  var residentStepSecond = {
    template: "#residentStepSecond",
    mixins: [linkUrlMixin, magazineTypeMixin],
    props: ['viewType', 'estimate', 'viewItems', 'selectedItems', 'attachedFiles','errorMessage', 'deviceInfo'],
    data: function () {
      return {
        struct_room_cnt: [
          {value: '1', string: '1개'},
          {value: '2', string: '2개'},
          {value: '3', string: '3개'},
          {value: '4', string: '4개'},
          {value: '5', string: '5개'}
        ],
        currentBathCnt: '',
        advicePopupVisible: false,
        adviceItem : {
          popupVisible: false,
          item : '',
          height: 0,
          mobileHeight : 0
        }
      }
    },
    watch : {
      advicePopupVisible: function(){
          if(this.advicePopupVisible){
            $('.modal-body').stop().animate({scrollTop: 0}, 0);
          }
      }
    },
    components : {
      'popup-component': popupComponent
    },
    computed: {
      space_m2: function () {
        var spaceNum = Number(this.estimate.space);
        if (spaceNum && !isNaN(spaceNum) && spaceNum > 0) {
          return '' + (spaceNum * 3.3058).toFixed(2);
        }
        return "0";
      }
    },
    created: function () {
      if (eventBus) {
        eventBus.$on("fire_changed_attached_files", this.onChangedAttachedFile);
      }
    },
    mounted: function () {
      $('._layer_advice').hide();
      this.recreateComment();
      setSignedIntInputFilter(".number_only_textinput");
      changeGnb();
    },
    methods: {
      onChangedZipdocRecommand: function () {
        if (this.estimate.zipdoc_recommand == '1') {
          this.selectedItems.group_frontdoor.shoe_rack.code = '1';
          this.selectedItems.group_frontdoor.tile.code = '1';
          this.selectedItems.group_frontdoor.fake_wall.code = '1';
          this.selectedItems.group_frontdoor.inner_gate.code = '1';
          this.selectedItems.group_wallpaper.wallpaper.code = '1';
          this.selectedItems.group_bottom.bottom.code = '1';
          this.selectedItems.group_molding.molding.code = '1';
          this.selectedItems.group_veranda.extend_living_room.code = '';
          this.selectedItems.group_veranda.extend_small_room.code = '';
          this.selectedItems.group_veranda.extend_veranda_up.code = '';
          this.selectedItems.group_veranda.windows.code = '1';
          this.selectedItems.group_kitchen.kitchen.code = '1';
          this.selectedItems.group_kitchen.ireland_table.code = '';
          this.selectedItems.group_bath.bath_living.code = '1';
          if (this.estimate.category_code1 === '10' && this.estimate.category_code2 === '1000') {
            this.estimate.bath_cnt = 2;
          } else {
            this.estimate.bath_cnt = 1;
          }
          this.selectedItems.group_door.door.code = '1';
          this.selectedItems.group_door.turning_door.code = '1';
          this.selectedItems.group_door.folding_door.code = '';
          this.selectedItems.group_light.light.code = '1';
          this.selectedItems.group_furniture.closet.code = '1';
          this.selectedItems.group_furniture.home_elect_closet.code = '1';
        } else {
          for (var itemGroupName  in this.selectedItems) {
            var itemGroup = this.selectedItems[itemGroupName];
            for (var itemName  in itemGroup) {
              var selectedItem = itemGroup[itemName];
              if (selectedItem.code) {
                selectedItem.code = '';
              }
            }
          }
        }
        this.recreateComment(true);
      },
      openHelp: function (help_name) {
        if(help_name) {
          if(checkMobile()) $('#app').css('position', 'unset');
          $('body').on('scroll touchmove mousewheel', function(event) {
            event.preventDefault();
            event.stopPropagation();
            return false;
          });
          this.advicePopupVisible = true;
          this.adviceItem = advicePopupData[help_name];
        }
      },
      closeAdviceDialog: function(){
        if(checkMobile()) $('#app').css('position', 'relative');
        $('body').off('scroll touchmove mousewheel');
        this.advicePopupVisible = false;
        this.adviceItem = {};
      },
      recreateCommentByBath: function () {
        if (this.selectedItems.group_bath.bath_living.code === '') {
          this.currentBathCnt = this.estimate.bath_cnt;
          this.estimate.bath_cnt = '';
        } else if(this.estimate.bath_cnt === '') {
          if (this.currentBathCnt !== '') {
            this.estimate.bath_cnt = this.currentBathCnt;
            this.currentBathCnt = '';
          } else {
            if (this.estimate.category_code1 === '10' && this.estimate.category_code2 === '1000') {
              this.estimate.bath_cnt = 2;
            } else {
              this.estimate.bath_cnt = 1;
            }
          }
        }
        this.recreateComment();
      },
      recreateComment: function (clickedRecommand) {
        if (!clickedRecommand) {
          this.estimate.zipdoc_recommand = '';
        }
        if (this.selectedItems.group_kitchen.kitchen.code === '') {
          this.selectedItems.group_kitchen.ireland_table.code = ''
        }
        if (this.selectedItems.group_bath.bath_living.code === '') {
          this.estimate.bath_cnt = '';
        }

        for (var itemGroupName  in this.selectedItems) {
          var itemGroup = this.selectedItems[itemGroupName];
          var itemViewGroup = this.viewItems[itemGroupName];
          var selected_titles = getSelectedTitles(itemGroupName);

          var subItemList = [];
          for (var itemName  in itemGroup) {
            var itemViewValueObject = itemViewGroup[itemName];
            if (itemViewValueObject) {
              var selectedItem = itemGroup[itemName];
              if (selectedItem.code != '') {
                if (itemViewValueObject.length) {
                  for (var valueIndex in itemViewValueObject) {
                    var valueObject = itemViewValueObject[valueIndex];
                    if (selectedItem.code == valueObject.code) {
                      selectedItem.value = valueObject.value;
                      if (itemGroupName === 'group_veranda') {
                        if (itemName == 'windows') {
                          selected_titles["샷시"].push(selectedItem.value);
                        } else {
                          selected_titles["확장"].push(selectedItem.value);
                        }
                      } else if (itemGroupName === 'group_kitchen') {
                        if (itemName == 'kitchen') {
                          selected_titles["주방"].push(selectedItem.value);
                        } else {
                          selected_titles["아일랜드 식탁"].push(selectedItem.value);
                        }
                      } else if (itemGroupName == 'group_door') {
                        if (itemName === 'door') {
                          selected_titles["방문"].push(selectedItem.value);
                        } else {
                          selected_titles["기타"].push(selectedItem.value);
                        }
                      } else {
                        selected_titles["default"].push(selectedItem.value);
                      }
                    }
                  }
                } else {
                  if (selectedItem.code == itemViewValueObject.code) {
                    selectedItem.value = itemViewValueObject.value;
                    if (itemGroupName == 'group_veranda') {
                      if (itemName == 'windows') {
                        selected_titles["샷시"].push(selectedItem.value);
                      } else {
                        selected_titles["확장"].push(selectedItem.value);
                      }
                    } else if (itemGroupName == 'group_kitchen') {
                      if (itemName == 'kitchen') {
                        selected_titles["주방"].push(selectedItem.value);
                      } else {
                        selected_titles["기타"].push(selectedItem.value);
                      }
                    } else if (itemGroupName == 'group_door') {
                      if (itemName == 'door') {
                        selected_titles["방문"].push(selectedItem.value);
                      } else {
                        selected_titles["기타"].push(selectedItem.value);
                      }
                    } else {
                      selected_titles["default"].push(selectedItem.value);
                    }
                  }
                }
              }
            }
          }

          var itemList = [];
          for (var titleName in selected_titles) {
            var items = selected_titles[titleName];
            if (items && items.length > 0) {
              var names = items.join(", ");
              if (titleName != 'default') {
                itemList.push(titleName + "-" + names);
              } else {
                itemList.push(names);
              }
            }
          }
          if (itemList.length > 0) {
            itemViewGroup['selected_item_names'] = itemList.join(", ");
          } else {
            itemViewGroup['selected_item_names'] = "교체 안함";
          }
        }
      }
    }
  }
</script>


<script>
  var commonUtils = {
    getURLParameter: function (param) {
      // var pageUrl = window.location.search.substring(1);
      // var urlValidation = pageUrl.split('&');
      // for (var i = 0; i < urlValidation.length; i++) {
      //   var paramName = urlValidation[i].split('=');
      //   if (paramName[0].toString() === param) {
      //     return paramName[1];
      //   }
      // }
      var pageUrl = window.location.search.substring(1);
      var urlValidation = pageUrl.split('&');
      for (var i = 0; i < urlValidation.length; i++) {
        var paramName = urlValidation[i].split('=');
        if (paramName[0].toString() === param) {
          if (paramName.length > 2) {
            // parameter 값이 url 과 parameter 가 포함될 경우
            var params = '';
            for (var j = 1; j < paramName.length; j++) {
              params += paramName[j] + '='
            }
            return params.substr(0, params.length - 1);
          } else {
            return paramName[1];
          }
        }
      }
    }
  }
</script>

<script>
	var estimate = {
		template: "#estimate",
		mixins: [linkUrlMixin, magazineTypeMixin, validateMixin, webViewBridgeMixin],
		props: ['viewType', 'estimate', 'agreement_view', 'response', 'defaultEstimate', 'deviceInfo'],
		data: function () {
			return {
				firstStepAgree: {
					// isAllPossible: false,
					isFieldMeasurable: true
					// isEstateContractCompleted: false
				},
				attachedFiles: estimateData.attachedFiles,
				phoneVerificationVisible: estimateData.phoneVerificationVisible,
				isPhoneVerification: estimateData.isPhoneVerification,
				phoneVerificationDisabled: false,
				errorMessage: estimateData.errorMessage,
				viewItems: estimateData.viewItems,
				selectedItems: estimateData.selectedItems,
				residentMaxPhase: 5,
				commerceMaxPhase: 7,
				minPhase: 1,
				isSamsungBrowserIframeBack: false
			}
		},
		components: {
			'commerce-step-first': commerceStepFirst,
			'resident-step-first': residentStepFirst,
			'resident-step-second': residentStepSecond
		},
		watch: {
			/*
			'firstStepAgree.isFieldMeasurable': function(value) {
				this.firstStepAgree.isAllPossible = value && this.firstStepAgree.isEstateContractCompleted;
			},
			'firstStepAgree.isEstateContractCompleted': function(value) {
				this.firstStepAgree.isAllPossible = value && this.firstStepAgree.isFieldMeasurable;
			},
			*/
			'estimate.address_text': function(value) {
				this.isSamsungBrowserIframeBack = true;
			}
		},
		created: function () {
			// 히든 파라미터
			this.hiddenParam();

			var writer = '';
			var phone_no = '';
			/* 이메일 회원의 초기 정보 */
			if (ZWS_USER && ZWS_USER.isMemberLoginUser() && !ZWS_USER.isSnsLoginUser()) {
				
				this.estimate.writer = writer !== '' && writer !== 'null' ? writer : '';
				this.defaultEstimate.writer = writer !== '' && writer !== 'null' ? writer : '';
				this.estimate.phone_no = phone_no !== '' && phone_no !== 'null' ? phone_no : '';
				this.defaultEstimate.phone_no = phone_no !== '' && phone_no !== 'null' ? phone_no : '';
			}

			if (eventBus) {
				eventBus.$on("fire_changed_attached_files", this.onChangedAttachedFile);
			}

			var sessionData = getSessionStorage('estimateData');
			if (sessionData) {
				this.viewType = $.extend(this.viewType, sessionData.viewType);
				this.estimate = $.extend(this.estimate, sessionData.estimate);
			}

		},
		mounted: function () {
			this.$nextTick(function () {
				$('html, body').stop().animate({scrollTop: 0}, 0);
				$('#app').removeAttr('style')
			});
		},
		methods: {
			changeTabType: function (type, category_code1, category_code2) {
				if (!this.isChangeValidate()) {
					var con_test = confirm("입력하신 내용이 초기화됩니다.\n 계속 진행하시겠습니까?");
					if (con_test === true) {
						this.resetData(type, category_code1, category_code2);
					}
				} else {
					this.resetData(type, category_code1, category_code2);
				}
			},
			resetData: function (type, category_code1, category_code2) {
				this.$emit("reset-data", type, category_code1, category_code2);
				this.attachedFiles = [];
				this.isPhoneVerification = false;
				// 히든 파라미터
				this.hiddenParam();

				this.resetErrorMessage();
			},
			onChangedAttachedFile: function (attachedFiles) {
				this.attachedFiles = attachedFiles;
			},
			doEstimateCreate: function () {
				if (this.validationForm(true)) {
					if (this.doRequestEstimate) {
						alert("견적 등록 요청 중입니다. 잠시만 기다려주세요.");
						return;
					}

					this.doRequestEstimate = true;
					this.estimate.construction_json_data = JSON.stringify(this.createConstructionJsonData());

					if (this.viewType.type === CATEGORTY1.COMMERCE.name) {
						this.estimate.schd_construction = '';

						var formDataForAttachedFile = new FormData();
						formDataForAttachedFile.append("meta-data", new Blob([JSON.stringify(this.estimate)], {
							type: "application/json"
						}));
						if (this.attachedFiles && this.attachedFiles.length > 0) {
							for (var attachedFileIndex in this.attachedFiles) {
								var attachFile = this.attachedFiles[attachedFileIndex];
								formDataForAttachedFile.append("attached_file", attachFile.uploadFile);
							}
						}

						zipAxios.post('/acs3/estimate/image', formDataForAttachedFile, {
							headers: {
								'Content-Type': 'multipart/form-data;charset=UTF-8'
							}
						}).then(function (response) {
							if (response.status === 200) {
								if (this.deviceInfo && this.deviceInfo.isAppUser) {
									this.completeEstimate(this.deviceInfo);
								}

								this.goEstimateRegResultPage(response.data);
							} else {
								this.doRequestEstimate = false;
								alert("견적 신청이 실패하였습니다.");
								zlog(response);
							}
						}.bind(this))
						.catch(function (error) {
							this.doRequestEstimate = false;
							zlog(error.response);
							alert("견적 신청 중 서버 오류가 발생하였습니다.");
							if (eventBus) {
								eventBus.$emit('fire_estimate_result', 500);
							}
						}.bind(this));
					} else {
						this.estimate.living_type = '';

						zipAxios.post('/acs3/estimate', this.estimate).then(function (response) {
							if (response.status === 200) {
								if (this.deviceInfo && this.deviceInfo.isAppUser) {
									this.completeEstimate(this.deviceInfo);
								}

								removeSessionStorage('estimateData');
								this.goEstimateRegResultPage(response.data);
							} else {
								this.doRequestEstimate = false;
								alert("견적 신청이 실패하였습니다.");
							}
						}.bind(this))
						.catch(function (error) {
							zlog(error.response);
							alert("견적 신청 중 서버 오류가 발생하였습니다.");
							this.doRequestEstimate = false;
						}.bind(this));
					}
				}
			},
			goEstimateRegResultPage: function (responseData) {
				var estimate_info = $.extend(true, {}, responseData, this.estimate);

				var result = {
					deviceInfo: this.deviceInfo ? this.deviceInfo : '',
					viewType: this.viewType,
					estimate: estimate_info,
					response: responseData,
					defaultEstimate: this.defaultEstimate
				};
				var form = document.createElement("form");

				var resultEl = document.createElement("input");
				resultEl.type = 'hidden';
				resultEl.name = 'result';
				resultEl.value = JSON.stringify(result);
				form.appendChild(resultEl);

				form.method = "POST";
				form.action = "/est/success";

				document.body.appendChild(form);
				form.submit();
			},
			doEstimateUpdate: function () {
				if (this.validationDetailForm(true)) {
					if (this.doRequestEstimate) {
						alert("견적 등록 요청 중입니다. 잠시만 기다려주세요.");
						return;
					}

					this.doRequestEstimate = true;
					this.estimate.construction_str = this.createContents();
					this.estimate.selected_items = this.selectedItems;
					this.estimate.construction_json_data = JSON.stringify(this.createConstructionJsonData());

					var formDataForAttachedFile = new FormData();
					formDataForAttachedFile.append("meta-data", new Blob([JSON.stringify(this.estimate)], {
						type: "application/json"
					}));

					for (var attachedFileIndex in this.attachedFiles) {
						var attachFile = this.attachedFiles[attachedFileIndex];
						formDataForAttachedFile.append('attached_file', attachFile.uploadFile);
					}
					zipAxios.post('/acs3/estimate/' + this.response.estimate_no + '/expect_price', formDataForAttachedFile, {
						headers: {
							'Content-Type': 'multipart/form-data;charset=UTF-8'
						}
					}).then(function (response) {
						if (response.status === 200) {
							this.$emit("set-response", response.data);
							this.estimate.budget = response.data;
							sendAppierEventCostPredicted(this.estimate);
						} else {
							this.doRequestEstimate = false;
							alert("예상 비용 신청이 실패하였습니다.");
							zlog(response);
						}
					}.bind(this))
					.catch(function (error) {
						this.doRequestEstimate = false;
						zlog(error.response);
						alert("예상 비용 신청 중 서버 오류가 발생하였습니다.");
						if (eventBus) {
							eventBus.$emit('fire_estimate_result', 500);
						}
					}.bind(this));
				}
			},
			resetErrorMessage: function () {
				var _this = this;

				$.each(this.errorMessage, function (ind, val) {
					_this.errorMessage[ind] = '';
				});
			},
			validationForm: function () {
				var validate = true;
				var focusEl = '';
				this.resetErrorMessage();

				if (!this.estimate.address || this.estimate.address === '' || this.estimate.address === '주소를 검색해주세요.') {
					if (validate) {
						focusEl = '#address';
					}
					this.errorMessage.address = '주소를 검색해주세요.';
					validate = false;
				}
				if (this.viewType.type === CATEGORTY1.COMMERCE.name) { // 상업공간
					if (!this.estimate.space || this.estimate.space === '' || this.estimate.space * 1 === 0) {
						if (validate) {
							focusEl = '#estimate_space';
						}
						this.errorMessage.space = '평형을 입력해 주세요.';
						validate = false;
					} else if (this.estimate.space * 1 > 5000) {
						if (validate) {
							focusEl = '#estimate_space';
						}
						this.errorMessage.space = '평형을 5000평 이하로 입력해 주세요.';
						validate = false;
					}
				}
				if (this.estimate.budget === '') {
					if (validate) {
						focusEl = '#budget';
					}
					this.errorMessage.budget = '예상비용을 선택해주세요.';
					validate = false;
				}
				// if (this.viewType.type === CATEGORTY1.COMMERCE.name) { // 상업공간
				// 	if (this.estimate.schd_end_date === '') {
				// 		if (validate) {
				// 			focusEl = '#schd_end_date';
				// 		}
				// 		this.errorMessage.schd_end_date = '공사 희망 예정일을 선택해 주세요.';
				// 		validate = false;
				// 	}
				// }

				if (this.estimate.writer.replace(/\s|　/gi, '').length === 0) {
					if (validate) {
						focusEl = 'input[name=writerName]';
					}
					this.errorMessage.writer = '이름을 입력해주세요.';
					validate = false;
				}
				if (this.validationPhoneNumber(validate)) {
					if (validate) {
						focusEl = 'input[name=phoneNo]';
					}
				}
				if (this.isPhoneVerification !== true && !this.isPhoneVerification) {
					if (validate) {
						focusEl = 'input[name=phoneNo]';
					}
					this.errorMessage.phone_no = '휴대폰 번호인증을 해주세요.';
					validate = false;
				}
				if (this.estimate.promotion_code !== '' && !this.estimate.promotionCodeChecked) {
					if (validate) {
						focusEl = '#promotion';
					}
					this.errorMessage.promotion_code = '프로모션 코드를 확인해 주세요.';
					validate = false;
				}
				if (!this.estimate.agreement_person || this.estimate.agreement_person !== '1') {
					if (validate) {
						focusEl = '#agreement';
					}
					this.errorMessage.agreement = '개인정보 수집 및 이용에 동의해 주세요.';
					validate = false;
				} else if (!this.estimate.agreement_third_party || this.estimate.agreement_third_party !== '1') {
					if (validate) {
						focusEl = '#agreement';
					}
					this.errorMessage.agreement = '개인정보 제3자 제공에 동의해 주세요.';
					validate = false;
				}

				if (focusEl !== '') {
					$(focusEl).focus();
					$('html').animate({scrollTop: $(focusEl).offset().top - 200}, 300);
				}

				return validate;
			},
			validationDetailForm: function () {
				var validate = true;
				var focusEl = '';
				var checkedItemValue = false;
				this.resetErrorMessage();

				$.each(this.selectedItems, function (ind, value) {
					$.each(value, function (ind, val) {
						if (val.code && val.code !== '' && val.code.length > 0) {
							checkedItemValue = true;
						}
					})
				});
				if (!this.estimate.space || this.estimate.space === '' || this.estimate.space * 1 === 0) {
					if (validate) {
						focusEl = '#estimate_space';
					}
					this.errorMessage.space = '평형을 입력해 주세요.';
					validate = false;
				}
				if (!this.estimate.struct_room_cnt || this.estimate.struct_room_cnt === '') {
					if (validate) {
						focusEl = '#struct_room_cnt';
					}
					this.errorMessage.struct_room_cnt = '방 개수를 선택해 주세요.';
					validate = false;
				} else if (!checkedItemValue || checkedItemValue === false) {
					validate = false;
				}

				if (!this.estimate.space || this.estimate.space === '' || this.estimate.space * 1 === 0) {
					alert('평형을 입력해 주세요.');
				} else if (!this.estimate.struct_room_cnt || this.estimate.struct_room_cnt === '') {
					alert('방 개수를 선택해 주세요.');
				} else if (!checkedItemValue || checkedItemValue === false) {
					alert('시공 항목을 1개이상 선택해주세요.');
				}

				if (focusEl !== '') {
					$(focusEl).focus();
					$('html').scrollTop($(focusEl).offset().top - 200);
					// $('html').animate({scrollTop: $(focusEl).offset().top - 200}, 300);
				}

				return validate;
			},
			validationPhoneNumber: function (validate) {
				this.errorMessage.phone_no = '';
				var focusEl = '';
				if (this.validationPhone(this.estimate.phone_no)) {
					this.errorMessage.phone_no = this.validationPhone(this.estimate.phone_no);
					return false;
				}

				return true;
			},
			createConstructionJsonData: function () {
				return {
					version: this.estimate.version,
					category_code1: this.estimate.category_code1,
					estimate_type: this.estimate.estimate_type
				};
			},
			createContents: function () {
				var lineDelimeter = '\n';
				var contents = "";

				for (var itemGroupName in this.selectedItems) {
					var itemGroup = this.selectedItems[itemGroupName];
					var itemViewGroup = this.viewItems[itemGroupName];
					var groupTitle = itemViewGroup['title'];
					var selected_titles = getSelectedTitles(itemGroupName);

					for (var itemName in itemGroup) {
						var itemViewValueObject = itemViewGroup[itemName];

						if (itemViewValueObject) {
							var selectedItem = itemGroup[itemName];
							if (selectedItem.code !== '') {
								if (itemViewValueObject.length) {
								} else {
									if (itemViewValueObject.code !== undefined && selectedItem.code === itemViewValueObject.code) {
										selectedItem.value = itemViewValueObject.value;
										if (itemGroupName === 'group_veranda') {
											if (itemName === 'windows') {
												selected_titles["샷시"].push(selectedItem.value);
											} else {
												selected_titles["확장"].push(selectedItem.value);
											}
										} else if (itemGroupName === 'group_kitchen') {
											if (itemName === 'kitchen') {
												selected_titles["주방"].push(selectedItem.value);
											} else {
												selected_titles["아일랜드 식탁"].push(selectedItem.value);
											}
										} else if (itemGroupName === 'group_door') {
											if (itemName === 'door') {
												selected_titles["방문"].push(selectedItem.value);
											} else {
												selected_titles["기타"].push(selectedItem.value);
											}
										} else {
											selected_titles["default"].push(selectedItem.value);
										}
									}
								}
							}
						}
					}
					var itemList = [];
					for (var titleName in selected_titles) {
						var items = selected_titles[titleName];
						if (items && items.length > 0) {
							var names = items.join(", ");
							if (titleName !== 'default') {
								itemList.push(titleName + "-" + names);
							} else {
								itemList.push(names);
							}
						}
					}
					if (itemList.length > 0) {
						contents += "[" + groupTitle + "] " + itemList.join(", ") + lineDelimeter;
					}
				}
				return contents;
			},
			isChangeValidate: function () {
				if (this.estimate.address !== '') return false;
				if (this.estimate.address_detail !== '') return false;
				if (this.estimate.budget !== '') return false;
				if (this.viewType.type === CATEGORTY1.COMMERCE.name) {
					if (this.estimate.space !== '') return false;
					if (this.estimate.schd_end_date !== '') return false;
					if (this.estimate.category_code2 !== '') return false;
				}
				if (this.viewType.type === CATEGORTY1.RESIDENT.name) {
					if (this.estimate.schd_construction !== '') return false;
					if (this.estimate.category_code2 !== '') return false;
				}
				// if (this.estimate.concept_pid !== '') return false;
				if (this.estimate.writer !== '' && this.estimate.writer !== this.defaultEstimate.writer) return false;
				if (this.estimate.phone_no !== '' && this.estimate.phone_no !== this.defaultEstimate.phone_no) return false;
				if (this.estimate.comment !== '') return false;
				return true;
			},
			setDaumPostcode: function () {
				var _this = this;
				new daum.Postcode({
					oncomplete: function (data) {
						var addr = '';
						var extraAddr = '';
						var jibunAddr;
						var roadAddr;

						if (data.jibunAddress) {
							jibunAddr = data.jibunAddress;
						} else {
							jibunAddr = data.autoJibunAddress;
						}

						if (data.roadAddress) {
							roadAddr = data.roadAddress;
						} else {
							roadAddr = data.autoRoadAddress;
						}
						if (data.userSelectedType === 'R') {
							if (data.bname !== '' && /[동|로|가]$/g.test(data.bname)) {
								extraAddr += data.bname;
							}
							if (data.buildingName !== '' && data.apartment === 'Y') {
								extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
							}
							if (extraAddr !== '') {
								roadAddr += ' (' + extraAddr + ')';
							}
							addr = roadAddr;
						} else {
							addr = jibunAddr;
						}

						_this.address = addr;
						_this.estimate.address = jibunAddr;
						_this.estimate.road_address = roadAddr;
						_this.estimate.address_type = data.userSelectedType;
						_this.estimate.post_no = data.zonecode;
						_this.estimate.region1 = data.sido;
						_this.estimate.region2 = data.sigungu;
						_this.estimate.sigungu_code = data.sigunguCode;
						document.getElementById("addressDetail").focus();
					}
				}).open();
			},
			getPhoneValidate: function () {
				if (this.validationPhoneNumber(true)) {
					var param = {
						phone_no: this.estimate.phone_no
					};
					zipAxios.post('/acs3/auth/1', param)
					.then(function (response) {
						if (response.status === 200) {
							this.phoneVerificationVisible = true;
						} else {
							alert("인증번호 발송이 실패하였습니다.");
							zlog(response);
						}
					}.bind(this))
					.catch(function (error) {
						zlog(error.response);
						alert("인증번호 발송 중 서버 오류가 발생하였습니다.");
					}.bind(this));
				}
			},
			setPhoneValidate: function (validate) {
				// this.phoneVerificationVisible = false;
				this.phoneVerificationDisabled = validate;
				this.isPhoneVerification = validate;
			},
			hiddenParam: function () {
				// 인증번호 없이 패스
				if (commonUtils.getURLParameter('phone_no')) {
					this.isPhoneVerification = true;
					this.estimate.phone_no = commonUtils.getURLParameter('phone_no');
				}
			},
			updatePhase: function(phase) {
				if ((this.viewType.phase === this.minPhase && phase < 0) || (this.viewType.type === CATEGORTY1.RESIDENT.name && this.viewType.phase > this.residentMaxPhase) || (this.viewType.type === CATEGORTY1.COMMERCE.name && this.viewType.phase > this.commerceMaxPhase)) {
					return;
				}

				$('html, body').scrollTop(0);

				if (phase === -1) {
					if (this.findValidFieldByPhase() === 'address' && this.isSamsungBrowserIframeBack && navigator.userAgent.toLowerCase().indexOf('samsungbrowser') > -1) {
						history.go(-2);
						this.isSamsungBrowserIframeBack = false;
						return;
					}

					history.back();
					return;
				}

				this.viewType.phase += phase;
			},
			findValidFieldByPhase: function() {
				switch (this.viewType.phase) {
					case 1:
						return 'categoryCode2';
					case 2:
						return 'schdConstruction';
					case 3:
						return this.viewType.type === CATEGORTY1.RESIDENT.name ? 'budget' : 'livingType';
					case 4:
						return this.viewType.type === CATEGORTY1.RESIDENT.name ? 'address' : 'budget';
					case 5:
						return this.viewType.type === CATEGORTY1.RESIDENT.name ? 'writerInfo' : 'address';
					case 6:
						return this.viewType.type === CATEGORTY1.RESIDENT.name ? undefined : 'space';
					case 7:
						return this.viewType.type === CATEGORTY1.RESIDENT.name ? undefined : 'writerInfo';
					default:
						return undefined;
				}
			},
			disableCheck: function() {
				switch (this.findValidFieldByPhase()) {
					case 'agree':
						// return !this.firstStepAgree.isFieldMeasurable || !this.firstStepAgree.isEstateContractCompleted;
						return !this.firstStepAgree.isFieldMeasurable;
					case 'categoryCode2':
						return this.estimate.category_code2 === undefined || this.estimate.category_code2 === ''
					case 'schdConstruction':
						return this.estimate.schd_construction === undefined || this.estimate.schd_construction === ''
					case 'livingType':
						return this.estimate.living_type === undefined || this.estimate.living_type === '';
					case 'budget':
						return this.estimate.budget === undefined || this.estimate.budget === ''
					case 'address':
						return this.estimate.address === undefined || this.estimate.address === ''
					case 'space':
						return this.estimate.space === undefined || this.estimate.space === ''
					case 'writerInfo':
						if (this.estimate.writer.replace(/\s|　/gi, '').length === 0) {
							return true;
						}
						if (this.validationPhone(this.estimate.phone_no)) {
							return true;
						}
						if (this.isPhoneVerification !== true && !this.isPhoneVerification) {
							return true;
						}
						if (this.estimate.promotion_code !== '' && !this.estimate.promotionCodeChecked) {
							return true;
						}
						if (!this.estimate.agreement_person || this.estimate.agreement_person !== '1') {
							return true;
						} else if (!this.estimate.agreement_third_party || this.estimate.agreement_third_party !== '1') {
							return true;
						}

						return false;
					default:
						return true;
				}
			}
		}
	}

	function getSelectedTitles(name) {
		var title = {
			"default": []
		};
		if (name === 'group_veranda') {
			title["샷시"] = [];
			title["확장"] = [];
		} else if (name === 'group_kitchen') {
			title["주방"] = [];
			title["아일랜드 식탁"] = [];
		} else if (name === 'group_door') {
			title["방문"] = [];
			title["기타"] = [];
		}
		return title;
	}
</script>


<script id="success" type="x/templates">
	<div>
		<section class="success-bg">
			<commerce-step-first-success
				v-if="viewType.step === 1 && viewType.type === 'commerce'"
				:response="response"
				:addr="addr"
				:device-info="deviceInfo"></commerce-step-first-success>
			<resident-step-first-success
				v-else-if="viewType.step === 1 && viewType.type === 'resident'"
				:view-type="viewType"
				:estimate="estimate"
				:response="response"
				:addr="addr"
				:device-info="deviceInfo"></resident-step-first-success>
			<resident-step-second-success
				v-else-if="viewType.step === 2 && viewType.type === 'resident'"
				:response="response"
				:device-info="deviceInfo"></resident-step-second-success>
			<div class="_complex_basic_info" v-if="viewType.type === 'resident' && viewType.step === 2">
				<a href="javascript:;" class="btn_basic_info_open" @click="viewBasicInfoStatus = !viewBasicInfoStatus"
				   v-show="!viewBasicInfoStatus"><span>기본정보 보기</span></a>
				<estimate-basic-info v-show="viewBasicInfoStatus"
				                     :response="response"
				                     :addr="addr"></estimate-basic-info>
			</div>
			<div class="_result_banner" v-if="response.banners && response.banners.length > 0"
			     :class="{ residentEstimateSimple : viewType.step === 1 && viewType.type === 'resident' }">
				<div>
					<a :href="response.banners[0].action_data">
						<img class="_modis" :src="response.banners[0].image_url" :alt="response.banners[0].subject">
						<img class="_mshow" :src="response.banners[0].mobile_image_url" :alt="response.banners[0].subject">
					</a>
				</div>
			</div>
		</section>
		<result-bottom-component v-show="isEstimateShow()" :device-info="deviceInfo"></result-bottom-component>
		
		<popup-component
			:visible="budgetPopupVisible"
			:width="296"
			:height="403"
			@closePopupAction="closePopup">
			<div id="budgetPopup">
				<img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc/estimate/img-popup-est@2x.png"
				     alt="잠깐, 예상 비용이 궁금하신가요?" @click="goResidentExpectBudgetPage()">
				<p title="다음에 할게요" @click="closePopup()">다음에 할게요</p>
			</div>
		</popup-component>
		
			<toast-message-component v-if="isEstimateShow && !isAnonymousAppUser" :visible="toastEstimateVisible" :pc-width="600" :delay="3000" :speed="800"
			                         @close-toast-message="closeToastMessage" :custom-id="'estimate-toast'">
				<p class="main_txt">
					이 견적의 진행상황을 확인하시려면?
				</p>
				<a class="login_txt a_pointer" @click="loginToEstimateProgressCheck;">
					로그인
				</a>
			</toast-message-component>
		
	</div>
</script>

<script id="commerceStepFirstSuccess" type="x/templates">
  <div class="user_data _estimate_complete estimate_complete_success_form _complex">
    <h2 class="_estimate_complete_title pb-2">
      <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/ic-est-complete@2x.png" alt="">
      <strong>견적신청 완료</strong>
    </h2>
    <div class="breakdown_list">
      <dl class="clfix">
        <dt>이름</dt>
        <dd>{{response.writer}}</dd>
      </dl>
      <dl class="clfix">
        <dt>휴대폰 번호</dt>
        <dd>{{response.phone_no}}</dd>
      </dl>
      <dl class="clfix">
        <dt>공사지 주소</dt>
        <dd>{{addr}}</dd>
      </dl>
      <dl class="clfix">
        <dt>공간 유형</dt>
        <dd>{{response.category_name1}} ({{response.category_name2}})</dd>
      </dl>
      <dl class="clfix">
        <dt>평형</dt>
        <dd>{{response.space}}평</dd>
      </dl>
      <dl class="clfix" v-show="response.budget !== ''">
        <dt>예상 비용</dt>
        <dd>{{response.budget}}</dd>
      </dl>
      <dl class="clfix">
        <dt>운영 여부</dt>
        <dd v-text="setLivingType()"></dd>
      </dl>
      
      <dl class="clfix" v-show="response.comment !== ''">
        <dt>요청사항</dt>
        <dd>{{response.comment}}</dd>
      </dl>
    </div>
    <div class="estimate_success_last_msg pb-3">
      고객님께 딱 맞는 업체 추천을 위해<br>
      집닥 매니저가 24시간 이내에 연락드릴 예정입니다.<br>
      (단, 토요일 18시 이후 및 일요일 신청시<br class="_mshow"> 익 영업일에 연락드립니다.)
    </div>
    <div class="estimate_success_charge_btn">
      <button type="button" @click="goCommercePage">
        {{response.category_name2}} 시공사례 보러가기
      </button>
    </div>
  </div>
</script>
<script>
  var commerceStepFirstSuccess = {
    template: "#commerceStepFirstSuccess",
    mixins: [webViewBridgeMixin],
    props: ['response', 'addr', 'deviceInfo'],
    created: function() {
      if (this.deviceInfo && this.deviceInfo.isAppUser && this.deviceInfo.os_type === this.MOBILE_DEVICE.ANDROID) {
        this.callHistoryDelete(this.deviceInfo);
      }
    },
    mounted: function(){
      changeGnb('success');
    },
    methods: {
      setLivingType: function () {
        if (this.response.living_type === '1') {
          return '운영중';
        } else if (this.response.living_type === '2') {
          return '운영 예정 (계약완료)'
        } else if (this.response.living_type === '3') {
          return '운영 예정 (계약전)'
        }
      },
      setSchdEndDate: function () {
        return moment(this.response.schd_end_date, 'x').format('YYYY[년 ]MM[월 ]DD[일]');
      },
      goCommercePage: function () {
        if (this.deviceInfo && this.deviceInfo.isAppUser) {
          this.callGoCommerceInterior(this.deviceInfo, this.response);
          return;
        }

        window.location.href= SERVICE_URL + 'product/commerce/list?category_code1=20&category_code2=' + this.response.category_code2;
      }
    }
  }
</script>



<script id="residentStepFirstSuccess" type="x/templates">
  <div class="user_data _estimate_complete estimate_complete_success_form _complex">
    <h2 class="_estimate_complete_title pb-2">
      <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/ic-est-complete@2x.png" alt="">
      <strong>견적신청 완료</strong>
      <p>집닥이 고객님께 꼭 맞는 전문업체를<br />
        소개해 드리겠습니다.</p>
    </h2>
    <div class="breakdown_list">
      <dl class="clfix">
        <dt>이름</dt>
        <dd>{{response.writer}}</dd>
      </dl>
      <dl class="clfix">
        <dt>휴대폰 번호</dt>
        <dd>{{response.phone_no}}</dd>
      </dl>
      <dl class="clfix">
        <dt>공간 유형</dt>
        <dd>{{response.category_name1}} ({{response.category_name2}})</dd>
      </dl>
      <dl class="clfix">
        <dt>공사지 주소</dt>
        <dd>{{addr}}</dd>
      </dl>
      <dl class="clfix" v-show="response.schd_construction !== ''">
        <dt>공사 예정일</dt>
        <dd>{{response.schd_construction}}</dd>
      </dl>
      <dl class="clfix" v-show="response.budget !== ''">
        <dt>예상 비용</dt>
        <dd>{{response.budget}}</dd>
      </dl>
      <dl class="clfix" v-show="response.comment !== ''">
        <dt>요청사항</dt>
        <dd>{{response.comment}}</dd>
      </dl>
    </div>
    <div class="estimate_success_last_msg pb-3">
      고객님께 딱 맞는 업체 추천을 위해<br>
      집닥 매니저가 24시간 이내에 연락드릴 예정입니다.<br>
      (단, 토요일 18시 이후 및 일요일 신청시<br class="_mshow"> 익 영업일에 연락드립니다.)
    </div>






    <button type="button" class="_modis btn-banner" @click="goShopDetail()">
      <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/banner-estimate-go-shop-3.png">
    </button>
    <button type="button" class="_mshow btn-banner" @click="goShopDetail()">
      <img src="//cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/m-banner-estimate-go-shop-3.png">
    </button>
  </div>
</script>
<script>
  var residentStepFirstSuccess = {
    template: "#residentStepFirstSuccess",
    mixins: [webViewBridgeMixin],
    props: ['viewType', 'estimate', 'response', 'addr', 'deviceInfo'],
    created: function() {
      if (this.deviceInfo && this.deviceInfo.isAppUser && this.deviceInfo.os_type === this.MOBILE_DEVICE.ANDROID) {
        this.callHistoryDelete(this.deviceInfo);
      }

      aceCounterEvent('mall_banner_from_est_success_view', {mobile: isMobileOS()}, (window.location.origin.slice(-1) !== '/' ? window.location.origin + '/' : window.location.origin) + 'mallBannerFromEstSuccessView');
    },
    mounted: function(){
      changeGnb('success');
    },
    methods : {
      goResidentEstimateCompleteDetail: function () {
        this.viewType.step = 2;
        this.viewType.status = 'estimate';
        this.estimate.estimate_type = 2;
        ga_zip('send','event', '예상견적 확인','버튼클릭', '주거 예상견적 확인하기','1' );
      },
      goShopDetail: function() {
        aceCounterEvent('mall_banner_from_est_success_click', {mobile: isMobileOS()}, (window.location.origin.slice(-1) !== '/' ? window.location.origin + '/' : window.location.origin) + 'mallBannerFromEstSuccessClick');
        var url = '/shop/goods/getList.do';
        if (this.deviceInfo && this.deviceInfo.isAppUser) {
          this.callExternalBrowser(this.deviceInfo, location.origin + url);
          return;
        }

        window.location.href = url;
      }
    }
  }
</script>


<script id="residentStepSecondSuccess" type="x/templates">
  <div class="user_data _estimate_complete estimate_complete_success_form _estimate_v01">
    <div class="expect_money _estimate_v01">
      <p>
        <span><em>{{response.writer}}</em> 고객님의<br class="_mshow"> 인테리어 예상 비용을 알려드립니다.</span>
        <strong v-show="response.expect_budget && response.expect_budget !== ''" v-html="setExpectBudget()"></strong>
      </p>
    </div>
    <div class="breakdown_list">
      <dl class="clfix">
        <dt>평형/방 개수</dt>
        <dd>{{response.space}}평 / 방 {{response.struct_room_cnt}}개</dd>
      </dl>
      <dl class="clfix" v-show="result.frontdoor && result.frontdoor !== ''">
        <dt>현관</dt>
        <dd>{{result.frontdoor}}</dd>
      </dl>
      <dl class="clfix" v-show="result.bath && result.bath !== ''">
        <dt>욕실</dt>
        <dd>{{result.bath}}</dd>
      </dl>
      <dl class="clfix" v-show="result.kitchen && result.kitchen !== ''">
        <dt>주방</dt>
        <dd>{{result.kitchen}}</dd>
      </dl>
      <dl class="clfix" v-show="result.wallpaper && result.wallpaper !== ''">
        <dt>도배</dt>
        <dd>{{result.wallpaper}}</dd>
      </dl>
      <dl class="clfix" v-show="result.veranda && result.veranda !== ''">
        <dt>베란다/샷시</dt>
        <dd>{{result.veranda}}</dd>
      </dl>
      <dl class="clfix" v-show="result.door && result.door !== ''">
        <dt>문</dt>
        <dd>{{result.door}}</dd>
      </dl>
      <dl class="clfix" v-show="result.light && result.light !== ''">
        <dt>조명</dt>
        <dd>{{result.light}}</dd>
      </dl>
      <dl class="clfix" v-show="result.bottom && result.bottom !== ''">
        <dt>바닥</dt>
        <dd>{{result.bottom}}</dd>
      </dl>
      <dl class="clfix" v-show="result.furniture && result.furniture !== ''">
        <dt>가구공사</dt>
        <dd>{{result.furniture}}</dd>
      </dl>
    </div>
    <div class="last_msg">
      견적 금액은 공사 현장 상황, 자재에 따라 <br class="_mshow">
      차이가 날 수 있으며, <br class="_modis">
      자재에 대한 자세한 상담은 <br class="_mshow">
      파트너스와 가능합니다.
    </div>
  </div>
</script>
<script>
  var residentStepSecondSuccess = {
    template: "#residentStepSecondSuccess",
    mixins: [webViewBridgeMixin],
    props: ['response', 'deviceInfo'],
    data: function () {
      return {
        result: {
          frontdoor: '',
          wallpaper: '',
          bottom: '',
          molding: '',
          veranda: '',
          kitchen: '',
          bath: '',
          door: '',
          light: '',
          furniture: ''
        }
      }
    },
    created: function () {
      this.setResultData();
      if (this.deviceInfo && this.deviceInfo.isAppUser && this.deviceInfo.os_type === this.MOBILE_DEVICE.ANDROID) {
        this.callHistoryDelete(this.deviceInfo);
      }
    },
    mounted: function(){
      changeGnb('success','resident');
    },
    methods: {
      setResultData: function () {
        var result = this.response.construction_str.split('\n');

        for (var item in result) {
          var slice = result[item].replace('[', '');
          var array = slice.split('] ');
          if (array[0] === '현관') {
            this.result.frontdoor = array[1];
          } else if (array[0] === '도배') {
            this.result.wallpaper = array[1];
          } else if (array[0] === '바닥') {
            this.result.bottom = array[1];
          } else if (array[0] === '몰딩') {
            this.result.molding = array[1];
          } else if (array[0] === '베란다/샷시') {
            this.result.veranda = array[1];
          } else if (array[0] === '주방') {
            this.result.kitchen = array[1];
          } else if (array[0] === '욕실') {
            this.result.bath = array[1];
          } else if (array[0] === '문') {
            this.result.door = array[1];
          } else if (array[0] === '조명') {
            this.result.light = array[1];
          } else if (array[0] === '가구공사') {
            this.result.furniture = array[1];
          }
        }
      },
      setExpectBudget: function () {
        if (this.response.expect_budget) {
          var budget = this.response.expect_budget.split('만원');
          var point = budget[0].length % 3 ;
          var len = budget[0].length;

          var str = budget[0].substring(0, point);
          while (point < len) {
            if (str !== "") {
              str += ",";
            }

            str += budget[0].substring(point, point + 3);
            point += 3;
          }

          if (budget[1].includes(' ~ ')) {
            var slice = budget[1].replace(' ~ ', '');
            return '<em>' + budget[0] + '</em>' + '만원 ~ <em>' + slice + '</em>만원';
          } else if( budget[1]) {
            return '<em>' + budget[0] + '</em> 만원 ' + budget[1];
          } else {
            return '<em>' + budget[0] + '</em> 만원';
          }
        }
      }
    }
  }
</script>


<script id="estimateBasicInfo" type="x/templates">
  <div class="basic_info_content estimate_success_basic_info_content">
    <dl class="clfix">
      <dt>이름</dt>
      <dd>{{ response.writer }}</dd>
    </dl>
    <dl class="clfix">
      <dt>휴대폰 번호</dt>
      <dd>{{ response.phone_no }}</dd>
    </dl>
    <dl class="clfix">
      <dt>공간 유형</dt>
      <dd>{{response.category_name1}} ({{response.category_name2}})</dd>
    </dl>
    <dl class="clfix">
      <dt>공사지 주소</dt>
      <dd>{{addr}}</dd>
    </dl>
    <dl class="clfix" v-show="response.schd_construction !== ''">
      <dt>공사 예정일</dt>
      <dd>{{response.schd_construction}}</dd>
    </dl>
    <dl class="clfix" v-show="response.budget !== ''">
      <dt>예상 비용</dt>
      <dd>{{response.budget}}</dd>
    </dl>
    <dl class="clfix" v-show="response.comment !== ''">
      <dt>요청사항</dt>
      <dd>{{response.comment}}</dd>
    </dl>
  </div>
</script>
<script>
  var estimateBasicInfo = {
    template: "#estimateBasicInfo",
    props: ['response','addr']
  }
</script>


<script id="toastMessageComponent" type="x/templates">
    <div v-show="forceVisible" class="toastMessageWrap"
         :id="customId"
         :style="styleObject"
         :class="customClass">
        <slot></slot>
        <button type="button" class="bottom_opacity_popup_close_btn" @click="forceHideToastMessage">
            <img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc/new_3.5.7/login/ic-close-1212-copy@2x.png" alt="토스트 메시지 닫기">
        </button>
    </div>
</script>
<script>
  Vue.component('toast-message-component', {
    template: '#toastMessageComponent',
    props: ['visible', 'pcWidth', 'delay', 'speed', 'customId', 'customClass'],
    data: function () {
      return {
        styleObject: {
          opacity: 0,
          width: '478px',
          transition: 'opacity 300ms ease-in-out',
          'z-index': 11
        },
        timer: null,
        closed: false,
        forceVisible: false
      }
    },
    watch: {
      visible: function () {
        if (this.visible) {
          if(!this.timer){
            this.forceVisible = true;
            this.showToastMessage();
          }
          return;
        }

        if (this.timer) {
          this.forceHideToastMessage();
        }
      }
    },
    methods: {
      showToastMessage: function () {
        this.setStyle();
        this.$nextTick(function () {
          this.styleObject.opacity = 1;
          var _this = this;
          this.closed = false;
          var delay = this.delay ? this.delay : 3000;
          this.timer = setTimeout(function () {
            if (!_this.closed) {
              _this.hideToastMessage();
            }
          }, delay);
        });

      },
      setStyle: function () {
        var speed = this.speed ? this.speed : 300;
        if (this.pcWidth && !checkMobile()) {
          this.styleObject.width = this.pcWidth + 'px';
        }
        this.styleObject.transition = 'opacity ' + speed + 'ms ease-in-out';
        this.styleObject['z-index'] = 600;
      },
      hideToastMessage: function () {
        this.styleObject.opacity = 0;
        this.styleObject['z-index'] = 11;
        if(this.timer){
          clearTimeout(this.timer);
          this.timer = null;
        }
        this.closed = true;

        var speed = this.speed ? this.speed : 300;
        var _this = this;
        var timer = setTimeout(function () {
            _this.forceVisible = false;
            clearTimeout(timer);
        }, speed);
      },
      forceHideToastMessage: function () {
        this.hideToastMessage();
        this.$emit('close-toast-message');
      }
    }
  });
</script>


<script id="resultBottomTemplate" type="x/templates">
  <section class="_result_bottom">
    <h3 class="_estimate_complete_sub_title mb-3">
      <strong>인테리어는 왜 집닥일까요?</strong>
    </h3>
    <div class="benefit_items_wrap">
      <ul class="clfix">
        <li class="benefit_items benefit_001">
          <span class="_modis">공사 관리해주는 <b>집닥맨</b></span>
          <span class="_mshow">공사관리 <b>집닥맨</b></span>
        </li>
        <li class="lines"></li>
        <li class="benefit_items benefit_002">
          <span class="_modis">국내 최장 <b>3년 A/S</b> 기간</span>
          <span class="_mshow">국내 최장 <b>3년 A/S</b></span>
        </li>
        <li class="lines "></li>
        <li class="benefit_items benefit_003">
          <span class="_modis">가장 많은 <b>상담 실적</b></span>
          <span class="_mshow">많은 <b>상담 실적</b></span>
        </li>
        <li class="lines _modis"></li>
        <li class="benefit_items benefit_004">
          <span class="_modis">까다롭게 선별한 <b>파트너스</b></span>
          <span class="_mshow">선별된 <b>파트너스</b></span>
        </li>
        <li class="lines"></li>
        <li class="benefit_items benefit_005">
          <span class="_modis"><b>집닥예치제</b>로 비용 보장</span>
          <span class="_mshow">안전한 <b>집닥예치</b></span>
        </li>
      </ul>
    </div>
    <div class="_result_btn_wrap clfix">
      <a class="_result_btn benefit_go_btn" href="javascript: void(0);" @click="goServiceInfo"><span>서비스소개 자세히보기</span></a>
    </div>
    <p class="end_txt">
      ※ 계약 내용을 집닥에 알리지 않은 경우 인테리어 과정에서 발생할 수 있는<br class="_modis">
      크고 작은 분쟁, 시공 업체 도산, 공사 일방 중단, A/S 불이행 등의 불이익으로부터 일체 보호해 드릴 수 없습니다.
      <a id="legal_notice_a" class="legal_notice_btn" href="javascript:;" @click="showLegalNotice($event)"><span>법적고지 확인</span></a>
    </p>
    
    <popup-component
            :visible="termsPopupVisible"
            :width="540"
            :height="352"
            :mobile="'true'"
            :mobile-width="320"
            :mobile-height="468"
            @closePopupAction="closeTermsPopup">
      <div class="modal-container estimate_law_dialog">
        <div>
        </div>
        <div class="modal-content">
          <div class="modal-header">
            <h3>법적 고지</h3>
            <a href="javascript:;" @click="closeTermsPopup" class="btn_close_layer _modis">
              <picture>
                <img src="//cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/close/ic-close-medium-black@2x.png"
                     alt="견적신청 법적고지 레이어 닫기">
              </picture>
            </a>
          </div>
          <div class="modal-body">
            <p>1. 시공에 대한 모든 책임은 시공업체에 있으며, "집닥"은(는) 총 공사비 5%이내 최대 3년 하자보증(업체보증기간 제외)의무만을 부담합니다.</p>
            <p>2. "이용자"는 계약시 세부견적서 내용을 꼼꼼히 확인 후 공사를 진행해야 합니다.</p>
            <p>3. "이용자"는 공사가 지연 또는 중단되어 분쟁이 발생한 경우, 즉시 당사"집닥"에게 통보해야 합니다. 단, 총 공사비의 20%이하로 잔금이 남아있는 경우,
              "집닥"이(가) 해당 건에 대한 중재가 불가하며 이때에는 "이용자"님 께서 업체와 직접 분쟁을 조율해야 합니다.</p>
          </div>
          <div class="modal_bottom_area _mshow" @click="closeTermsPopup">닫기</div>
        </div>
      </div>
    </popup-component>
  </section>
</script>


<script id="popupComponent" type="x/templates">
	<div v-show="visible">
		<div class="_common_popup" ref="popup" :style="setPopupStyle()" :class="customClass">
			<div class="modal-wrapper">
				<slot></slot>
			</div>
		</div>
		<div class="_common_dimm" v-if="visible" @click="closePopup()" :style="setDimmedStyle()"></div>
	</div>
</script>
<script>
	var popupComponent = {
		template: '#popupComponent',
		props: ['visible', 'width', 'height', 'top', 'left', 'mobile', 'mobileWidth', 'mobileHeight', 'order', 'customClass'],
		created: function () {
			eventBus.$on('popupClose', this.closePopup);
		},
		data: function() {
			return {
				originGnbStyle: undefined
			}
		},
		watch: {
			visible: function () {
				if (this.visible) {
					this.originGnbStyle = $('.gnb_area').attr('style');
					this.callDimm();
					return;
				}

				this.originGnbStyle = undefined;
				this.closePopup();
			}
		},
		methods: {
			setPopupStyle: function () {
				var popupStyle = '';
				if (this.width) {
					if (String(this.width).indexOf('%') !== -1) {
						if(this.width === '100%'){
							popupStyle += ' width: ' + this.width + ';';
						}else{
							var width = (this.width.slice(0, 2));
							popupStyle += ' width:' + this.width + ';';
							popupStyle += ' margin-left: -' + ((width*1) / 2) + '%;'
						}
					} else {
						popupStyle += ' width:' + this.width + 'px;';
						popupStyle += ' margin-left: -' + (this.width / 2) + 'px;'
					}
				}
				if (this.height) {
					if (String(this.height).indexOf('%') !== -1) {
						popupStyle += ' height: ' + this.height + ';';
					} else {
						popupStyle += ' height:' + this.height + 'px;';
						popupStyle += ' margin-top: -' + (this.height / 2) + 'px;'
					}
				}
				if (this.top) {
					popupStyle += ' top: ' + this.top + ';';
				}
				if (this.left && this.left !== '') {
					popupStyle += ' left: ' + this.left + ';';
				}

				if (checkMobile()) {
					if (this.mobile === 'true') {
						popupStyle = '';
						if(this.mobileWidth){
							if (String(this.mobileWidth).indexOf('%') !== -1) {
								if(this.mobileWidth === '100%'){
									popupStyle += ' width: ' + this.mobileWidth + ';';
								}else{
									var width = (this.mobileWidth.slice(0, 2));
									popupStyle += ' width:' + this.mobileWidth + ';';
									popupStyle += ' margin-left: -' + ((width*1) / 2) + '%;'
								}
							} else {
								popupStyle += ' width:' + this.mobileWidth + 'px;';
								popupStyle += ' margin-left: -' + (this.mobileWidth / 2) + 'px;'
							}
						}
						if(this.mobileHeight){
							if (String(this.mobileHeight).indexOf('%') !== -1) {
								popupStyle += ' height: ' + this.mobileHeight + ';';
							} else {
								popupStyle += ' height:' + this.mobileHeight + 'px;';
								popupStyle += ' margin-top: -' + (this.mobileHeight / 2) + 'px;'
							}
						}
						if(!this.mobileWidth && !this.mobileHeight){
							popupStyle = ' width: 100%; height: 100%; top:0; left:0; border-radius:0;';
						}
					}
				}
				if (this.order) {
					if (this.order === 2) {
						popupStyle += ' z-index: 530';
					}
					if (this.order === 3) {
						popupStyle += ' z-index: 540';
					}
				}
				return popupStyle;
			},
			setDimmedStyle: function () {
				var dimmedStyle = '';
				if (this.order) {
					if (this.order === 2) {
						dimmedStyle += ' z-index: 525';
					}
					if (this.order === 3) {
						dimmedStyle += ' z-index: 535';
					}
				}
				return dimmedStyle;
			},
			closePopup: function () {
				this.hideDimm();
				this.visible = false;
				this.$emit('closePopupAction');
			},
			callDimm: function () {
				var tempobj = {'overflow': 'hidden'};
				if (document.documentElement.scrollHeight
					> document.documentElement.clientHeight) {
					var scrollDiv = document.createElement('div');
					scrollDiv.className = 'modal-scrollbar-measure';
					$('body').append(scrollDiv);
					var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;
					if (scrollbarWidth > 0) {
						var gnbStyle = {'width': $('body').width(), 'box-sizing': 'unset', 'overflow': 'hidden'};
						if ($('body').css('min-width')) {
							var bodyMinWidth = $('body').css('min-width').split('px');
							if ($(window).width() < bodyMinWidth[0] * 1) {
								gnbStyle = {'width': $(window).width(), 'padding-right': scrollbarWidth, 'box-sizing': 'unset'}
							}
						}
						tempobj['padding-right'] = scrollbarWidth;
						$('#quickMenu').css({'margin-right': scrollbarWidth});
						$('#_open_popup').css({'margin-right': scrollbarWidth});
						$('.gnb_area').css(gnbStyle);
						$('#content').css(gnbStyle);
					}
				}

				if(checkMobile()){
					$('#app').css('position', 'unset')
				}

				$('body').css(tempobj);
			},
			hideDimm: function () {
				$('body').removeAttr('style');
				if (this.order === 1 || !this.order) {
					$('.modal-scrollbar-measure').remove();
					$('.gnb_area').attr('style', this.originGnbStyle);
					$('#content').removeAttr('style');
					$('#quickMenu').removeAttr('style');
					if(checkMobile()){
						$('#app').css('position', 'relative')
					}
				}
			}
		}
	}
</script>


<script>
  var resultBottomComponent = Vue.component('result-bottom-component', {
    template: "#resultBottomTemplate",
    components: {
      'popup-component': popupComponent
    },
    mixins: [webViewBridgeMixin],
    props: ['deviceInfo'],
    data: function () {
      return {
        termsPopupVisible: false
      }
    },
    methods: {
      goServiceInfo: function () {
        var url = location.origin + '/service/index/page';
        if (this.deviceInfo && this.deviceInfo.isAppUser) {
          this.callBrowserInApp(this.deviceInfo, url, '서비스 소개');
          return;
        }

        window.location.href = url;
      },
      showLegalNotice: function () {
        this.termsPopupVisible = true;
      },
      closeTermsPopup: function () {
        this.termsPopupVisible = false;
        $('#app').css({'top': 0});
      }
    }
  });

</script>


<script>
	var success = {
		template: "#success",
		mixins: [mixin_utils, linkUrlMixin, webViewBridgeMixin],
		props: ['addr', 'viewType', 'estimate', 'agreement_view', 'response', 'deviceInfo'],
		data: function () {
			return {
				viewBasicInfoStatus: false,
				toastEstimateVisible: false,
				budgetPopupVisible: false
			}
		},
		components: {
			'commerce-step-first-success': commerceStepFirstSuccess,
			'resident-step-first-success': residentStepFirstSuccess,
			'resident-step-second-success': residentStepSecondSuccess,
			'estimate-basic-info': estimateBasicInfo,
			'popup-component': popupComponent
		},
		mounted: function () {
			var _this = this;
			if (checkMobile()) {
				$('#app').css({'top': 0, 'padding-top': $('.gnb_area').height() + 'px', 'position': 'unset'});
			} else {
				$('#app').css({'top': 0, 'padding-top': '127px', 'position': 'unset'});
			}
			if (this.isResidentSimpleSuccess()) {
				setTimeout(function () {
					_this.budgetPopupVisible = true;
					$('#budgetPopup').fadeIn(1000)
				}, 1000);
			} else {
				this.toastEstimateVisible = true;
			}

			this.$nextTick(function () {
				$('html, body').stop().animate({scrollTop: 0}, 0);
			});

			if (this.isEstimateShow && this.isAnonymousAppUser() && !this.isResidentSimpleSuccess()) {
				if (this.deviceInfo && this.deviceInfo.isAppUser) {
					this.callAppLogin(this.deviceInfo);
				}
			}
		},
		methods: {
			isResidentSimpleSuccess: function() {
				return this.viewType.type === 'resident' && this.viewType.step === 1 && this.viewType.status === 'success'
			},
			isAnonymousAppUser: function() {
				return this.deviceInfo && this.deviceInfo.isAppUser && (!this.deviceInfo.member_no || this.deviceInfo.member_no === '0');
			},
			loginToEstimateProgressCheck: function() {
				topGnb.showLoginPopup();
			},
			goResidentExpectBudgetPage: function () {
				this.viewType.type = 'resident';
				this.viewType.step = 2;
				this.viewType.status = 'estimate';
				changeGnb();
				$("#budgetPopup").hide();
				hide_dimm.init();
				ga_zip('send', 'event', '예상견적 확인', '버튼클릭', '주거 예상견적 확인하기', '1');
			},
			isEstimateShow: function () {
				return !(this.viewType.step === 1 && this.viewType.type === 'resident');
			},
			isMobile: function () {
				return checkMobile();
			},
			closeToastMessage: function () {
				this.toastEstimateVisible = false;
			},
			closePopup: function () {
				this.budgetPopupVisible = false;
				$('#app').css({'top': 0});
			}
		}
	}
</script>


<div class="app_wrap estimate-banner-use">
  <div class="_modis" id="commonGnb">
    

<div class="floating-banner" id="go_shop_detail_banner" style="display: none">
    <div class="_container">
        <a href="javascript:void(0);" id="go_shop_detail">
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/banner/img-banner-top-event@2x.png" alt="" class="_modis">
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/banner/m-img-banner-top-event@2x.png" alt="" class="_mshow">
        </a>
        <button type="button" class="btn-close" id="button_go_shop_detail_banner_close"><span class="_modis">오늘 하루 안보기</span>  <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/banner/btn-banner-top-close@2x.png" alt=""></button>
    </div>
</div>
<div class="gnb_area">

    <div class="small_gnb_wrap pc_top">
        <div class="_container">
            <div class="campaign">
                <a href="https://part.zipdoc.co.kr/" target="_blank">집닥 부분시공</a>
                <a href="https://archi.zipdoc.co.kr/zws/index.do" target="_blank">집닥 건축</a>
            </div>
            <div class="menu-list small_gnb_menu">
                <ul class="clfix">
                    <li>
                        
                        
                            <a href="javascript:;" onclick="topGnb.showLoginPopup();">로그인</a>
                        
                    </li>
                    <li>
                        
                        
                            <a href="../signUp/request/index/page%EF%B9%96login=true.html">회원가입</a>
                        
                    </li>
                    
                    <li>
                        <a href="../customer/faq.html">고객센터</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="_container gnb_wrap">
        <div class="pc_top">
            <h1 class="_logo">
                <a href="../index.html" class="go_main_pc">
                    <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_v35/common/img_logo@2x.png" alt="">
                </a>
            </h1>
            <nav id="gnb">
                <ul class="clfix">
                    <li class="gnb_menu">
                        <a class="interiorBtn go_resident_pc" href="../product/resident/list.html"
                           data-path="/product/resident/">주거공간</a>
                        <div class="gnb_sub_menu">
                            <ul>
                                <li><a class="interiorBtn go_resident_all_pc" href="../product/resident/list.html">종합 인테리어</a></li>
                                <li><a class="interiorBtn go_resident_item_pc" href="../product/resident/items.html">공간별 사진</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="gnb_menu">
                        <a class="interiorBtn go_commerce_pc " href="../product/commerce/list.html"
                           data-path="/product/commerce/">상업공간</a>
                    </li>
                    <li class="gnb_menu">
                        <a class="go_partner_pc" href="../partner/bestPartners/index/page.html" data-path="/partner/">파트너스</a>
                        <div class="gnb_sub_menu">
                            <ul>
                                <li><a class="go_partner_best_pc" href="../partner/bestPartners/index/page.html">안심 파트너스</a></li>
                                <li><a class="go_partner_pop_pc" href="../partner/popPartners/index/page.html">인기 파트너스</a></li>
                                
                                <li><a class="partnersBtn go_partner_all_pc " href="javascript:;">지역 파트너스</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="gnb_menu">
                        <a class="go_story_pc" href="../story/customerOpinions.html" data-path="/story/">집닥스토리</a>
                        <div class="gnb_sub_menu">
                            <ul>
                                <li><a class="go_story_customer_pc" href="../story/customerOpinions.html">고객 생생 후기</a></li>
                                <li><a class="go_story_trend_pc" href="../story/list%EF%B9%96magazineType=5.html">인테리어 트렌드</a></li>
                                <li><a class="go_story_tip_pc" href="../story/list%EF%B9%96magazineType=1.html">인테리어 팁</a></li>
                                <li><a class="go_story_field_pc" href="../story/list%EF%B9%96magazineType=2.html">집닥맨 현장소식</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="gnb_menu">
                        <a class="go_event_pc" href="../benefit/eventList.html" data-path="/benefit/">이벤트</a>
                    </li>
                </ul>
            </nav>
            <div class="gnb_search_and_estimate">
                <!--remove autocomplete-->
                <input style="display:none" aria-hidden="true">
                <input type="password" style="display:none" aria-hidden="true">
                <!--remove autocomplete end-->
                <input id="gnbSearchInput" type="text" class="gnb_search" value=""
                       onkeypress="if(event.keyCode==13) {goUserSearch($('#gnbSearchInput').val() ); return false;}" maxlength="30">
                <a onclick="goUserSearch($('#gnbSearchInput').val() )" class="search_activate">
                    <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/navigation/ic-gnb-search-pc@2x.png" alt="">
                </a>
                <div class="_btn_estimate">
                    <a href="simple%EF%B9%96category_code1=.html"
                       onclick="ga_zip('send','event','견적신청','버튼클릭','상단메뉴견적신청_웹','1' )" class="go_estimate_pc">
                        견적 알아보기
                    </a>
                    <ul>
                        <li>
                            <a href="simple%EF%B9%96category_code1=10.html" class="go_estimate_residence_pc">
                                주거 견적
                            </a>
                        </li>
                        <li>
                            <a href="simple%EF%B9%96category_code1=20.html" class="go_estimate_commerce_pc">
                                상업 견적
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="mov_top">
            <div class="poz_rel btn_wraps">
                <a href="javascript:void(0);" class="ui_mov_side_btn mov_top_btn">
                    <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/navigation/ic-navi-menu-nor@2x.png" alt="">
                </a>
                <h1 class="_logo_mov">
                    <a href="../index.html" class="go_main_m">
                        <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/navi-zipdoc-logo@2x.png" alt="">
                    </a>
                </h1>
                <a href="javascript:void(0);" class="ui_mov_search_btn common mov_top_btn"></a>
            </div>
            <div class="mov_nav_wrap">
                <div class="gnb_gradation">
                    <nav id="mov_gnb">
                        <ul id="ul_mov_gnb_menu">
                            
                            <li class="mov_gnb_menu mov_gnb_menu_1"><a class="interiorBtn go_resident_m"
                                                                       href="../product/resident/list.html">주거공간</a></li>
                            <li class="mov_gnb_menu mov_gnb_menu_2"><a class="interiorBtn go_commerce_m"
                                                                       href="../product/commerce/list.html">상업공간</a>
                            </li>
                            <li class="mov_gnb_menu mov_gnb_menu_3"><a class="go_partner_m"
                                    href="../partner/bestPartners/index/page.html">파트너스</a>
                            </li>
                            <li class="mov_gnb_menu mov_gnb_menu_4"><a class="go_story_m" href="../story/customerOpinions.html">집닥스토리</a>
                            </li>
                            <li class="mov_gnb_menu  mov_gnb_menu_5"><a class="go_event_m" href="../benefit/eventList.html">이벤트</a></li>
                        </ul>
                    </nav>
                </div>
                <div id="mov_sub_gnb" class="mov_sub_gnb">
                    <ul class="gnb_sub_gradation">
                        <li class="mov_sub_gnb_menu_group" data-ind="1">
                            <ul class="ul_mov_gnb_menu">
                                <li class="mov_sub_gnb_menu"><a class="interiorBtn" href="../product/resident/list.html">종합
                                    인테리어</a></li>
                                <li class="mov_sub_gnb_menu"><a class="interiorBtn" href="../product/resident/items.html">공간별 사진</a></li>
                            </ul>
                        </li>
                        <li class="mov_sub_gnb_menu_group" data-ind="3">
                            <ul class="ul_mov_gnb_menu">
                                <li class="mov_sub_gnb_menu"><a href="../partner/bestPartners/index/page.html">안심 파트너스</a>
                                </li>
                                <li class="mov_sub_gnb_menu"><a href="../partner/popPartners/index/page.html">인기 파트너스</a>
                                </li>
                                
                                <li class="mov_sub_gnb_menu"><a href="../partner/allPartners/index/page.html"
                                                                class="partnersBtn">지역
                                    파트너스</a></li>
                            </ul>
                        </li>
                        <li class="mov_sub_gnb_menu_group" data-ind="4">
                            <ul class="ul_mov_gnb_menu" id="storyMenu">
                                <li class="mov_sub_gnb_menu"><a href="../story/customerOpinions.html">고객 생생 후기</a></li>
                                <li class="mov_sub_gnb_menu mov_sub_menu_5"><a href="../story/list%EF%B9%96magazineType=5.html">인테리어
                                    트렌드</a></li>
                                <li class="mov_sub_gnb_menu mov_sub_menu_1"><a href="../story/list%EF%B9%96magazineType=1.html">인테리어
                                    팁</a></li>
                                <li class="mov_sub_gnb_menu mov_sub_menu_2"><a href="../story/list%EF%B9%96magazineType=2.html">집닥맨
                                    현장소식</a></li>
                            </ul>
                        </li>
                        <li class="mov_sub_gnb_menu_group" data-ind="5">
                            <ul class="ul_mov_gnb_menu" id="guideMenu">
                                <li class="mov_sub_gnb_menu"><a href="../guide/about.html#tabs%3DINTRODUCE"
                                                                data-tab="INTRODUCE">회사소개</a></li>
                                <li class="mov_sub_gnb_menu"><a href="../guide/about.html#tabs%3DABOUT" data-tab="ABOUT">회사연혁</a>
                                </li>
                                <li class="mov_sub_gnb_menu"><a href="../guide/about.html#page%3D1%7Ctabs%3DNEWS"
                                                                data-tab="NEWS">언론보도</a></li>




                            </ul>
                        </li>
                        <li class="mov_sub_gnb_menu_group" data-ind="6">
                            <ul class="ul_mov_gnb_menu" id="customerMenu">
                                <li class="mov_sub_gnb_menu"><a href="../customer/faq.html">자주 묻는 질문</a></li>
                                <li class="mov_sub_gnb_menu"><a href="../customer/inquiry.html" id="goInquiryCreatePage">1:1
                                    문의</a></li>
                                <li class="mov_sub_gnb_menu"><a href="../customer/contract.html">집닥 표준계약서</a></li>
                            </ul>
                        </li>
                        <li class="mov_sub_gnb_menu_group" data-ind="7">
                            <ul class="ul_mov_gnb_menu" id="myInteriorMenu">
                                <li class="mov_sub_gnb_menu"><a href="../common/login.html">나의 견적 / 공사</a></li>
                                <li class="mov_sub_gnb_menu"><a href="../myPage/scrap/index/page.html">스크랩북</a></li>
                                <li class="mov_sub_gnb_menu"><a href="../common/login.html">문의 내역</a></li>
                                <li class="mov_sub_gnb_menu"><a href="../common/login.html">정보수정</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

  </div>
  <div class="_mshow" id="detailGnb">
    
<div class="_modis">
	



<div class="floating-banner" id="go_shop_detail_banner" style="display: none">
    <div class="_container">
        <a href="javascript:void(0);" id="go_shop_detail">
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/banner/img-banner-top-event@2x.png" alt="" class="_modis">
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/banner/m-img-banner-top-event@2x.png" alt="" class="_mshow">
        </a>
        <button type="button" class="btn-close" id="button_go_shop_detail_banner_close"><span class="_modis">오늘 하루 안보기</span>  <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/banner/btn-banner-top-close@2x.png" alt=""></button>
    </div>
</div>
<div class="gnb_area">

    <div class="small_gnb_wrap pc_top">
        <div class="_container">
            <div class="campaign">
                <a href="https://part.zipdoc.co.kr/" target="_blank">집닥 부분시공</a>
                <a href="https://archi.zipdoc.co.kr/zws/index.do" target="_blank">집닥 건축</a>
            </div>
            <div class="menu-list small_gnb_menu">
                <ul class="clfix">
                    <li>
                        
                        
                            <a href="javascript:;" onclick="topGnb.showLoginPopup();">로그인</a>
                        
                    </li>
                    <li>
                        
                        
                            <a href="../signUp/request/index/page%EF%B9%96login=true.html">회원가입</a>
                        
                    </li>
                    
                    <li>
                        <a href="../customer/faq.html">고객센터</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="_container gnb_wrap">
        <div class="pc_top">
            <h1 class="_logo">
                <a href="../index.html" class="go_main_pc">
                    <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_v35/common/img_logo@2x.png" alt="">
                </a>
            </h1>
            <nav id="gnb">
                <ul class="clfix">
                    <li class="gnb_menu">
                        <a class="interiorBtn go_resident_pc" href="../product/resident/list.html"
                           data-path="/product/resident/">주거공간</a>
                        <div class="gnb_sub_menu">
                            <ul>
                                <li><a class="interiorBtn go_resident_all_pc" href="../product/resident/list.html">종합 인테리어</a></li>
                                <li><a class="interiorBtn go_resident_item_pc" href="../product/resident/items.html">공간별 사진</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="gnb_menu">
                        <a class="interiorBtn go_commerce_pc " href="../product/commerce/list.html"
                           data-path="/product/commerce/">상업공간</a>
                    </li>
                    <li class="gnb_menu">
                        <a class="go_partner_pc" href="../partner/bestPartners/index/page.html" data-path="/partner/">파트너스</a>
                        <div class="gnb_sub_menu">
                            <ul>
                                <li><a class="go_partner_best_pc" href="../partner/bestPartners/index/page.html">안심 파트너스</a></li>
                                <li><a class="go_partner_pop_pc" href="../partner/popPartners/index/page.html">인기 파트너스</a></li>
                                
                                <li><a class="partnersBtn go_partner_all_pc " href="javascript:;">지역 파트너스</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="gnb_menu">
                        <a class="go_story_pc" href="../story/customerOpinions.html" data-path="/story/">집닥스토리</a>
                        <div class="gnb_sub_menu">
                            <ul>
                                <li><a class="go_story_customer_pc" href="../story/customerOpinions.html">고객 생생 후기</a></li>
                                <li><a class="go_story_trend_pc" href="../story/list%EF%B9%96magazineType=5.html">인테리어 트렌드</a></li>
                                <li><a class="go_story_tip_pc" href="../story/list%EF%B9%96magazineType=1.html">인테리어 팁</a></li>
                                <li><a class="go_story_field_pc" href="../story/list%EF%B9%96magazineType=2.html">집닥맨 현장소식</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="gnb_menu">
                        <a class="go_event_pc" href="../benefit/eventList.html" data-path="/benefit/">이벤트</a>
                    </li>
                </ul>
            </nav>
            <div class="gnb_search_and_estimate">
                <!--remove autocomplete-->
                <input style="display:none" aria-hidden="true">
                <input type="password" style="display:none" aria-hidden="true">
                <!--remove autocomplete end-->
                <input id="gnbSearchInput" type="text" class="gnb_search" value=""
                       onkeypress="if(event.keyCode==13) {goUserSearch($('#gnbSearchInput').val() ); return false;}" maxlength="30">
                <a onclick="goUserSearch($('#gnbSearchInput').val() )" class="search_activate">
                    <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/navigation/ic-gnb-search-pc@2x.png" alt="">
                </a>
                <div class="_btn_estimate">
                    <a href="simple%EF%B9%96category_code1=.html"
                       onclick="ga_zip('send','event','견적신청','버튼클릭','상단메뉴견적신청_웹','1' )" class="go_estimate_pc">
                        견적 알아보기
                    </a>
                    <ul>
                        <li>
                            <a href="simple%EF%B9%96category_code1=10.html" class="go_estimate_residence_pc">
                                주거 견적
                            </a>
                        </li>
                        <li>
                            <a href="simple%EF%B9%96category_code1=20.html" class="go_estimate_commerce_pc">
                                상업 견적
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="mov_top">
            <div class="poz_rel btn_wraps">
                <a href="javascript:void(0);" class="ui_mov_side_btn mov_top_btn">
                    <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/navigation/ic-navi-menu-nor@2x.png" alt="">
                </a>
                <h1 class="_logo_mov">
                    <a href="../index.html" class="go_main_m">
                        <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/navi-zipdoc-logo@2x.png" alt="">
                    </a>
                </h1>
                <a href="javascript:void(0);" class="ui_mov_search_btn common mov_top_btn"></a>
            </div>
            <div class="mov_nav_wrap">
                <div class="gnb_gradation">
                    <nav id="mov_gnb">
                        <ul id="ul_mov_gnb_menu">
                            
                            <li class="mov_gnb_menu mov_gnb_menu_1"><a class="interiorBtn go_resident_m"
                                                                       href="../product/resident/list.html">주거공간</a></li>
                            <li class="mov_gnb_menu mov_gnb_menu_2"><a class="interiorBtn go_commerce_m"
                                                                       href="../product/commerce/list.html">상업공간</a>
                            </li>
                            <li class="mov_gnb_menu mov_gnb_menu_3"><a class="go_partner_m"
                                    href="../partner/bestPartners/index/page.html">파트너스</a>
                            </li>
                            <li class="mov_gnb_menu mov_gnb_menu_4"><a class="go_story_m" href="../story/customerOpinions.html">집닥스토리</a>
                            </li>
                            <li class="mov_gnb_menu  mov_gnb_menu_5"><a class="go_event_m" href="../benefit/eventList.html">이벤트</a></li>
                        </ul>
                    </nav>
                </div>
                <div id="mov_sub_gnb" class="mov_sub_gnb">
                    <ul class="gnb_sub_gradation">
                        <li class="mov_sub_gnb_menu_group" data-ind="1">
                            <ul class="ul_mov_gnb_menu">
                                <li class="mov_sub_gnb_menu"><a class="interiorBtn" href="../product/resident/list.html">종합
                                    인테리어</a></li>
                                <li class="mov_sub_gnb_menu"><a class="interiorBtn" href="../product/resident/items.html">공간별 사진</a></li>
                            </ul>
                        </li>
                        <li class="mov_sub_gnb_menu_group" data-ind="3">
                            <ul class="ul_mov_gnb_menu">
                                <li class="mov_sub_gnb_menu"><a href="../partner/bestPartners/index/page.html">안심 파트너스</a>
                                </li>
                                <li class="mov_sub_gnb_menu"><a href="../partner/popPartners/index/page.html">인기 파트너스</a>
                                </li>
                                
                                <li class="mov_sub_gnb_menu"><a href="../partner/allPartners/index/page.html"
                                                                class="partnersBtn">지역
                                    파트너스</a></li>
                            </ul>
                        </li>
                        <li class="mov_sub_gnb_menu_group" data-ind="4">
                            <ul class="ul_mov_gnb_menu" id="storyMenu">
                                <li class="mov_sub_gnb_menu"><a href="../story/customerOpinions.html">고객 생생 후기</a></li>
                                <li class="mov_sub_gnb_menu mov_sub_menu_5"><a href="../story/list%EF%B9%96magazineType=5.html">인테리어
                                    트렌드</a></li>
                                <li class="mov_sub_gnb_menu mov_sub_menu_1"><a href="../story/list%EF%B9%96magazineType=1.html">인테리어
                                    팁</a></li>
                                <li class="mov_sub_gnb_menu mov_sub_menu_2"><a href="../story/list%EF%B9%96magazineType=2.html">집닥맨
                                    현장소식</a></li>
                            </ul>
                        </li>
                        <li class="mov_sub_gnb_menu_group" data-ind="5">
                            <ul class="ul_mov_gnb_menu" id="guideMenu">
                                <li class="mov_sub_gnb_menu"><a href="../guide/about.html#tabs%3DINTRODUCE"
                                                                data-tab="INTRODUCE">회사소개</a></li>
                                <li class="mov_sub_gnb_menu"><a href="../guide/about.html#tabs%3DABOUT" data-tab="ABOUT">회사연혁</a>
                                </li>
                                <li class="mov_sub_gnb_menu"><a href="../guide/about.html#page%3D1%7Ctabs%3DNEWS"
                                                                data-tab="NEWS">언론보도</a></li>




                            </ul>
                        </li>
                        <li class="mov_sub_gnb_menu_group" data-ind="6">
                            <ul class="ul_mov_gnb_menu" id="customerMenu">
                                <li class="mov_sub_gnb_menu"><a href="../customer/faq.html">자주 묻는 질문</a></li>
                                <li class="mov_sub_gnb_menu"><a href="../customer/inquiry.html" id="goInquiryCreatePage">1:1
                                    문의</a></li>
                                <li class="mov_sub_gnb_menu"><a href="../customer/contract.html">집닥 표준계약서</a></li>
                            </ul>
                        </li>
                        <li class="mov_sub_gnb_menu_group" data-ind="7">
                            <ul class="ul_mov_gnb_menu" id="myInteriorMenu">
                                <li class="mov_sub_gnb_menu"><a href="../common/login.html">나의 견적 / 공사</a></li>
                                <li class="mov_sub_gnb_menu"><a href="../myPage/scrap/index/page.html">스크랩북</a></li>
                                <li class="mov_sub_gnb_menu"><a href="../common/login.html">문의 내역</a></li>
                                <li class="mov_sub_gnb_menu"><a href="../common/login.html">정보수정</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" src="https://cf.zipdoc.co.kr/zws/res/js/lib/js-cookie-2.2.1.js"></script>
<script>
    $(document).ready(function () {
        topGnb.init();
        gnbSearchInput.init();
    });
    $(window).on('load', function(){
        topGnb.toggleGoShopDetailBanner(!topGnb.isNoShowGoShopDetailBanner());
    });
    $(document).on('click', '.interiorBtn', function () {
        topGnb.clearHistoryStorage();
    });
    $(document).on('click', '.partnersBtn', function () {
        localStorage.removeItem('historyBackInfo');
        location.href = SERVICE_URL + 'partner/allPartners/index/page';
    });
    $(document).on('click', '#go_shop_detail', function() {
        topGnb.goShopDetail();
    });
    $(document).on('click', '#button_go_shop_detail_banner_close', function() {
        topGnb.closeShopBanner();
    });
    $(document).on('click', '#goInquiryCreatePage', function (event) {
        event.preventDefault();
        if (ZWS_USER && ZWS_USER.isMemberLoginUser()) {
            window.location.href = SERVICE_URL + 'customer/inquiry';
        } else {
            if (checkMobile()) {
                if (eventBus) {
                    eventBus.$emit("open_login_dialog", 'customer/inquiry');
                }
            } else {
                eventBus.$emit("showLoginPopupInquiry", '/customer/inquiry');
            }
        }
    });

    $(document).on('focus', '#gnbSearchInput', function () {
        gnbSearchInput.inputFocus();
    });
    $(document).on('blur', '#gnbSearchInput', function () {
        gnbSearchInput.inputBlur();
    });

    var gnbSearchInput = {
        data: {
            timer: null,
            intervalTime: 5000,
            maxCount: 10,
            count: 0,
            randomIndex: 0,
            list: null
        },
        init: function () {
            if (!checkMobile()) {
                gnbSearchInput.getList();
            }
        },
        getList: function () {
            zipAxios.get('/acs3/search/complex/keyword').then(function (response) {
                if (response.status === 200) {
                    gnbSearchInput.data.list = response.data;
                    gnbSearchInput.data.maxCount = response.data.length;
                    // placeholder random 1개
                    gnbSearchInput.setPlaceholder();
                    // placeholder 주기마다 변경
                    // gnbSearchInput.data.timer = gnbSearchInput.startTimer();
                }
            });
        },
        setPlaceholder: function () {
            gnbSearchInput.data.randomIndex = gnbSearchInput.makeRandom(gnbSearchInput.data.count, (gnbSearchInput.data.maxCount - 1));
            $('#gnbSearchInput').attr('placeholder', gnbSearchInput.data.list[gnbSearchInput.data.randomIndex]);
        },
        makeRandom: function (min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        },
        inputFocus: function () {
            $('#gnbSearchInput').attr('placeholder', '');
        },
        inputBlur: function () {
            $('#gnbSearchInput').attr('placeholder', gnbSearchInput.data.list[gnbSearchInput.data.randomIndex]);
        },
        checkTimer: function () {
            if (gnbSearchInput.data.timer !== null) {
                gnbSearchInput.stopTimer();
            }
        },
        startTimer: function () {
            return setInterval(gnbSearchInput.drawTimer, gnbSearchInput.data.intervalTime);
        },
        drawTimer: function () {
            if (gnbSearchInput.data.count === (gnbSearchInput.data.maxCount - 1)) {
                gnbSearchInput.data.count = 0;
            }
            $('#gnbSearchInput').attr('placeholder', gnbSearchInput.data.list[gnbSearchInput.data.count]);
            gnbSearchInput.data.count++;
        },
        stopTimer: function () {
            clearInterval(gnbSearchInput.data.timer);
            gnbSearchInput.data.timer = null;
        }
    };

    var curPageUrl = '/est-a/simple';

    var topGnb = {
        init: function () {
            zlog(' curPageUrl : ' + curPageUrl);
            if (checkMobile()) {
                topGnb.setMobileGnbClass();
            } else {
                topGnb.setPcGnbClass();
            }
            topGnb.searchContent();
        },
        data: {
            noShowGoShopBannerCookieName: 'GoShopDetailBannerCloseForDay'
        },
        setMobileGnbClass: function () {
            var $mobileGnbMenu;
            // MOBILE 초기화
            $('.mov_sub_gnb').hide();
            $('.mov_nav_wrap').removeClass('on');

            if (curPageUrl === '/product/commerce/list'
                    || curPageUrl === '/benefit/eventList'
                    || curPageUrl.includes('/groupBuying')) {
                // || curPageUrl === '/') {
                // MOBILE 1DEPTH
                $('#ul_mov_gnb_menu > li > a').each(function () {
                    if ($(this).attr('href').includes(curPageUrl)) {
                        $(this).parent().addClass('on');
                        $mobileGnbMenu = $(this).parent('li');
                        return false;
                    }
                });
                topGnb.moveMobileMenu('#ul_mov_gnb_menu');
            } else if (curPageUrl.includes('/customer/') || curPageUrl.includes('/myInterior/') || curPageUrl.includes('/myPage/')) {
                $('.ul_mov_gnb_menu > li > a').each(function (index, value) {
                    if ($(this).attr('href').includes(curPageUrl)) {
                        $(this).parent().addClass('on');
                        $('.mov_sub_gnb').show();
                        $(this).parents('.mov_sub_gnb_menu_group').show();
                        topGnb.moveMobileMenu($(this).parents('.ul_mov_gnb_menu'));
                    }
                });
            } else if (curPageUrl.includes('/guide/about')
                    || curPageUrl.includes('/search/index/page')
                    || curPageUrl.includes('/partner/partnerIntro')
                    || curPageUrl.includes('/est/')
                    || curPageUrl.includes('/service/index')
                    || curPageUrl === '/index.do'
                    || curPageUrl === '/'
                    || curPageUrl === '/shop/goods/getList.do') {
                return false
            } else {
                // MOBILE 2DEPTH
                $('.ul_mov_gnb_menu > li > a').each(function (index, value) {
                    if ($(this).attr('href').includes(curPageUrl) && curPageUrl !== '/' && curPageUrl !== '') {
                        var $mobileSubGroup = $(this).parents('.mov_sub_gnb_menu_group');
                        var ind = $mobileSubGroup.data('ind');
                        $mobileGnbMenu = $('.mov_gnb_menu_' + ind);
                        $mobileGnbMenu.addClass('on');
                        $mobileGnbMenu.addClass('sub_on');

                        var $mobileSubMenu;

                        if ($(this).attr('href').includes('/story/list')) {
                            var param = $(location).attr('search').slice($(location).attr('search').indexOf('=') + 1);
                            $mobileSubMenu = $('.mov_sub_menu_' + param);
                        } else {
                            $mobileSubMenu = $(this).parent()
                        }
                        $mobileSubMenu.addClass('on');

                        $('.mov_sub_gnb').show();
                        $mobileSubGroup.show();
                        topGnb.moveMobileMenu($(this).parents('.ul_mov_gnb_menu'));
                        return false;
                    }
                });
                topGnb.moveMobileMenu('#ul_mov_gnb_menu');
            }
        },
        moveMobileMenu: function (parentElement) {
            var screenWidth = $(window).width();
            var scrollWidth = $(parentElement).width();
            if (scrollWidth > screenWidth) {
                var focusEl;
                var onScrollWidth = 0;
                $(parentElement).find('li').each(function (index, value) {
                    onScrollWidth += $(value).outerWidth(true) + 4 + 2; // 4px 은 ul > li 사이의 기본 영역, 2px gradation 영역
                    if ($(value).hasClass('on')) {
                        focusEl = $(value).children().text();
                        return false;
                    }
                });

                if (focusEl !== '이벤트') {
                    $(parentElement).parent().scrollLeft(onScrollWidth - screenWidth + 64)
                } else {
                    $(parentElement).parent().scrollLeft(onScrollWidth - screenWidth)
                }
            }
        },
        setGuideMenu: function (tab) {
            $('.ul_mov_gnb_menu > li > a').each(function (index, value) {
                $(this).parent().removeClass('on');
                if ($(this).data('tab') === tab) {
                    $(this).parent().addClass('on');
                    $('.mov_sub_gnb').show();
                    $(this).parents('.mov_sub_gnb_menu_group').show();
                    topGnb.moveMobileMenu($(this).parents('.ul_mov_gnb_menu'));
                }
            });
            $('html, body').scrollTop(0);
        },
        setPcGnbClass: function () {
            // PC 초기화
            $('.gnb_menu').find('a').removeClass('active');

            // PC 1DEPTH
            $('.gnb_menu > a').each(function () {
                if ($(this).attr('href').includes(curPageUrl) && curPageUrl != '/' && curPageUrl != '') {
                    if ($(this).attr('href').includes('/story/list')) {
                        $(this).addClass('active');
                        return false;
                    } else {
                        $(this).addClass('active');
                    }
                } else if (($(this).attr('href').includes('product/resident/list')
                        || $(this).attr('href').includes('product/commerce/list'))
                        && curPageUrl.includes('product/detail/index/page')) {
                    var param = $(location).attr('search').slice($(location).attr('search').indexOf('=') + 1).slice(0, 2);
                    if (param && param === '10' && $(this).attr('href').includes('product/resident/list')) {
                        $(this).addClass('active');
                    } else if (param && param === '20' && $(this).attr('href').includes('product/commerce/list')) {
                        $(this).addClass('active');
                    }
                } else if (curPageUrl.includes($(this).data('path'))) {
                    $(this).addClass('active');
                }
            });
            // PC 2DEPTH
            $('.gnb_sub_menu > ul > li > a').each(function () {
                if ($(this).attr('href').includes(curPageUrl) && curPageUrl != '/' && curPageUrl != '') {
                    $(this).parents('.gnb_menu').children('a').addClass('active');
                    return false;
                }
            });
        },
        searchContent: function () {
            // if (curPageUrl.includes('/search/index/page')) {
            
            //   var curSearchTag = decodeURIComponent(escapeValue);
            //   $('#gnbSearchInput').val(curSearchTag);
            // }
        },
        showLoginPopup: function (params) {
            if (checkMobile()) gotoLoginPage();
            else eventBus.$emit("showLoginPopup", params && params.order ? params.order : null);
        },
        clearHistoryStorage: function () {
            localStorage.removeItem('scrollTop');
            localStorage.removeItem('listLength');
            localStorage.removeItem('historyBack');

            localStorage.removeItem('historyBackInfo');

        },
        goShopDetail: function() {
            aceCounterEvent('floating_shop_banner_click', {mobile: isMobileOS()}, (window.location.origin.slice(-1) !== '/' ? window.location.origin + '/' : window.location.origin) + 'floatingShopBannerClick');
            this.closeShopBanner();

            window.location.href = '/shop/goods/getList.do';
        },
        closeShopBanner: function() {
            var date = new Date();
            var midnight = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 23, 59, 59);

            Cookies.set(this.data.noShowGoShopBannerCookieName, true, {expires: midnight});
            this.toggleGoShopDetailBanner(false);
        },
        isNoShowGoShopDetailBanner: function() {
            if (window.location.href.indexOf('/est-ex/simple') > -1 || window.location.href.indexOf('/est-a/simple') > -1) {
                return true;
            }

            return Cookies.get(this.data.noShowGoShopBannerCookieName);
        },
        toggleGoShopDetailBanner: function(visible) {
            var floatingBanner = $('#go_shop_detail_banner');
            if (visible) {
                floatingBanner.slideDown('100');
                $(".floating-banner").removeClass('out');

                if(isMobileOS() && $('#detailGnbTitle').length > 0) {
                    return;
                }

                aceCounterEvent('floating_shop_banner_view', {mobile: isMobileOS()}, (window.location.origin.slice(-1) !== '/' ? window.location.origin + '/' : window.location.origin) + 'floatingShopBannerView');
                return;
            }

            floatingBanner.slideUp('100');
            $(".floating-banner").addClass('out')

        }
    };

    function onSubmitMobile() {
        var value = $("#searchMobileForm input[type='search']").val();
        goUserSearch(value);
    }

    $('#mobileSearchValue').on('keyup', function () {
        $('#removeMobileSearchBtn').show();
    });

</script>
</div>
<div class="_mshow">
	<div class="_m_detail_gnb_wrap">
		<div class="floating-banner" id="go_shop_detail_banner_mobile" style="display: none; position: fixed; z-index: 500">
			<div class="_container">
				<a href="javascript:void(0);" id="go_shop_detail_mobile">
					<img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/banner/img-banner-top-event@2x.png" alt="" class="_modis">
					<img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/banner/m-img-banner-top-event@2x.png" alt="" class="_mshow">
				</a>
				<button type="button" class="btn-close" id="button_go_shop_detail_banner_close_mobile"><span class="_modis">오늘 하루 안보기</span>  <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/banner/btn-banner-top-close@2x.png" alt=""></button>
			</div>
		</div>
		<div class="btn_wraps _m_detail_gnb">
			<a href="javascript:mobileDetailGnb.goBackPage();" class="ui_mov_back_btn mov_top_btn">
				<img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/navigation/ic-navi-back-black-nor@2x.png" alt="">
			</a>
			<a href="javascript:mobileDetailGnb.goMainPage();" class="ui_mov_home_btn mov_top_btn">
				<img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/navigation/ic-navi-home-nor@2x.png" alt="">
			</a>
			<h1 id="detailGnbTitle"></h1>
			<a href="javascript:void(0);" class="ui_mov_search_btn mov_top_btn">
				<img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/navigation/ic-navi-search-nor@2x.png" alt="">
			</a>
		</div>
	</div>
</div>

<script>
	$(document).ready(function () {
		mobileDetailGnb.init();
	});
	$(window).on('load', function(){
		mobileDetailGnb.toggleGoShopDetailBanner(!mobileDetailGnb.isNoShowGoShopDetailBanner());
	});
	$(document).on('click', '#go_shop_detail_mobile', function() {
		mobileDetailGnb.goShopDetail();
	});
	$(document).on('click', '#button_go_shop_detail_banner_close_mobile', function() {
		mobileDetailGnb.closeShopBanner();
	});
	$('._m_detail_gnb_wrap').bind('heightChange', function(e, visible) {
		if(!isMobileOS()) {
			return;
		}
		var floatingBannerHeight = $('#go_shop_detail_banner_mobile').height();
		var detailGnbHeight = $('._m_detail_gnb').height();
		if (visible) {
			$('._m_detail_gnb').css('top',floatingBannerHeight);
			$('._m_detail_gnb_wrap').css('height', floatingBannerHeight + detailGnbHeight);

			if ($('.estimate-container')) {
				$('.estimate-container').css('top', floatingBannerHeight + detailGnbHeight);
			}
			return;
		}

		$('._m_detail_gnb').css('top', 0);
		$('._m_detail_gnb_wrap').css('height', detailGnbHeight);

		if ($('.estimate-container')) {
			$('.estimate-container').css('top', detailGnbHeight);
		}
	});
	var mobileDetailGnb = {
		data: {
			title: '',
			noShowGoShopBannerCookieName: 'GoShopDetailBannerCloseForDay'
		},
		init: function () {
			mobileDetailGnb.getTitle();
		},
		getTitle: function () {
			var title;
			if (curPageUrl.includes('/story/detail')) {
				var param = $(location).attr('search').split('&magazine_type=');
				if (param[1] === '5')
					mobileDetailGnb.title = '인테리어 트렌드 상세';
				else if (param[1] === '1')
					mobileDetailGnb.title = '인테리어 팁 상세';
				else if (param[1] === '2')
					mobileDetailGnb.title = '집닥맨 현장소식 상세';
			} else if (curPageUrl.includes('/benefit/eventDetail')) {
				mobileDetailGnb.title = '이벤트 상세';
			} else if (curPageUrl.includes('/benefit/special')) {
				mobileDetailGnb.title = '혜택 상세';
			} else if (curPageUrl.includes('/partner/detail/index/page')) {
				var param = $(location).attr('search').split('&is_relief=');
				if (param[1] === '0') {
					mobileDetailGnb.title = '지역 파트너스 상세';
				} else if (param[1] === '1') {
					mobileDetailGnb.title = '안심 파트너스 상세';
				} else if (param[1] === '4') {
					mobileDetailGnb.title = 'LG Z:IN 파트너스 상세';
				} else if (param[1] === '5') {
					mobileDetailGnb.title = '인기 파트너스 상세';
				} else if (param[1] === '2') {
					mobileDetailGnb.title = '집닥 파트너스 상세';
				}
			} else if (curPageUrl.includes('/product/detail/index/page')) {
				mobileDetailGnb.title = '종합인테리어 상세';
			} else if (curPageUrl.includes('/myInterior/myInquiryDetail')) {
				mobileDetailGnb.title = '문의내역 상세';
			} else if (curPageUrl.includes('/myPage/scrap/list/page')) {
				mobileDetailGnb.title = '스크랩북 상세';
			} else if (curPageUrl.includes('/myInterior/estimateDetail')) {
				mobileDetailGnb.title = '나의 견적/공사 상세';
			}

			mobileDetailGnb.setTitle();
		},
		setTitle: function () {
			if (curPageUrl.includes('/est/gate') || curPageUrl.includes('/est/simple') || curPageUrl.includes('/est-a/simple') || curPageUrl.includes('/est/success')) {
				$('#detailGnbTitle').text('견적 알아보기');
				return;
			}

			/* 견적 알아보기 A-B 테스트 B Case 타이틀 */
			if (curPageUrl.includes('/est-ex/simple')) {
				$('#detailGnbTitle').text('견적 알아보기');
				return;
			}

			if (curPageUrl.includes('/shop/goods/detail.do')) {
				$('#detailGnbTitle').text('상품 상세');
				return;
			}

			if (curPageUrl.includes('/shop/goods/getOrderWrite.do')) {
				$('#detailGnbTitle').text('상품 주문');
				return;
			}

			if (curPageUrl.includes('/shop/order')) {
				$('#detailGnbTitle').text('주문/결제');
				return;
			}

			if (curPageUrl.includes('/shop/cart')) {
				$('#detailGnbTitle').text('장바구니');
				return;
			}

			/* 견적 알아보기 A-B 테스트 C Case 타이틀 (origin과 동일) */
			if (curPageUrl.includes('/est-d/simple') || curPageUrl.includes('/est-e/simple')
				|| curPageUrl.includes('/est-f/simple') || curPageUrl.includes('/est-g/simple')
				|| curPageUrl.includes('/est-h/simple')) {
				$('#detailGnbTitle').text('견적알아보기');
				return;
			}

			$('#detailGnbTitle').text(mobileDetailGnb.title);
		},
		goBackPage: function () {
			var estimateBeforeButton = $('.estimate_complex_submit_btn > .back');

			if (document.location.href.includes('est/simple') && estimateBeforeButton.length > 0) {
				estimateBeforeButton.click();
				return;
			}

			document.referrer && -1 != document.referrer.indexOf(SERVICE_URL) ? history.back() : location.href = SERVICE_URL;
			
		},
		goMainPage: function () {
			location.href = SERVICE_URL;
		},
		goShopDetail: function() {
			aceCounterEvent('floating_shop_banner_click', {mobile: isMobileOS()}, (window.location.origin.slice(-1) !== '/' ? window.location.origin + '/' : window.location.origin) + 'floatingShopBannerClick');
			this.closeShopBanner();

			window.location.href = '/shop/goods/getList.do';
		},
		closeShopBanner: function() {
			var date = new Date();
			var midnight = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 23, 59, 59);

			Cookies.set(this.data.noShowGoShopBannerCookieName, true, {expires: midnight});
			this.toggleGoShopDetailBanner(false);
		},
		isNoShowGoShopDetailBanner: function() {
			if (window.location.href.indexOf('/est-ex/simple') > -1 || window.location.href.indexOf('/est-a/simple') > -1) {
				return true;
			}

			return Cookies.get(this.data.noShowGoShopBannerCookieName);
		},
		toggleGoShopDetailBanner: function(visible) {
			var floatingBanner = $('#go_shop_detail_banner_mobile');
			$("._m_detail_gnb_wrap").trigger('heightChange', visible);
			if (visible) {
				floatingBanner.slideDown('100');
				$(".floating-banner").removeClass('out');

				aceCounterEvent('floating_shop_banner_view', {mobile: isMobileOS()}, (window.location.origin.slice(-1) !== '/' ? window.location.origin + '/' : window.location.origin) + 'floatingShopBannerView');
				return;
			}

			floatingBanner.slideUp('100');
			$(".floating-banner").addClass('out')
		}
	}

</script>

  </div>
  <div id="app" ref="foo" :class="{'estimate ver02':viewType.status === 'estimate'}">
    
    <section class="estimate-container ">
      <div class="estimate-swiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <div class="text-area">
              <h2>비교 견적으로 편리하게</h2>
              <p><span class="_modis">우리동네 우수업체 견적을</span> <span class="_mshow">동네</span> 발품없이 한번에 <span class="_mshow">견적</span> 비교!</p>
            </div>
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/img-estimate-08@2x.png" class="_modis">
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/m-img-estimate-08@3x.png" class="_mshow">
          </div>
          <div class="swiper-slide">
            <div class="text-area">
              <h2>전담 플래너가 상세하게</h2>
              <p>견적서 분석부터 공사 상담까지<span class="_modis"> 전담플래너가 밀착 관리</span>!</p>
            </div>
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/img-estimate-04@2x.png" class="_modis">
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/m-img-estimate-04@3x.png" class="_mshow">
          </div>
          <div class="swiper-slide">
            <div class="text-area">
              <h2>안전하게 비용 예치</h2>
              <p>비용을 <span class="_modis">예치해 집닥에서 </span>안전하게 보호해 드려요.</p>
            </div>
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/img-estimate-03@2x.png" class="_modis">
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/m-img-estimate-03@3x.png" class="_mshow">
          </div>
          <div class="swiper-slide">
            <div class="text-area">
              <h2>집닥맨의 공사 현장케어</h2>
              <p><span class="_modis">집닥맨이 </span>공사 현장을 방문해 시공 품질 관리<span class="_modis">합니다</span></p>
            </div>
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/img-estimate-02@2x.png" class="_modis">
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/m-img-estimate-02@3x.png" class="_mshow">
          </div>
          <div class="swiper-slide">
            <div class="text-area">
              <h2>사후관리는 꼼꼼하게</h2>
              <p><span class="_modis">인테리어</span> 공사 후 3년 간의 A/S를 보장합니다.</p>
            </div>
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/img-estimate-01@2x.png" class="_modis">
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/m-img-estimate-01@3x.png" class="_mshow">
          </div>
          <div class="swiper-slide">
            <div class="text-area">
              <h2>인증된 파트너스</h2>
              <p>까다로운 기준으로 <span class="_modis">파트너스를</span>  선별했습니다.</p>
            </div>
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/img-estimate-05@2x.png" class="_modis">
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/m-img-estimate-05@3x.png" class="_mshow">
          </div>
          <div class="swiper-slide">
            <div class="text-area">
              <h2>인테리어 부문 1위</h2>
              <p>5년 연속 <span class="_modis">인테리어 부문</span> 한국 소비자 만족지수 1위!</p>
            </div>
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/img-estimate-06@2x.png" class="_modis">
            <img src="https://cf.zipdoc.co.kr/zws/res/assets/images/estimate_4_5_1/m-img-estimate-06@3x.png" class="_mshow">
          </div>


        </div>
      </div>
    </section>

    <estimate v-if="viewType.status === 'estimate'"
              v-show="!visibleIntro"
              :device-info="deviceInfo"
              :view-type="viewType"
              :estimate="estimate"
              :response="response"
              :default-estimate="defaultEstimate"
              :agreement_view="agreement_view"
              @reset-data="resetData"
              @set-response="setResponse"></estimate>
    <success v-else-if="viewType.status ==='success'"
             :device-info="deviceInfo"
             :view-type="viewType"
             :estimate="estimate"
             :response="response"
             :addr="addr"></success>
    <common-footer v-if="!checkMobile()"></common-footer>
    <term-dialog-component v-if="checkMobile()"></term-dialog-component>
  </div>
  <div class="_dimm"></div>
  

<!-- SIDE PANEL -->
<div id="sidepanel" class="" style="display:none;left:-320px;">
	<!-- close -->
	<div class="sidepanel-content">
		<h2 class="sidepanel-title">
			
			
				<a href="javascript:void(0);" onclick="gotoLoginPage();">
	                <span>
		                <strong>로그인</strong>을 해주세요
	                </span>
				</a>
			
			
		</h2>
		<div class="sidepanel_quick_menu">
			<div class="sidepanel_quick_item">
				<a href="../est/simple%EF%B9%96category_code1=10.html" class="go_estimate_m">
					<img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_v40/main/ic-drawer-quick-estimate@2x.png" alt="">
					<span>견적알아보기</span>
				</a>
			</div>
			<div class="sidepanel_quick_item">
				
					<a href="javascript:eventBus.$emit('showMobileRecent');">
						<img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_v40/main/ic-drawer-quick-latest@2x.png" alt="">
						<span>최근본공간</span>
					</a>
				
				
			</div>
			<div class="sidepanel_quick_item">
				
					<a href="../customer/faq.html">
						<img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_v40/main/ic-drawer-quick-faq@2x.png" alt="">
						<span>자주묻는질문</span>
					</a>
				
				
			</div>
		</div>
		<!-- SIDE NAV -->
		<ul class="side_nav">
			<li class="sn_group menu001">
				<div class="sng_title">
					<a class="interiorBtn" href="../product/resident/list.html">
						<span>주거공간</span>
						<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
							<g fill="none" fill-rule="nonzero" stroke="#1D1D1D" stroke-linecap="round" stroke-width="1.3">
								<path class="side-sub-path" d="M9 14h10M14 9v10"></path>
							</g>
						</svg>
					</a>
				</div>
				<ul class="sng_menu">
					<li>
						<a class="interiorBtn" href="../product/resident/list.html">
							<div class="sng_txt">종합 인테리어</div>
						</a>
					</li>
					<li>
						<a class="interiorBtn" href="../product/resident/items.html">
							<div class="sng_txt">공간별 사진</div>
						</a>
					</li>
				</ul>
			</li>
			<li class="sn_group menu002">
				<div class="sng_direct_title">
					<a class="interiorBtn" href="../product/commerce/list.html" style="background: none;">
						<span>상업공간</span>
					</a>
				</div>
			</li>
			<li class="sn_group menu003">
				<div class="sng_title">
					<a href="../partner/bestPartners/index/page.html">
						<span>파트너스</span>
						<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
							<g fill="none" fill-rule="nonzero" stroke="#1D1D1D" stroke-linecap="round" stroke-width="1.3">
								<path class="side-sub-path" d="M9 14h10M14 9v10"></path>
							</g>
						</svg>
					</a>
				</div>
				<ul class="sng_menu">
					<li>
						<a href="../partner/bestPartners/index/page.html">
							<div class="sng_txt">안심 파트너스</div>
						</a>
					</li>
					<li>
						<a href="../partner/popPartners/index/page.html">
							<div class="sng_txt">인기 파트너스</div>
						</a>
					</li>
					
					
					
					
					
					<li>
						<a href="javascript:;" class="partnersBtn">
							<div class="sng_txt">지역 파트너스</div>
						</a>
					</li>
				</ul>
			</li>
			<li class="sn_group menu004">
				<div class="sng_title">
					<a href="../story/customerOpinions.html">
						<span>집닥스토리</span>
						<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">
							<g fill="none" fill-rule="nonzero" stroke="#1D1D1D" stroke-linecap="round" stroke-width="1.3">
								<path class="side-sub-path" d="M9 14h10M14 9v10"></path>
							</g>
						</svg>
					</a>
				</div>
				<ul class="sng_menu">
					<li>
						<a href="../story/customerOpinions.html">
							<div class="sng_txt">고객 생생 후기</div>
						</a>
					</li>
					<li>
						<a href="../story/list%EF%B9%96magazineType=5.html">
							<div class="sng_txt">인테리어 트렌드</div>
						</a>
					</li>
					<li>
						<a href="../story/list%EF%B9%96magazineType=1.html">
							<div class="sng_txt">인테리어 팁</div>
						</a>
					</li>
					<li>
						<a href="../story/list%EF%B9%96magazineType=2.html">
							<div class="sng_txt">집닥맨 현장소식</div>
						</a>
					</li>
				</ul>
			</li>
			<li class="sn_group menu005">
				<div class="sng_direct_title">
					<a href="../benefit/eventList.html" style="background: none;">
						<span>이벤트</span>
					</a>
				</div>
			</li>
		</ul>

		<ul class="sidepanel-bottom _first clfix">
			
			<li><a href="../customer/faq.html">고객센터</a></li>
			
			

			<li><a href="../guide/about.html">회사소개</a></li>
			<li><a href="../partner/partnerIntro.html">파트너스 문의</a></li>
			<li><a href="javascript:redirectToAppStore();" onclick="ga_zip('send','event','앱다운로드','버튼클릭','상단앱배너_모바일','1' )">앱다운로드</a></li>
			<li>
				
					<a href="javascript:;" onclick="gotoLoginPage();">로그인</a>
				
				
			</li>
		</ul>
		<div class="sidepanel-part-site">
			<a href="https://m-part.zipdoc.co.kr/" target="_blank">
				<img src="../assets/images/zipdoc_v35/common/m-banner-part-go@2x.png">
			</a>
		</div>
		<a id="sidepanel_close" href="javascript:;"><img
			src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_common/close/ic-close-medium-white@2x.png" alt=""></a>
	</div>

</div>
<div id="_cover">
	<div class="poz_rel">
		<p>세로화면에 최적화 되어 있습니다.</p>
	</div>
</div>

  

<!-- MOBILE SEARCH ELEMENT -->
<div id="mobile_favorite_keyword" style="display:none">
    <div class="search_input_wrap">
        <form id="searchMobileForm" action="javascript:onSubmitMobile();">
            <input id="mobileSearchValue" type="search" title="검색어를 입력해주세요." autocorrent="off" autocapitalize="off" placeholder="검색어를 입력해주세요."
                   autocomplete="off"/>
        </form>
        <a href="javascript: void(0);" class="mobileSearchValDelBtn" id="mobileSearchValDelBtn">
            <span><img src="https://cf.zipdoc.co.kr/zws/res/assets/images/zipdoc_v35/common/btn-close@2x.png"> 입력 내용 삭제</span>
        </a>
        <a href="javascript: void(0);" class="btn_search_close"><span>취소</span></a>
        
    </div>
    <div id="resident_keyword" class="favorite_keyword_wrapper">
        <strong>주거 인기 태그</strong>
        <div>
            <ul></ul>
        </div>
    </div>
    <div id="commerce_keyword" class="favorite_keyword_wrapper">
        <strong>상업 인기 태그</strong>
        <div>
            <ul></ul>
        </div>
    </div>
</div>
<script>
  $(document).ready(function () {
    mobileSearch.init();
  });
  $(document).on('click', '.ui_mov_search_btn', function () {
      mobileSearch.setKeyword();
  });

  $('#mobileSearchValue').keyup(function(){
    $("#mobileSearchValDelBtn").toggle(Boolean($(this).val()));
  });

  $('#mobileSearchValDelBtn').toggle(Boolean($('#mobileSearchValue').val()));
  $('#mobileSearchValDelBtn').click(function(){
    $("#mobileSearchValue").val('').focus();
    $(this).hide();
  });


  var mobileSearch = {
    init      : function () {
    },
    setData   : function () {
      mobileSearch.setKeyword();
    },
    setKeyword: function () {
      if (zipAxios) {
        zipAxios.get('/acs3/search/complex/tag?category=0').then(function (response) {
          var keywordPanel = '';
          $.each(response.data.tags, function (index, value) {
            if (index === 0)
              keywordPanel = $("#resident_keyword ul");
            else if (index === 1)
              keywordPanel = $("#commerce_keyword ul");

            keywordPanel.html('');
            $.each(value.tag, function (ind, val) {
              keywordPanel.append('<li><a href="javascript:goTopSearch(\'' + val + '\');"><span> # ' + val + '</span></a></li>');
            });
          });
        }).catch(function (error) {
          zlog(error);
        });
      }
    }
  }
</script>

</div>

</body>


<!-- 201810 리뉴얼 ui용 스크립트js -->
<script type="text/javascript" src="https://cf.zipdoc.co.kr/zws/res/assets/js/common_ui.js?v=202101131126"></script>

<!-- Google Analytics -->
<script>
    /*
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga_zip');
    */
    function ga_zip(){}

    // op
    ga_zip('create', 'UA-62765077-1', 'auto');

    // qa
    // ga_zip('create', 'UA-62765077-2', 'auto');

    ga_zip('send', 'pageview');
</script>
<!-- End Google Analytics -->

<!-- kakao AD -->
<script type="text/javascript">//<![CDATA[var roosevelt_params = { retargeting_id: 'bP-Trsu2HSkF.3FLhaVPuQ00', tag_label: 'D1sle8cERT51BqwxXVnAC6nuxPo' };//]]>
</script>
<script type="text/javascript" src="https://adimg.daumcdn.net/rt/roosevelt.js" async>
</script>
<!-- kakao AD end -->

<!-- 네이버 분석스크립트, 공통 적용 스크립트 , 모든 페이지에 노출되도록 설치. 단 전환페이지 설정값보다 항상 하단에 위치해야함 -->
<script type="text/javascript" src="https://wcs.naver.net/wcslog.js"></script>
<script type="text/javascript">
    if (!wcs_add) var wcs_add={};
    wcs_add["wa"] = "s_1f0d9129f3b8";
    if (!_nasa) var _nasa={};
    wcs.inflow();
    wcs_do(_nasa);
</script>

<!-- AceCounter Log Gathering Script V.7.5.2013010701 -->
<script language='javascript'>
    var _AceGID=(function(){var Inf=['gtp5.acecounter.com','8080','AH5A40824767704','AW','0','NaPm,Ncisy','ALL','0']; var _CI=(!_AceGID)?[]:_AceGID.val;var _N=0;var _T=new Image(0,0);if(_CI.join('.').indexOf(Inf[3])<0){ _T.src =( location.protocol=="https:"?"https://"+Inf[0]:"http://"+Inf[0]+":"+Inf[1]) +'/?cookie'; _CI.push(Inf);  _N=_CI.length; } return {o: _N,val:_CI}; })();
    var _AceCounter=(function(){var G=_AceGID;if(G.o!=0){var _A=G.val[G.o-1];var _G=( _A[0]).substr(0,_A[0].indexOf('.'));var _C=(_A[7]!='0')?(_A[2]):_A[3];	var _U=( _A[5]).replace(/\,/g,'_');var _S=((['<scr','ipt','type="text/javascr','ipt"></scr','ipt>']).join('')).replace('tt','t src="'+location.protocol+ '//cr.acecounter.com/Web/AceCounter_'+_C+'.js?gc='+_A[2]+'&py='+_A[4]+'&gd='+_G+'&gp='+_A[1]+'&up='+_U+'&rd='+(new Date().getTime())+'" t');document.writeln(_S); return _S;} })();
</script>
<noscript><img src='http://gtp5.acecounter.com:8080/?uid=AH5A40824767704&amp;je=n&amp;' border='0' width='0' height='0' alt=''></noscript>
<script>
    var buildUrl = function(uri) {
        if (!uri) {
          uri = window.location.href;
        }

        if (uri.slice(-1) === '/') {
          uri = uri.slice(0, -1);
        }

        return uri;
    };

    var aceCounterEvent = function(eventName, object, uri) {
      try{
        var paramObject = $.extend(true, {}, {eventName: eventName}, object);

        uri = buildUrl(uri) + '?' + $.param(paramObject);

        _PL(uri);
      } catch (e) {
        console.log(e);
      }
    };
</script>
<!-- AceCounter Log Gathering Script End -->

<!-- WIDERPLANET  SCRIPT START 2018.5.30 -->
<div id="wp_tg_cts" style="display:none;"></div>
<script type="text/javascript">
    var deviceStr = "web";
    if ( isMobileOS() ){
        deviceStr = "mobile";
    }

    var wptg_tagscript_vars = wptg_tagscript_vars || [];
    wptg_tagscript_vars.push(
        (function() {
            return {
                wp_hcuid:"",   /*고객넘버 등 Unique ID (ex. 로그인  ID, 고객넘버 등 )를 암호화하여 대입.
				*주의 : 로그인 하지 않은 사용자는 어떠한 값도 대입하지 않습니다.*/
                ti:"41216",	/*광고주 코드 */
                ty:"Home",	/*트래킹태그 타입 */
                device:deviceStr	/*디바이스 종류  (web 또는  mobile)*/

            };
        }));
</script>
<script type="text/javascript" async src="https://cdn-aitg.widerplanet.com/js/wp_astg_4.0.js"></script>
<!-- // WIDERPLANET  SCRIPT END 2018.5.30 -->


<script>
  new Vue({
    el: "#app",
    mixins: [linkUrlMixin],
    data: function () {
      var categoryTypeParameter = this.getParameterByName('category_code1');
      var categoryType = categoryTypeParameter && categoryTypeParameter === CATEGORTY1.COMMERCE.value ? CATEGORTY1.COMMERCE : CATEGORTY1.RESIDENT;

      var defaultEstimate = $.extend(true, {}, estimateData.defaultData, {
        category_code1: categoryType.value,
        category_code2: '',
        schd_construction: '',
        referer: 'https://zipdoc.co.kr/est-a/simple?category_code1=10',
        first_visit_url: '/est-a/simple?category_code1=10',
        media_no: '',
        promotion_code: '',
        landing_page: '3'
      });

      return {
        isPopState: false,
        deviceInfo: {
          isAppUser: false,
          os_type: isMobileOS() ? 'mobile' : 'pc'
        },
        visibleIntro: false,
        viewType: {
          status: 'estimate',
          step: 1,
          phase: 1,
          type: categoryType.name
        },
        agreement_view: {
          agreement_all: true,
          agreement_person: true,
          agreement_third_party: true,
          agreement_marketing: true
        },
        response: {
          writer: '',
          phone_no: '',
          estimate_no: 0
        },
        addr: '',
        defaultEstimate: $.extend(true, {}, defaultEstimate),
        estimate: $.extend(true, {}, defaultEstimate, {
          concept_pid: ''
        }),
        swiper: null
      }
    },
    computed: {
      computedViewType: function () {
        return $.extend(true, {}, this.viewType);
      }
    },
    watch: {
      computedViewType: {
        deep: true,
        handler: function (n, o) {
          if (JSON.stringify(n) !== JSON.stringify(o) && !this.isPopState) {
            if (n.phase > o.phase || n.type !== o.type) {
              history.pushState({viewType: n}, '견적 신청', location.pathname + location.search);
            }
          }

          if (this.isPopState) {
            this.isPopState = false;
          }

          if (this.viewType.status === 'estimate' && this.viewType.step === 1) {
            aceCounterEvent('move', {category: this.viewType.type, device: this.deviceInfo.os_type, step: this.viewType.phase + 1});
            setSessionStorage('estimateData', {
              viewType: this.viewType,
              addr: this.addr,
              estimate: this.estimate
            });
          }
        }
      },
      viewType: {
        deep: true,
        handler: function (viewType) {
          this.computedViewType = viewType;
        }
      },
      'viewType.phase': function (toPhase, fromPhase) {
        if (toPhase === 0) {
          this.openIntro();
        }

        if (toPhase === 1) {
          this.closeIntro();
        }

        if (toPhase > fromPhase) {
          this.slideNext();
        }

        if (toPhase < fromPhase) {
          this.slidePrev();
        }

      }
    },
    mounted: function () {
      this.swiper = new Swiper('.estimate-swiper', {
        slidesPerView: 1,
        centeredSlides: true,
        zoom: true,
        allowTouchMove: false
      });
    },
    components: {
      'estimate-intro': estimateIntro,
      'estimate': estimate,
      'success': success
    },
    created: function () {
      var loadMode = this.initializeLoadMode();
      if (loadMode === 'EstimateParseError') {
        alert("견적신청 성공하였으나 결과페이지를 정상적으로 구성할 수 없습니다.");
        return;
      }

      if (loadMode === 'EstimateTry') {
        // this.openIntro();
        var category_code2 = this.getParameterByName('category_code2');

        if (category_code2 && category_code2 !== '') {
          this.estimate.category_code2 = category_code2;
        }

        if (isMobileOS()) {
          this.estimate.channel_sub_code = 11;
          this.defaultEstimate.channel_sub_code = 11;
        }

        aceCounterEvent('create', {category: this.viewType.type, device: this.deviceInfo.os_type, step: this.viewType.phase + 1});
        history.pushState({viewType: this.viewType}, '견적 신청', location.pathname + location.search);

        var _this = this;
        window.onpopstate = function (event) {
          _this.isPopState = true;

          if (null == event.state) {
            if (_this.viewType.phase > 1) {
              _this.viewType.phase = _this.viewType.phase - 1;
            } else {
              history.back();
            }

            _this.isPopState = false;
          }

          if (event.state && event.state.viewType) {
            _this.viewType = event.state.viewType;
          }
        };

        this.sendRequestViewedAppierEvent(this.estimate);
      }
    },
    methods: {
      closeIntro: function () {
        $('html, body').scrollTop(0);
        this.visibleIntro = false;
      },
      openIntro: function () {
        this.visibleIntro = true;
      },
      resetData: function (type, category_code1, category_code2) {
        this.estimate = $.extend(true, {}, this.defaultEstimate);
        this.viewType.type = type;
        this.estimate.category_code1 = category_code1;
        this.estimate.category_code2 = category_code2;

        // 이 스타일로 보기 예외 처리
        if (commonUtils.getURLParameter('pid')) {
          if (commonUtils.getURLParameter('category_code1') && category_code1 === commonUtils.getURLParameter('category_code1')) {
            this.estimate.concept_pid = commonUtils.getURLParameter('pid');
            return;
          }

          this.estimate.concept_pid = '';
        }
      },
      initializeLoadMode: function () {
        var estimateSuccess = '' === 'true';

        if (estimateSuccess) {
          try {
            var json = JSON.parse(''.replace(/\r/gi, '\\r').replace(/\n/gi, '\\n'));
            this.estimate = json.estimate;
            this.viewType = json.viewType;
            this.defaultEstimate = json.defaultEstimate;
            this.setResponse(json.response);

            var criteoSalesProduct = json.estimate.criteo_sales_product;

            if (criteoSalesProduct) {
              sendCriteoEventAfterEstimateFirstReg(json.estimate, criteoSalesProduct);
            }

            sendAppierEventAfterEstimateFirstReg(json.estimate);

            return "EstimateSuccess";
          } catch (e) {
            zlog(e);
            return 'EstimateParseError';
          }
        }

        return "EstimateTry";
      },
      setResponse: function (res) {
        this.response = res;
        this.viewType.status = 'success';
        if (res.address_type) {
          if (this.response.address_type === 'R') {
            this.addr = this.response.road_address + ' ' + this.response.address_detail
          } else if (this.response.address_type === 'J') {
            this.addr = this.response.address + ' ' + this.response.address_detail
          }
        }
      },
      getParameterByName: function (name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
            results = regex.exec(location.search);
        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
      },
      sendRequestViewedAppierEvent: function () {
        if (!this.estimate.concept_pid || this.estimate.concept_pid === '') {
          sendAppierEvent("quotation_request_viewed");
          this.alreadySendAppier = true;
          return;
        }

        if (eventBus) {
          eventBus.$on("fire_receive_concept_product", this.onReceiveConceptProduct);
          eventBus.$on("fire_receive_concept_product_error", this.onReceiveErrorConceptProduct);
        }
      },
      onReceiveConceptProduct: function (concept_product) {
        this.estimate.concept_product = concept_product;
        if (this.alreadySendAppier) {
          return;
        }

        if (concept_product && concept_product.pid) {
          sendAppierEvent("quotation_request_viewed", {
            "product_id": concept_product.pid,
            "interior_name": concept_product.subject,
            "interior_image_url": concept_product.thumbnail_url,
            "interior_size": concept_product.space,
            "interior_budget": concept_product.price,
            "interior_url": concept_product.share_url,
            "hash_tag": (concept_product.tag_list && concept_product.tag_list.length) ? concept_product.tag_list.join(",") : undefined
          });
          this.alreadySendAppier = true;
          return;
        }

        sendAppierEvent("quotation_request_viewed");
      },
      onReceiveErrorConceptProduct: function () {
        if (!this.alreadySendAppier) {
          sendAppierEvent("quotation_request_viewed");
          this.alreadySendAppier = true;
        }
      },
      slideNext: function () {
        this.swiper.slideNext();
      },
      slidePrev: function () {
        this.swiper.slidePrev();
      }
    }
  });

  function changeGnb(page) {
    if (!checkMobile()) {
      return;
    }

    if (page === 'success') {
      $('#commonGnb').removeClass('_modis');
      $('#detailGnb').removeClass('_mshow').hide();
      return;
    }

    $('#app').css({'top': 0});
    $('#commonGnb').addClass('_modis');
    $('#detailGnb').addClass('_mshow').show();
  }

  $(window).scroll(function () {
    var scroll = $(window).scrollTop();
    if (scroll >= 50) {
      $(".bar_area").addClass("hide");
    } else {
      $(".bar_area").removeClass("hide");
    }
  });
</script>


<div id="wp_tg_cts" style="display:none;"></div>
</html>
